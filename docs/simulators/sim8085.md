# sim8085 (debjitbis08/sim8085)

## Summary
- Type: Web app (Astro/TS) with a C-based 8085 core compiled via Emscripten.
- License: BSD-3-Clause.
- Core location: `src/core/8085.c`.

## Core/Architecture
- Single-file C core with `State8085` struct, `Emulate8085Op`, and `Disassemble8085Op`.
- Exposes some API via `EMSCRIPTEN_KEEPALIVE` (timing, stats). Uses `emscripten.h` for sleep.
- JS side wraps the wasm (`src/core/simulator.js`, `simulator-library.js`).

## Completeness Notes
- Instruction switch covers full opcode range (includes RIM/SIM cases).
- Interrupt masking and TRAP/RST state appear implemented (pending flags and masks in state).
- Includes timing mode and total T-states tracking.

## Extractability / CLI Potential
- Best candidate for an isolated CLI core.
- Core is mostly self-contained; only Emscripten bits to stub/guard for native build.
- We can compile `8085.c` into a small C library and add a thin CLI harness:
  - Provide memory + IO arrays
  - Load binary, set PC, step/run, dump regs/flags

## Risks / Costs
- Requires small refactor to remove `emscripten.h` dependency for native builds (easy to `#ifdef EMSCRIPTEN`).
- Core is a single file; may need to split for unit tests.
