inU

MCS-80/85™ FAMILY

USER’S MANUAL

OCTOBER 1979

The following are trademarks of Intel Corporation and may be used only to describe Intel products: Intel, Insite, Intellec, Library Manager,
Megachassis, Micromap, Multibus, PROMPT, RMX/80, UPI, Intelevision, ,<Scope, Promware, MCS, ICE. iSBC, BXP, iCS, and the combination of
MCS, ICE, iSBC or iCS with a numerical suffix.

MCS-85'User’s Manual
Table of Contents

CHAPTER 1
Parti: Introduction to the Functions of a Computer

1-1

Part 2: Introduction to MCS-85™

1-6

CHAPTER 2
2- 1

Functional Description

CHAPTER 3
3-1

System Operation and Interfacing

CHAPTER 4
4-1

The 8080 Central Processor Unit

CHAPTERS
5-1

The Instruction Set

5-19

Instruction Set Index

CHAPTER 6
DEVICE SPECIFICATIONS
MCS-85
8085A/8085A-2 8-Bit M icroprocessor

6-1

8155/8156/8155-2/8156-2 RAM/IO/Counter-Timer

6-17

8185/8185-2 RAM

6-32

8355/8355-2 ROM/IO

6-37

8755A/8755A-2 EPROM/IO

6-45

MCS-80
8080A/8080A-1/8080A-2 8-Bit Microprocessor

6-56

8224 Clock Generator and Driver
8228/8238 System Controller and Bus Driver
8801 Clock Generator Crystal

6-64

System Support Components
8205 High-Speed 1 Out of 8 Binary Decoder

6-68
6-72

6-74
6-80

8212 8-Bit Input/Output Port
8218/8219 Bi-polar Microcomputer Bus Controllers
8237/8237-2 High Performance Programmable DMA Controller

6-90
6-101

8257/8257-5 Programmable DMA Controller

6-115

8259A/8259A-2/8259A-8 Programmable Interrupt Controller

6-132

8282/8283 Octal Latch
8286/8287 Octal Bus Transceiver

6-150
6-154

iii

Table of Contents (Continued)
Peripherals*

8041 A/8641 A/8741 A Universal Peripheral Interface

8202 Dynamic RAM Controller
8251 A Programmable Communication Interface
8253/8253-5 Programmable Interval Timer
8255A/8255A-5 Programmable Peripheral Interface
8271 Programmable Floppy Disk Controller
8272 Single/Double Density Floppy Disk Controller
8273 Programmable HDLC/SDLC Protocol Controller
8275 Programmable CRT Controller

6-158
6-159
6-160
6-161

6-162
6-163
6-164
6-165

6-166

8279/8279-5 Programmable Keyboard/Display Interface

6-167

8291 GPIB Talker/Listener

6-168

8292 GPIB Controller
8293 GPIB Transceiver
8294 Data Encryption Unit
8295 Dot Matrix Printer Controller

6-169
6-170
6-171

6-172

Static RAMs

2114A 1024 x 4 Bit Static RAM

6-173

2141 4096 x 1 Bit Static RAM

6-174

2142 1024 x 4 Bit Static RAM
2148 1024 x 4 Bit Static RAM

6-175
6-176

ROMs/EPROMs
2716 16K(2Kx 8) UV Erasable PROM
2732 32K(4Kx 8) UV Erasable PROM
2758 8K (IKx 8) UV Erasable Low Power PROM
3604A, 3624A 4K (512 x 8) High-Speed PROM

6-183

3605A, 3625A 4K (1 K x 4) PROM

6-184

36288K(1Kx 8) Bipolar PROM
3636 16K(2Kx 8) Bipolar PROM

6-190

6-177
6-178
6-182

6-187

CHAPTER 7

DEVELOPMENT AIDS
ICE-80™ MCS-80™ In-Circuit Emulator
UPP-103 Universal PROM Programmer
Intellec® Microcomputer Development System Model 220
Intellec® Microcomputer Development System Model 230
Diskette Operating System
PL/M-80 High Level Programming Language Intellec®
Resident Computer
ICE-85™ MCS-85™ In-Circuit Emulator
SDK-85 MCS-85™ System Design Kit
Fortran-80 8080/8085 ANS Fortran 77 Intellec® Resident Compiler
Basic-80 Extended ANS 1978 Basic Intellec® Resident Interpreter
ICIS-Cobol™ Software Package
ISIS-II

7-1

7-7
7-9

7-13
7-17
7-20
7-23
7-27

7-33
7-37
7-40

APPENDIX
Applications of MCS-85™

A1-1

‘This section contains partial data sheets. For complete details, refer to the Intel Peripheral Design Handbook

iv

CHAPTER 1
INTRODUCTION TO
PART
THE FUNCTIONS OF A COMPUTER
1:

This chapter introduces certain basic computer con-

peripheral storage device, such as a floppy disk unit, or the

provides background information and definitions

which will be useful in later chapters of this manual. Those

output may constitute process control signals that direct the
operations of another system, such as an automated assembly

already familiar with computers may skip this material, at

line.

their option.

input and output ports together permit the processor to

cepts.

It

Like input ports, output ports are addressable. The

communicate with the outside world.

A TYPICAL COMPUTER SYSTEM

The CPU unifies the system. It controls the functions
performed by the other components. The CPU must be able
to fetch instructions from memory, decode their binary

A typical digital computer consists of:
b)

A central processor unit (CPU)
A memory

c)

Input/output (I/O) ports

a)

contents and execute them. It must also be able to reference
memory and I/O ports as necessary in the execution of instructions. In addition, the CPU should be able to recognize

The memory serves as a place to store Instructions,

and respond to certain external control

the coded pieces of information that direct the activities of

INTERRUPT

and

the CPU, and Data, the coded pieces of information that are

within a CPU

that enable

WAIT

requests.
it

units

to perform these functions are

processed by the CPU.

A group of logically related instructions stored in memory is referred to as a Program. The CPU

described below.

"reads" each instruction from memory in a logically deter-

THE ARCHITECTURE OF A CPU

mined sequence, and uses it to initiate processing actions.
If the program sequence is coherent and logical, processing

such as

signals,

The functional

A typical central processor unit (CPU) consists of the
following interconnected functional units:

the program will produce intelligible and useful results.

The memory is also used to store the data to be manipulated, as well as the instructions that direct that manipu-

The program must be organized such that the CPU
does not read a non-instruction word when it expects to

•

Registers

•

Arithmetic/Logic Unit (ALU)

•

Control Circuitry

lation.

see an

instruction.

Registers are temporary storage units within the CPU.

Some registers, such as the program counter and instruction

The CPU can rapidly access any data

have dedicated uses. Other registers, such as the ac-

stored in memory; but often the memory is not large enough

register,

to store the entire data bank required for a particular appli-

cumulator, are for more general purpose use.

cation. The

problem can be resolved by providing the com-

Accumulator:

puter with one or more Input Ports. The CPU can address
these ports and input the data contained there. The addition

The accumulator usually stores one of the operands

of input ports enables the computer to receive information

to be manipulated by the ALU. A typical instruction might

from external equipment (such as a paper tape reader or
floppy disk) at high rates of speed and in large volumes.

direct the

accumulator

A computer also requires one or more Output Ports
that permit the CPU to communicate the result of

its

that

pro-

a

line-printer,

In

general, the accumulator

is

both

a

Often

a

CPU will

include a

number

of additional

general purpose registers that can be used to store operands

by a human operator, to a peripheral device

produces "hard-copy," such as

itself.

source (operand) and a destination (result) register.

cessing to the outside world. The output may go to a display, for use

ALU to add the contents of some other register to

the contents of the accumulator and store the result in the

to a

or

1-1

intermediate data.

The

availability of general

purpose

registers eliminates the

need to "shuffle" intermediate re-

cessor loads the address specified in the Call into

back and forth between memory and the accumulator,

sults

its

Pro-

gram Counter. The next instruction fetched will therefore

thus improving processing speed and efficiency.

be the first step of the subroutine.

The last instruction in any subroutine is a Return. Such
an instruction need specify no address. When the processor

Program Counter (Jumps, Subroutines
and the Stack):

fetches a Return instruction, it simply replaces the current
contents of the Program Counter with the address on the
top of the stack. This causes the processor to resume execu-

The instructions that make up a program are stored
in the system's memory. The central processor
references
the contents of memory, in order to determine what action

appropriate. This means that the processor must
which location contains the next instruction.
is

tion of the calling program at the point immediately follow-

know

ing the original Call Instruction.

Subroutines are often Nested; that is, one subroutine

Each of the locations in memory is numbered, to distinguish

it

will

from all other locations in memory. The number

sometimes call

call a third,

which identifies a memory location is called its Address.

a second subroutine. The second may
and so on. This is perfectly acceptable, as long

as the processor has enough capacity to store the necessary

The processor maintains a counter which contains the

return addresses, and the logical provision for doing so. In

address of the next program instruction. This register is
called the Program Counter. The processor updates the pro-

other words, the maximum depth of nesting is determined

gram counter by adding "1" to the counter each time it
fetches an instruction, so that the program counter is always

storing three return addresses, then three levels of subrou-

by the depth of the stack itself. If the stack has space for
tines may be accommodated.

current (pointing to the next instruction).

Processors have different ways of maintaining stacks.

The programmer therefore stores his instructions in

Some have facilities for the storage of return addresses built

numerically adjacent addresses, so that the lower addresses
contain the first instructions to be executed and the higher

area of external memory as the stack and simply maintain a

addresses contain later instructions. The only time the programmer may violate this sequential rule is when an instruc-

recent stack entry.

tion

in

one section of memory

is

a

into the

stored

in

is

to follow

it.

stack or "popped" off the stack via the address stored in the
stack

any memory location, as long as the programmed

pointer,

multi-level

later in this chapter)

jump specifies the correct address. During the execution of

(i.e.,

a jump instruction, the processor replaces the contents of its
in

The external stack allows virtually un-

vides instructions that cause the contents of the accumulator
and other general purpose registers to be "pushed" onto the

The next instruction may be

program counter with the address embodied

Other processors use a reserved

limited subroutine nesting. In addition, if the processor pro-

Jump instruction to

A jump instruction contains the address of the instrucwhich

itself.

Pointer register which contains the address of the most

another section of memory.

tion

processor

is

the contents of all the registers) can be saved

stack when an interrupt

the Jump.

interrupt processing (described

possible. The status of the processor

is

in the
accepted and then restored after

the interrupt has been serviced. This ability to save the pro-

Thus, the logical continuity of the program is maintained.

cessor's status at any given time

A special kind of program jump occurs when the stored

is

possible even if an inter-

rupt service routine, itself, is interrupted.

program "Calls" a subroutine. In this kind of jump, the processor

is

required to "remember" the contents of the pro-

gram counter at the time that the jump occurs. This enables

Instruction Register and Decoder:

the processor to resume execution of the main program

Every computer has a Word Length that is characteris-

when it is finished with the last instruction of the subroutine.

A computer's word length is usually
determined by the size of its internal storage elements and
tic

A Subroutine is a program within a program. Usually
it is a general-purpose set of instructions
that must be executed repeatedly in the course of a main program. Routines

a

which calculate the square, the sine, or the logarithm of a

fer

of that machine.

interconnecting paths (referred to as Busses); for example,

computer whose registers and busses can store and trans8 bits of information has a characteristic word length of

program variable are good examples of functions often
written as subroutines. Other examples might be programs

eight-bit parallel processor generally finds

designed for inputting or outputting data to a particular

to deal with eight-bit binary fields,

8-bits

peripheral device.

The processor has

is

referred to as an 8-bit parallel processor. An

ciated with such a processor
a

special

way of

is

it

most efficient

and the memory asso-

therefore organized to store

memory location. Data and
instructions are stored in memory as eight-bit binary num-

eight bits in each addressable

handling sub-

routines, in order to insure an orderly return to the

program.

and

main

bers, or as

When the processor receives a Call instruction, it

increments the Program Counter and stores the counter's
contents in a reserved memory area known as the Stack.

1

is

The Stack thus saves the address of the instruction to be

numbers that are integral multiples of eight bits:

6 bits, 24 bits, and so on. This characteristic eight-bit field
often referred to as a Byte.

Each operation that the processor can perform is
by a unique byte of data known as an Instruction

executed after the subroutine is completed. Then the pro-

identified

1-2

performs the arithmetic and logical operations on the binary

Code or Operation Code. An eight-bit word used as an instruction code can distinguish between 256 alternative
actions, more than adequate for most processors.

data.

The ALU must contain an Adder which is capable of
combining the contents of two registers in accordance with

The processor fetches an instruction in two distinct
operations. First, the processor transmits the address in

the logic of binary arithmetic. This provision permits the

its

processor to perform arithmetic manipulations on the data

Program Counter to the memory. Then the memory returns

The CPU stores this
known as the Instruction

it

the addressed byte to the processor.
instruction

byte

in

register

a

obtains from memory and from its other inputs.

Using only the basic adder a capable programmer can

Register, and uses it to direct activities during the remainder

write routines which will subtract, multiply and divide, giv-

of the instruction execution.

ing the machine complete arithmetic capabilities. In practice,

however, most ALUs provide other built-in functions, including hardware subtraction, boolean logic operations, and

The mechanism by which the processor translates an
instruction code into specific processing actions requires

shift capabilities.

more elaboration than we can here afford. The concept,

The ALU contains

however, should be intuitively clear to any logic designer.

Flag Bits which specify certain

the course of arithmetic and logical

The eight bits stored in the instruction register can be decoded and used to selectively activate one of a number of
output lines, in this case up to 256 lines. Each line repre-

conditions that arise

sents a set of activities associated with execution of a par-

tionally dependent on the status of one or more flags. Thus,

in

manipulations. Flags typically include Carry, Zero, Sign, and
Parity. It is possible to program jumps which are condi-

ticular instruction code. The enabled line can be combined

for example, the

program may be designed to jump to a

with selected timing pulses, to develop electrical signals that

special routine

the carry bit is set following an addition

can then be used to

initiate specific actions.

tion of code into action

is

This transla-

if

instruction.

performed by the Instruction

Decoder and by the associated control circuitry.

Control Circuitry:

An eight-bit instruction code is often sufficient

to

The control circuitry is the primary functional unit
a CPU. Using clock inputs, the control circuitry

specify a particular processing action. There are times, how-

within

ever, when execution of the instruction requires more infor-

maintains the proper sequence of events required for any

mation than eight bits can convey.

processing task. After an instruction is fetched and decoded,

One example of this is when the instruction references a memory location. The basic instruction code iden-

the control circuitry issues the appropriate signals (to units

tifies

both internal and external to the CPU) for initiating the
proper processing action. Often the control circuitry will be

the operation to be performed, but cannot specify

capable of responding to external signals, such as an interrupt or wait request. An Interrupt request will cause the

the object address as well. In a case like this, a two- or three-

byte instruction must be used. Successive instruction bytes
are stored in sequentially adjacent memory locations,

and

control

circuitry to temporarily

interrupt

main program

execution, jump to a special routine to service the interrupt-

the processor performs two or three fetches in succession to

The first byte retrieved from

ing device, then automatically return to the main program.

memory is placed in the processor's instruction register, and

A Wait request is often issued by a memory or I/O element

subsequent bytes are placed in temporary storage; the processor then proceeds with the execution phase. Such an

will idle the

instruction is referred to as Variable Length.

the data.

obtain the

instruction.

full

that operates slower than the

Address Register(s):

data.
are

If

There are certain operations that are basic to almost

memory location that is to be accessed for

any computer. A sound understanding of these basic operations is a necessary prerequisite to examining the specific

the address register is Programmable, (i.e., if there

instructions that allow the

programmer

to alter the

operations of a particular computer.

contents of the register) the program can "build" an address in the address register prior to executing a Memory

Reference instruction

(i.e.,

circuitry

COMPUTER OPERATIONS

A CPU may use a register or register-pair to hold the
address of a

CPU. The control

CPU until the memory or I/O port is ready with

Timing:

an instruction that reads data

The activities of the central processor are cyclical. The

from memory, writes data to memory or operates on data
stored in memory).

processor fetches an instruction, performs the operations
required, fetches the

next instruction, and so on. This

orderly sequence of events requires precise timing, and the

Arithmetic/Logic Unit (ALU):

CPU therefore requires a free running oscillator clock which
furnishes the reference for all processor actions. The com-

All processors contain an arithmetic/logic unit, which
is

ALU, as its

bined fetch and execution of a single instruction is referred

that portion of the CPU hardware which

to as an Instruction Cycle. The portion of a cycle identified

often referred to simply as the ALU. The

name implies,

is

1-3

with a clearly defined activity is called a State. And the inter-

had time to respond,

between pulses of the timing oscillator is referred to as a

val

it

frees the processor's

READY line,

and the instruction cycle proceeds.

Clock Period. As a general rule, one or more clock periods
are necessary for the completion of a state,

and there are

Input/Output:

several states in a cycle.

Input and Output operations are similar to memory
read and write operations with the exception that a peri-

Instruction Fetch:

The

state(s)

first

of any

pheral I/O device is addressed instead of a memory location.
instruction cycle will

be

The CPU

dedicated to fetching the next instruction. The CPU issues a
read signal and the contents of the program counter are sent

If

Data can be input/output

the instruction consists of more than

of bits; each bit
sists

CPU, the program counter is incremented (in prepara-

in

in

either a one or a zero. Parallel I/O conall

line. Serial

bits in the

word at the same time,

I/O consists of transferring one bit

is

at

a

time on

slower, but

the remaining states of the instruction cycle.

it

a

single

line.

Naturally

I/O

serial

is

much

requires considerably less hardware than does

parallel I/O.

The instruction may call for a memory read or write, an
input or output and/or an internal

is

of transferring

one bit per

decoded. The operation specified in the instruction will be
executed

in either parallel or serial

binary coded form. A binary data word consists of a group

of the instruction. When the entire instruction is present in
the

input or output control

form. All data within a digital computer is represented

one byte, additional states are required to fetch each byte

tion for the next instruction fetch) and the instruction

the appropriate

the data being input or sends the data to be output.

memory, which responds by returning the next instruction word. The first byte of the instruction is placed in the
to

instruction register.

issues

sends the proper device address and either receives

signal,

CPU operation, such as

a register-to-register transfer or an add-registers operation.

Interrupts:

Memory Read:

means of improving the processor's efficiency. Consider the case of a computer that is processing a
large volume of data, portions of which are to be output

Interrupt

An instruction fetch is merely a special memory read
operation that brings the instruction to the CPU's instruction register.

The CPU can output a byte of data within a
machine cycle but it may take the printer the equiva-

single

lent of

a read signal and sends the proper memory address; memory

many machine cycles to actually print the character

specified

responds by returning the requested word. The data received is placed in the accumulator or one of the other gen-

by the data byte. The CPU could then remain idle

waiting until the printer can accept the next data byte.

CPU can output a data byte then return to data processing.
When the printer is ready to accept the next data byte, it
can request an interrupt. When the CPU acknowledges the

A memory write operation is similar to a read except
the direction of data flow.

signal, sends the proper

The CPU

interrupt,

it

suspends main program execution and auto-

issues a write

matically branches to a routine that will output the next

memory address, then sends the data

data byte. After the byte is output, the CPU continues
with main program execution. Note that this is, in principle,

word to be written into the addressed memory location.

quite similar to a subroutine

oscillator.

except that the jump is

More complex interrupt structures are possible, in
which several interrupting devices share the same processor

As previously stated, the activities of the processor
timed by a master clock

call,

initiated externally rather than by the program.

Wait (memory synchronization):

are

If

an interrupt capability is implemented on the computer, the

purpose registers (not the instruction register).

Memory Write:
for

many central

to a printer.

The instruction fetched may then call for data

to be read from memory into the CPU. The CPU again issues

eral

provisions are included on

processors, as a

The clock period

but have different priority levels. Interruptive processing is
an important feature that enables maximum untilization of

determines the timing of all processing activity.

The speed of the processing cycle, however, is limited
by the memory's Access Time. Once the processor has sent a

a processor's capacity for high system throughput.

read address to memory, it cannot proceed until the memory

has had time to respond.

Hold:

Most memories are capable of

much faster than the processing cycle requires.

Another important feature that improves the through-

A few, however, cannot supply the addressed byte within

put of a processor is the Hold. The hold provision enables

the minimum time established by the processor's clock.

Direct Memory Access (DMA) operations.

responding

Therefore

a

processor should contain a synchroniza-

In ordinary input and output operations, the processor

tion provision, which permits the memory to request a Wait
state.

itself

When the memory receives a read or write enable sig-

nal, it places a request signal on the processor's

supervises the entire data transfer. Information to be

placed in memory is transferred from the input device to the

READY line,

processor, and then

causing the CPU to idle temporarily. After the memory has

from the processor to the designated

memory location. In similar fashion, information that goes

1-4

from memory to output devices goes by way

of

having the device accomplish the transfer directly. The processor must temporarily suspend its operation during such a

the

processor.

Some

peripheral

devices,

transfer, to prevent conflicts that would arise

however, are capable of

transferring information to and from

if

processor

and peripheral device attempted to access memory simul-

memory much faster

taneously.

than the processor itself can accomplish the transfer. If any

It

is

for this reason that a hold provision

cluded on some processors.

appreciable quantity of data must be transferred to or from

such a device, then system throughput will be increased by

1-5

is

in-

PART 2: INTRODUCTION TO MCS-85™

THE MCS-85™ MICROCOMPUTER
SYSTEM
The basic philosophy behind the MCS-85
microcomputer system is one of logical, evolutionary advance in technology without the
waste of discarding existing investments in
hardware and software. The MCS-85 provides
the existing 8080 user with an increase in performance, a decrease in the component count,
operation from a single 5-Volt power supply, and
still preserves 100% of his existing software investment. For the new microcomputer user, the
MCS-85 represents the refinement of the most
popular microcomputer in the industry, the Intel
8080, along with a wealth of supporting software, documentation and peripheral components to speed the cycle from prototype to
production. The same development tools that
Intel has produced to support the 8080
microcomputer system can be used for the
MCS-85, and additional add-on features are
available to optimize system development for

MCS-85.
This section of the MCS-80/85 User’s Manual
will briefly detail the basic differences between
the MCS-85 and MCS-80 families. It will illustrate both the hardware and software compatibilities and also reveal some of the engineering
trade-offs that were met during the design of
the MCS-85. More detailed discussion of the

MCS-85 bus

operation

and

component

specifications are available in Chapters: 2, 3, 4,
and 5. The information provided in Chapter 1
will be helpful in understanding the basic concepts and philosophies behind the MCS-85.
8-BIT SMALL SYSTEM COMPONENT COUNT 1971 - 1977

EVOLUTION
In December 1971, Intel introduced the first
general purpose, 8-bit microprocessor, the
8008. It was implemented in P-channel MOS
technology and was packaged in a single 18
pin, dual in-line package (DIP). The 8008 used
standard semiconductor ROM and RAM and,

for the most part, TTL components for I/O and

general interface. It immediately found applications in byte-oriented end products such as terminals and computer peripherals where its instruction execution (20 micro-seconds), general
1*6

INTRODUCTION TO MCS-85™
purpose organization and instruction set
matched the requirements of these products.
Recognizing that hardware was but a small part
the overall system picture, Intel developed
both hardware and software tools for the
design engineer so that the transition from prototype to production would be as simple and
in

fast as possible. The commitment of providing

a total systems approach with the 8008 microcomputer system was actually the basis for the
sophisticated, comprehensive development
tools that Intel has available today.

THE 8080A MICROPROCESSOR
With the advent of high-production N-channel
RAM memories and 40 pin DIP packaging, Intel
designed the 8080A microprocessor. It was
designed to be software compatible with the
8008 so that the existing users of the 8008 could
preserve their investment in software and at the
same time provide dramatically increased performance (2 micro-second instruction execution), while reducing the amount of components

necessary to implement a system. Additions
were made to the basic instruction set to take
advantage of this increased performance and
large system-type features were included onchip such as DMA, 16-bit addressing and external stack memory so that the total spectrum of
application could be significantly increased.

The 8080 was first sampled in December 1973.
Since that time it has become the standard of
the industry and is accepted as the primary
building block for more microcomputer based
applications than all other microcomputer systems combined.

A TOTAL SYSTEMS COMMITMENT
The Intel® 8080A Microcomputer System encompasses a total systems commitment to the
user to fully support his needs both in developing prototype systems and reliable, high volume
production. From complex MOS/LSI peripheral
components to resident high level systems
language (PL/M) the Intel® 8080 Microcomputer System provides the most comprehensive, effective solution to today’s system problems.

INTRODUCTION TO MCS-85™
SOFTWARE COMPATIBILITY

For the new microcomputer user, the software
compatibility between the 8085A and the 8080A
means that all of the software development
tools that are available for the 8080A and all
software libraries for 8080A will operate with
the new design and thus save immeasurable

As with any computer system the cost of software development far outweighs that of hardware. A microcomputer-based system is traditionally a very cost-sensitive application and
the development of software is one of the key
areas where success or failure of the cost ob-

cost in development and debug.

jectives is vital.

The 8085A CPU does however add two instructions to initialize and maintain hardware
features of the 8085A. Two of the unused opcodes of the 8080A instruction set were
designated for the addition so that 100% compatibility could be maintained.

HARDWARE COMPATIBILITY
The integration of auxiliary 8080A functions,
such as clock generation, system control and

The 8085A CPU is 100% software compatible
with the Intel® 8080A CPU. The compatibility is
at the object or “machine code” level so that existing programs written for 8080A execution will
run on the 8085A as is. The value of this
becomes even more evident to the user who has
mask programmed ROMs and wishes to update
his system without the need for new masks.

interrupt prioritization, dramatically reduces
the amount of components necessary for most
systems. In addition, the MCS-85 operates off a
single +5 Volt power supply to further simplify
hardware development and debug. A close examination of the AC/DC specifications of the

MCS-85 systems components shows that each
specified to supply a minimum of 400/tA of
source current and a full TTL load of sink current so that a very substantial system can be
constructed without the need for extra TTL buffers or drivers. Input and output voltage levels
are also specified so that a minimum of 350mV
noise margin is provided for reliable, highperformance operation.
is

PROGRAMMER TRAINING
A cost which is often forgotten is that of programmer training. A new, or modified instruction set, would require programmers to relearn

another set of mnemonics and greatly affect
the productivity during development. The 100%
compatibility of the 8085A CPU assures that no
re-training effort will be required.

PC BOARD CONSIDERATIONS
The 8085A CPU and the 8080A are not pincompatible due to the reduction in power supplies and the addition of integrated auxiliary
features. However, the pinouts of the MCS-85
system components were carefully assigned to
minimize PC board area and thus yield a
smooth, efficient layout. For new designs this
incompatibility of pinouts presents no problems and for upgrades of existing designs the
reduction of components and board area will
far offset the incompatibility.

1-8

INTRODUCTION TO MCS-85

T

MCS-85™ SPECIAL PERIPHERAL

COMPONENTS
The MCS-85 was designed

to minimize the

amount of components required for most
systems. Intel designed several new peripheral

7

that combine memory, I/O and
timer functions to fulfill this requirement. These
new peripheral devices directly interface to the
multiplexed MCS-85 bus structure and provide
new levels in system integration for today’s

components

A PORT
B

C

8

? PB 0~7

designer.

PROG/CE

1

1

VDD

Vcc

Vss (0V)

8755A EPROM and I/O
Socket compatible with 8355

2K bytes EPROM

Two 8-bit ports (direction programmable)
Single 4-5 Volt supply read operation
U.V. Erasable

40 pin DIP package

One of the most important advances made with
the

*

:

MCS-85 is the socket-compatibility of the

8355 and 8755A components. This allows the
systems designer to develop and debug in
erasable PROM and then, when satisfied,
switch over to mask-programmed ROM 8355
with no performance degradation or board

8155= CE, 8156 = CE

8155/8156 RAM, I/O and Timer

256 bytes RAM

relayout. It also allows quick prototype production for market impact without going to a compromise solution.

Two 8-bit ports
One 6-bit port (programmable)
One 4-bit programmable interval timer
1

Single + 5 Volt supply operation
40 pin DIP plastic or cerdip package

8

SYSTEM EXPANSION
Each of these peripheral components has
features that allow a small to medium system
to be constructed without the addition of buffers and decoders to maintain the lowest possible component count.

8355 ROM and I/O

2K bytes ROM

Two 8-bit ports (direction programmable)
Single + 5 Volt supply operation
40 pin DIP plastic or cerdip package

1-9

WRl/O/M-

READYCLK-

[—CONTROL

RESET-

HOLD-

HLDAINTR'

iNTA-

A9

CE
Aio

|

RESET ROY WR
CLK 10/M RO
1

|

Ag

8355 ROM • I/O

0755A EPROM

2K BYTES ROM
256 BYTES RAM
1

-

I/O

2K x 8

INTERVAL TIMER/EVENT COUNTER

4 8 BIT I/O PORTS
1 6 BIT I/O STATUS PORT
4 INTERRUPT LEVELS

PAo-

2 SERIAL I/O LINES

Figure 1-1.

MCS-85™ Basic System

--pa 7

•

PBj

INTRODUCTION TO MCS-85™
INTERFACING TO MCS-80/85™

PROGRAMMABLE PERIPHERAL
COMPONENTS
The MCS-85 shares with the MCS-80 a wide
range of peripheral components that solve
system problems and provide the designer with
a great deal of flexibility in his I/O, Interrupt and
DMA structures. The MCS-85 is directly compatible with these peripherals, and, with the exception of the 8257-5 DMA controller, needs no
additional circuitry for their interface in a
minimum system. The 8257-5 DMA controller
uses an 8212 latch and some gating to support
the multiplexed bus of MCS-85.

PROGRAMMABLE PERIPHERALS
The list of programmable peripherals for use
with the 8085A includes:
8251 A

Programmable Communications

8253-5

8255A-5

Programmable Interval Timer
Programmable Peripheral Inter-

8257-5
8259-5

Programmable DMA Controller
Programmable Interrupt Con-

8271

Diskette Controller

8273

Synchronous Data Link Con-

8275
8278
8279

CRT Controller

Interface

face

troller

SERIAL I/O

troller

Keyboard/Display Controller
Keyboard/Display Controller

The MCS-80/85 peripheral compatibility assures
the designer that all new peripheral components from Intel will interface to the MCS-85
bus structure to further expand the application
spectrum of MCS-85.

r

INTRODUCTION TO MCS-85™
INTERFACING TO STANDARD MEMORY
The MCS-85 was designed to support the full
range of system configurations from small 3
chip applications to large memory and I/O applications. The 8085A CPU issues advanced
READ/WRITE status signals (SO, SI, and IO/M)
so that, in the case of large systems, these
signals could be used to simplify bus arbitration logic and dynamic RAM refresh circuitry.
In

large,

memory-intensive systems, standard

memory devices may

provide a more costeffective solution than do the special 8155 and

8355 devices, especially where few I/O lines are
required.

DEMULTIPLEXING THE BUS
order to interface standard memory components such as Intel® 2114, 2142, 2716, 2316E,
21 04 A and 2117 the MCS-85 bus must be
“demultiplexed”. This is accomplished by connecting an Intel® 8212 latch to the data bus and
strobing the latch with the ALE signal from the
8085A CPU. The ALE signal is issued to indicate
that the multiplexed bus contains the lower
8-bits of the address. The 8212 latches this information so that a full 16-bit address is
available to Interface standard memory comIn

ponents.

USE OF 8212
Large, memory intensive systems are usually
multi-card implementations and require some
form of TTL buffering to provide necessary current and voltage levels. Frequently, 8212s are
used for this purpose. The 8212 has the advantage of being able to latch and demultiplex the
address bus and provide extra address drive
capability at the same time.

1-12

INTRODUCTION TO MCS-85™
SYSTEM PERFORMANCE
The true benchmark of any microcomputerbased system is the amount of tasks that can
be performed by the system in a given period of
time. Increasing speed of CPU instruction execution has been the common approach to increasing system throughput but this puts a
greater strain on the memory access requirement and bus operation than is usually practical for most applications. A much more
desirable method would be to distribute the
task-load to peripheral devices.

DISTRIBUTED PROCESSING
The concept of distributed task processing is
not new to the computer designer, but until
recently little if any task distribution was
available to the microcomputer user. The use of
the new programmable MCS-80/85 peripherals
can relieve the central processor of many of the
bookkeeping I/O and timing tasks that would
otherwise have to be handled by system soft-

ware.

INSTRUCTION CYCLE/ACCESS TIME
The basic instruction cycle of the 8085A is 1.3
microseconds, the same speed as the 8080A-1.
A close look at the MCS-85 bus operation shows
that the access requirement for this speed is
only 575 nanoseconds. The MCS-80 access requirements for this speed would be under 300
nanoseconds. This illustrates the efficiency
and improved timing margins of the MCS-85 bus
structure. The new 8085A-2, a high-speed
selected version of the 8085A with a .8 microsecond instruction cycle, provides a 60% performance improvement over the standard
8085 A.

CONCLUSIONS: THROUGHPUT/COST
When a total system throughput/cost analysis
taken, the MCS-85 system with its advanced
will yield the most cost-effective,
reliable and producible system.
is

processor

I

1-13

•

•

CHAPTER 2
8085A FUNCTIONAL DESCRIPTION

2.1

functions to perform READ and WRITE operations and also to select memory or I/O ports.
The 8085A can address up to 256 different I/O
locations. These addresses have the same

WHAT THE 8085A IS

The 8085A is an 8-bit general-purpose microprocessor that

is

very cost-effective

in

small

systems because of its extraordinarily low hardware overhead requirements. At the same time
it is capable of accessing up to 64K bytes of
memory and has status lines for controlling

numerical values (00 through FFH) as the first
256 memory addresses; they are distinguished
by means of the IO/M output from the CPU. You
may also choose to address I/O ports as

large systems.
2.2

memory locations (i.e., memory-map the I/O,
Section 3.2).

WHAT’S IN THE 8085A

In the 8085A microprocessor are contained the

functions of clock generation, system bus conaddition
to execution of the instruction set. (See Figure
2-1.) The 8085A transfers data on an 8-bit, bidirectional 3-state bus (AD0.7) which is timemultiplexed so as to also transmit the eight
lower-order address bits. An additional eight
lines (A 8 15) expand the MCS-85 system memory
addressing capability to 16 bits, thereby allowing 64K bytes of memory to be accessed directly by the CPU. The 8085A CPU (central processing unit) generates control signals that can be
used to select appropriate external devices and

2.2.1

trol, and interrupt priority selection, in

as

RST8.5

16-bit

treated

.

INTA

Registers

The 8085A, like the 8080, is provided with internal 8-bit registers and 16-bit registers. The
8085A has eight addressable 8-bit registers. Six
of them can be used either as 8-bit registers or
register

pairs.

Register

pairs

as though they were single,

are

16-bit

registers; the high-order byte of a pair is located
in the first register and the low-order byte is
located in the second. In addition to the register
pairs,

the

registers.

TRAP

FIGURE 2-1 8085A CPU FUNCTIONAL BLOCK DIAGRAM
2-1

8085A contains two more

16-bit

FUNCTIONAL DESCRIPTION
The 8085A’s CPU registers are distinguished as

An addition operation that results in an
overflow out of the high-order bit of the accumulator sets the carry flag. An addition
operation that does not result in an overflow
clears the carry flag. (See 8080/8085 Assembly

follows:
•

The accumulator (ACC or A Register) is
the focus of all of the accumulator instructions (Table 4-1), which include
arithmetic, logic, load and store, and I/O
instructions.

•

It

Language Programming Manual for further
The carry flag also acts as a “borrow”

details.)

an 8-bit register only.

is

(However, see Flags, in this list.)

flag for subtract operations.

The program counter (PC) always points

The auxiliary carry flag (AC) indicates overflow
out of bit 3 of the accumulator in the same way

to the memory location of the next instruction to be executed. It always contains a 16-bit address.
•

•

•

that the carry flag indicates overflow out of bit
7.

This flag

is

commonly used in BCD (binary

coded decimal) arithmetic.

General-purpose registers BC, DE, and
HL may be used as six 8-bit registers or
as three 16-bit registers, interchangeably,
depending on the instruction being performed. HL functions as a data pointer to
reference memory addresses that are
either the sources or the destinations in
a number of instructions. A smaller
number of instructions can use BC or DE
for indirect addressing.

The sign flag is set to the condition of the most
significant bit of the accumulator following the
execution of arithmetic or logic instructions.
These instructions use bit 7 of data to represent
the sign of the number contained in the accumulator. This permits the manipulation of
numbers in the range from - 128 to + 127.

top (next available stack address). It is

The zero flag is set if the result generated by
certain instructions is zero. The zero flag is
cleared if the result is not zero. A result that has
a carry but has a zero answer byte in the accumulator will set both the carry flag and the

an indivisible 16-bit register.

zero flag. For example,

The stack pointer (SP) is a special data
pointer that always points to the stack

The flag register contains five one-bit
flags, each of which records processor
status information and may also control
processor operation. (See following

HEXADECIMAL
A7H
+ 59H
100H

paragraph.)

BINARY

10 10 0 111

+01011001
1

,0

0 0 0 0 0 0 0,

Carry bit
/
Eight zero bits set zero flag to 1
2.2.2

Flags

The

five flags

in

the 8085A

CPU are shown

Incrementing or decrementing certain CPU
registers with a zero result will also set the zero

d4

d2

Do

The parity flag (P) is set to 1 if the parity
(number of 1-bits) of the accumulator is even. If

CY

odd, it is cleared.

below:

flag.

D7

D6

S

z

D5

d3

AC

Di

p

2.2.3

The stack pointer maintains the address of the
last byte entered into the stack. The stack
pointer can be initialized to use any portion of
read-write memory as a stack. The stack pointer
is decremented each time data is pushed onto
the stack and is incremented each time data is
popped off the stack (i.e., the stack grows
downward in terms of memory address, and the

The carry flag (CY) is set and reset by arithmetic
operations. Its status can be directly tested by
a program. For example, the addition of two
one-byte numbers can produce an answer that
does not fit into one byte:

HEXIDECIMAL

AEH
+ 74H
122H

Stack

BINARY

10101110
1110 10 0
100100010

stack “top” is the lowest numerical address
represented in the stack currently in use). Note
that the stack pointer is always incremented or
decremented by two bytes since all stack
operations apply to register pairs.

0

t

Carry bit sets carry flag to 1
2-2

'

I

FUNCTIONAL DESCRIPTION
2.2.4

as input conditioner, depending upon whether a
crystal or an external source is used. The clock
circuitry generates two nonoverlapping internal
clock signals, fa and fa (see Figure 2-2). fa and
timing of the 8085A and
2 control the internal
on the outside of the
available
are not directly
is a buffered, inCLK
pin
external
The
chip.
verted version of fa. CLK is half the frequency of
the crystal input signal and may be used for
clocking other devices in the system.

Arithmetic-Logic Unit (ALU)

The ALU contains the accumulator and the flag
register (described in Sections 2.2.1 and 2.2.2)
and some temporary registers that are inaccessible to the programmer.

<t>

Arithmetic, logic, and rotate operations are performed by the ALU. The results of these operations can be deposited in the accumulator, or
they can be transferred to the internal data bus
for use elsewhere.
2.2.5

Instruction Register and Decoder
MEMORY ADDRESSES

During an instruction fetch, the first byte of an
instruction (containing the opcode) is transferred from the internal bus to the 8-bit instruction register. (See Figure 2-1.) The contents of
the instruction register are, in turn, available to
the instruction decoder. The output of the
decoder, gated by timing signals, controls the
registers, ALU, and data and address buffers.
The outputs of the instruction decoder and internal clock generator generate the state and
machine cycle timing signals.
2.2.6

Internal Clock Generator

The 8085A CPU incorporates a complete clock
generator on its chip, so it requires only the addition of a quartz crystal to establish timing for
its operation. (It will accept an external clock in-

put at its Xi input instead, however.) A suitable
crystal for the standard 8085A must be parallelresonant at a fundamental of 6.25 MHz or less,
twice the desired internal clock frequency. The
8085A-2 will operate with crystal of up to 10
MHz. The functions of the 8085A internal clock
generator are shown in Figure 2-2. A Schmitt
trigger is used interchangeably as oscillator or

2.2.7

FIGURE 2-3 8085A HARDWARE AND SOFTWARE RST BRANCH LOCATIONS

Interrupts

The five hardware interrupt inputs provided in
the 8085A are of three types. INTR is identical
with the 8080A INT line in function; i.e., it is
maskable (can be enabled or disabled by El or
Dl software instructions), and causes the CPU
to fetch in an RST instruction, externally placed
on the data bus, which vectors a branch to any
one of eight fixed memory locations (Restart addresses). (See Figure 2-3.) INTR can also be
controlled by the 8259 programmable interrupt
controller, which generates CALL instructions

instead of RSTs, and can thus vector operation
CPU to a preprogrammed subroutine

of the

located anywhere

in

your system’s memory

map. The RST 5.5, RST 6.5, and RST 7.5 hardware interrupts are different in function in that
they are maskable through the use of the SIM

FIGURE 2-2 8085A CLOCK LOGIC
2-3

FUNCTIONAL DESCRIPTION
instruction, which enables or disables these interrupts by clearing or setting corresponding
mask flags based on data in the accumulator.

RST 5.5, 6.5, and 7.5 are also subject to being
enabled or disabled by the El and Dl instructions, respectively. INTR, RST 5.5, and RST 6.5
are level-sensitive, meaning that these inputs
may be acknowledged by the processor when
they are held at a high level. RST 7.5 is edgesensitive, meaning that an internal flip-flop in
the 8085A registers the occurrence of an interrupt the instant a rising edge appears on the
RST 7.5 input line. This input need not be held
high; the flip-flop will remain set until it is
cleared by one of three possible actions:

(See Figure 2-4.) You may read the status of the
interrupt mask previously set by peforming a
RIM instruction. Its execution loads into the accumulator the following information. (See
Figure 2-5.)

mask status for the
RST 5.5, 6.5, and 7.5 hardware status.

•

Current interrupt

•

Current interrupt enable flag status (except that immediately following TRAP,
the IE flag status preceding that inter-

•

rupt is loaded).
•

RST 5.5, 6.5, and 7.5 interrupts pending.

SIM

The 8085A responds to the interrupt,
and sends an internal reset signal to the

RST 7.5 flip-flop. (See Figure 2-6A.)

— SET INTERRUPT MASK

~

RST 7.5

(OPCODE = 30)

'

8085A

CONTENTS OF ACCUMULATOR BEFORE EXECUTING SIM:

|

RST 7.5
F.F.

RESET

n

(INTERNAL)

nr
INTERRUPT

REQUEST
(INTERNAL)

MASK SET ENABLE

FIGURE 2-6A RST 7.5 FLIP FLOP

FIGURE 2-4 INTERRUPT MASKS SET USING
SIM INSTRUCTION
TRAP

RESET IN

SCHMITT
TRIGGER

r
RIM - READ INTERRUPT MASK
(OPCODE = 20)

5V

CLK

,TD

— D CLK

TRAP
INTERRUPT

REQUEST

a

(INTERNAL)

0

CONTENTS OF ACCUMULATOR AFTER EXECUTING RIM:

FIF

I>

CLEAR
TRAP F F

INTERNAL
TRAP

ACKNOWLEDGE

FIGURE 2-6B TRAP INTERRUPT INPUTS
INTERRUPT ENABLE FLAG

FIGURE 2-6 RST 7.5 AND TRAP INTERRUPT
INPUTS

FIGURE 2-5 RIM - READ INTERRUPT MASK
2

A

FUNCTIONAL DESCRIPTION
terrupt mask) and SIM (set interrupt mask) instruction listings. Interrupt functions and their
priorities are shown in the table that follows.

The 8085A, before respo ndjng to t he RST

•

7.5 interrupt, receives a RESET IN signal
from an external source; this also ac-

tivates the internal reset.
•

The 8085A executes a SIM instruction,
with accumulator bit 4 previously set to
1.

Name

Address (1)
Type
Branched to Trigger

Priority

(See Figure 2-4.)

when inter-

rupt occurs

The third type of hardware interrupt is TRAP.
This input is not subject to any mask or interrupt enable/disable instruction. The receipt of a
positive-going edge on the TRAP input triggers
the processor’s hardware interrupt sequence,
but the pulse must be held high until
acknowledged internally (see Figure 2-6B).

TRAP

24H

1

Rising edge

AND high
level until

RST 7.5

2

3CH

RST 6.5

3

34 H

sampled
Rising edge
(latched)

The sampling of all interrupts occurs on the
descending edge of CLK, one cycle before the
end of the instruction in which the interrupt input is activated. To be recognized, a valid interrupt must occur at least 160 ns before sampling

High level
until sam-

pled

RST 5.5

2CH

4

High level
until sam-

pled

time in the 8085A, or 150 ns in the 8085A-2. This
means that to guarantee being recognized, RST
5.5 and 6.5 and TRAP need to be held on for at
least 17 clock states plus 160 ns (150 for
8085A-2), assuming that the interrupt might arrive just barely too late to be acknowledged dur-

INTR

5

(2)

High level
until

sam-

pled

NOTES:
(1 )

ing a particular instruction, and that the following instruction might be an 18-state CALL. This

timing assumes no WAIT or HOLD cycles are
used.

(2)

The way interrupt masks are set and read is
described in Chapter 4 under the RIM (read in-

In the case of

TRAP and RST 5.5-7.5, the

contents of the Program Counter are
pushed onto the stack before the branch
occurs.

Depends on the instruction that is provided to the 8085A by the 8259 or other
circuitry when the interrupt is acknowledged.

EFFECT OF HIM INSTRUCTION
SIO

2.2.8

Serial Input and Output

The SID and SOD pins help to minimize chip
count in small systems by providing for easy interface to a serial port using software for timing
and for coding and decoding of the data. Each
time a RIM instruction is executed, the status of
the SID pin is read into bit 7 of the accumulator.
RIM is thus a dual-purpose instruction. (See
Chapter 4.) In similar fashion, SIM is used to
latch bit 7 of the accumulator out to the SOD
output via an internal flip-flop, providing that bit
6 of the accumulator is set to 1. (See Figure 2-7.)
Section 2.3.8 describes SID and SOD timing.

ACCUMULATOR

EFFECT OF SIM INSTRUCTION
SOD

SID can also be used as a general purpose

FIGURE 2-7 EFFECT OF RIM AND SIM
INSTRUCTIONS ON SERIAL DATA LINES

TEST input and SOD can serve as a one-bit control

output.
2-5

FUNCTIONAL DESCRIPTION
2.3

HOW THE MCS-85 SYSTEM WORKS

components with improved timing margins and
access requirements. (See Figure 2-8.)

To enhance the system integration of MCS-85,
several special components with combined
memory and I/O were designed. These new

The 8085A CPU generates signals that tell
peripheral devices what type of information is
on the multiplexed Address/Data bus and from
that point on the operation is almost identical
to the MCS-80™ CPU Group. A multiplexed bus
structure was chosen because it freed device
pins so that more functions could be integrated
on the 8085A and other components of the family. The multiplexed bus is designed
to allow
complete compatibility to existing peripheral

devices directly interface to the multiplexed
bus of the 8085A. The pin locations of the 8085A
and the special peripheral components are
assigned to minimize PC board area and to
allow for efficient layout. The details on
peripheral components are contained in subse-

quent paragraphs of this chapter and
Chapters 5 and 6.

FIGURE 2-8A MCS-80™ CPU GROUP

FIGURE 2-6B MCS-85™ CPU/8085A (MCS-80 COMPATIBLE
FUNCTIONS)

DATA/ADDRESS BUS

ADDRESS

DATA IN OR OUT

TIME MULTIPLEX DATA BUS

FIGURE 2-8C MULTIPLEXED BUS TIMING

FIGURE 2-8 BASIC CPU FUNCTIONS
2-6

in

FUNCTIONAL DESCRIPTION
2.3.1

CPU knows that it must do three more machine
cycles (two MEMORY READS and one MEMORY

Multiplexed Bus Cycle Timing

The execution of any 8085A program consists
of a sequence of READ and WRITE operations,
of which each transfers a byte of data between
the 8085A and a particular memory or I/O address. These READ and WRITE operations are
the only communication between the processor
and the other components, and are all that is

WRITE) to complete the instruction.

The 8085A then increments the program
counter so that it points to the next byte of the
instruction and performs a MEMORY READ
machine cycle (M 2) at address (PC+ 1). The accessed memory places the addressed data on
the data bus for the CPU. The 8085A temporarily
stores this data (which is the low-order byte of
the direct address) internally in the CPU. The
8085A again increments the program counter to
location (PC + 2) and reads from memory (M 3 )
the next byte of data, which is the highorder byte of the direct address.

necessary to execute any instruction or program.
j

Each READ or WRITE operation of the 8085A is
referred to as a machine cycle. The execution of
each instruction by the 8085A consists of a sequence of from one to five machine cycles, and
each machine cycle consists of a minimum of
from three to six clock cycles (also referred to
as T states). Consider the case of the Store Accumulator Direct (STA) instruction, shown in
Figure 2-9. The STA instruction causes the contents of the accumulator to be stored at the
direct address specified in the second and third
bytes

of

the

instruction.

During

the

At this point, the 8085A has accessed all three
bytes of the STA instruction, which it must now
execute. The execution consists of placing the
data accessed in M 2 and M 3 on the address bus,
then placing the contents of the accumulator
on the data bus, and then performing a
MEMORY WRITE machine cycle (M 4). When M 4
is finished, the CPU will fetch (Mi) the first byte
of the next instruction and continue from there.

first

machine cycle (Mi), the CPU puts the contents
of the program counter (PC) on the address bus
and performs a MEMORY READ cycle to read
from memory the opcode of the next instruction
(STA). The M, machine cycle is also referred to

State Transition Sequence

as the OPCODE FETCH cycle, since it fetches
the operation code of the next instruction. In
the fourth clock cycle (T4) of Mi, the CPU interprets the data read in and recognizes it as the
opcode of the STA instruction. At this point the

As the preceding example shows, the execution
of an instruction consists of a series of
machine cycles whose nature and sequence is
determined by the opcode accessed in the Mi

FIGURE 2-9 CPU TIMING FOR STORE ACCUMULATOR DIRECT (STA) INSTRUCTION
2-7

FUNCTIONAL DESCRIPTION
STATUS

MACHINE CYCLE

IO/M

OPCODE FETCH
MEMORY READ
MEMORY WRITE
l/OREAD
I/O WRITE
INTR ACKNOWLEDGE
BUS IDLE

0

1

1

0

1

1

0

1

0

0

1

1

0

0

1

1

0

1

(IOR)

1

1

0

0

1

1

(IOW)

1

0

1

1

0

(INA)

tre$gt

CONTRO
RD WR INTA

(MR)
(MW)

1

1

1

1

0

1

0

1

1

0

1
1

(Bl):

DAD

'

INA(RSTZTRAP)

1

so

(OF)

HALT

0= Logic "0"

SI

- Logic "V*

1

1
1

1

1

1

1

1

TS

0

0

TS

TS

TS = High Impedance X * Unspecified

FIGURE 2-10 8085A MACHINE CYCLE CHART

machine cycle. While no one instruction cycle
more than five machine cycles,
every machine cycle will be one of the seven
types listed in Figure 2-10. These seven types of
machine cycles can be differentiated by the
state of the three status lines (IO/M, S 0 an d
and the three control signals (RD, WR, and
will consist of

,

INTA).

Most machine cycles consist of three T states,
(cycles of the CLK output) with the exception of
OPCODE FETCH, which normally has either
four or six T states. The actual number of states
required to perform any instruction depends on
the instruction being executed, the particular
machine cycle within the instruction cycle, and
the number of WAIT and HOLD states inserted
into each machine cycle through the use of the
READY and HOLD inputs of the 8085A. The
state transition diagram in Figure 2-11 illustrates how the 8085A proceeds in the course
of a machine cycle. The state of various status
and control signals, as well as the system
buses, is shown in Figure 2-12 for each of the
ten possible T states that the processor can be
in.

NOTE:

SYMBOL DEFINITION

©

Figure 2-1 1 also shows when the READY, HOLD,
and interrupt signals are sampled, and how
they modify the basic instruction sequence (T r
T6 and TWA it). As we shall see, the timings for
each of the seven types of machine cycles are

CPU STATE Tx ALL CPU STATE TRANSITIONS OCCUR
.

ON THE FALLING EDGE OF CLK.

<3>

A DECISION (X) THAT DETERMINES WHICH OF SEVERAL
ALTERNATIVE PATHS TO FOLLOW

m
X

almost identical.

_

PERFORM THE ACTION X.
FLOWLINE THAT INDICATES THE SEQUENCE OF EVENTS.
-

CC

-

BIMC

-

FLOWLINE THAT INDICATES THE SEQUENCE OF EVENTS
IF CONDITION X IS TRUE.

NUMBER OF CLOCK CYCLES IN THE CURRENT MACHINE
CYCLE.

“BUS IDLE MACHINE CYCLE" - MACHINE CYCLE WHICH
DOESN'T USE THE SYSTEM BUS.

OPCODE FETCH (OF):
The OPCODE FETCH (OF) machine cycle is

VALIDINT « "VALID INTERRUPT" -

has more than three clock
cycles. This is because the CPU must interpret
the opcode accessed in Ti, T2 and T 3 before it
can decide what to do next.

HLDA FF

unique

in

that

AN INTERRUPT IS PENDING

THAT IS BOTH ENABLED AND UNMASKED (MASK
ING ONLY APPLIES FOR RST 5.5, 6.5. AND 7.5
INPUTS).

it

-

INTERNAL HOLD ACKNOWLEDGE FLIP FLOP. NOTE
THAT THE 8085A SYSTEM BUSES ARE 3-STATE D ONE
CLOCK CYCLE AFTER THE HLDA FLIP FLOP IS SET.

,

FIGURE 2-11 8085A CPU STATE TRANSITION
2-8

FUNCTIONAL DESCRIPTION
The 8085A also sends out a 16-bit address at the
beginning of every machine cycle to identify the

Control

Status & Buses

Machine
State

SI, SO

00

1<

U)

ad 0 -ad 7 RD,WR INTA <

-1 UJ

X

X

X

X

1

1

t2

X

X

X

X

X

X

0

t wait

X

X

X

X

X

X

0

X

X

X

X

0

T

1

X

X

t3

j

IO/M <

t4

1

0

t5

1

0

t6

1

0

*

X

TS

1

1

0

*

X

TS

1

1

0

X

TS

1

1

0

TS

1

0

*

Preset

X

TS

TS

TS

Thalt

0

TS

TS

TS

TS

1

0

Trold

X

TS

TS

TS

TS

1

0

0= Logic "0"

1

= Logic "1"

TS= High Impedance X = Unspecified

*ALE not generated during 2nd and 3rd machine cycles of DAD
instruction.
* IO/M - 1

during T 4 -T 0 states of RST and INA cycles.

FIGURE 2-12 8085A MACHINE STATE CHART

particular memory location or I/O port that the
machine cycle applies to. In the case of an OF
cycle, the contents of the program counter

is

placed on the address bus. The high order byte
(PCH) is placed on the A 8 -A 15 lines, where it will
stay until at least T4 The low order byte (PCL) is
.

placed on the AD 0-AD 7 lines, whose three-state
drivers are enabled if not found already on.
Unlike the upper address lines, however, the information on the lower address lines will remain there for only one clock cycle, after which
the drivers will go to their high impedance state,
indicated by a dashed line in Figure 2-13. This is
necessary because the AD0-AD7 lines are time
mulitplexed between the address and data
buses. During Ti of every machine cycle, ADoAD 7 output the lower 8-bits of address after
which AD 0 -AD 7 will either output the desired
data for a WRITE operation or the drivers will
float (as is the case for the OF cycle), allowing
the external device to drive the lines for a READ
operation.

Since the address information on ADo*AD 7 is of
a transitory nature, it must be latched either internally in special multiplexed-bus components
like the 8155 or externally in parts like the 8212
8-bit latch. (See Chapter 3.) The 8085A provides
a special timing signal, ADDRESS LATCH

Figure 2-13 shows the timing relationships for

ENABLE (ALE), to facilitate the latching of A0-A 7
ALE is present during T of every machine cycle.

an OF machine cycle. The particular instruction
illustrated is DCX, whose timing for OF differs
from other instructions in that it has six T

;

1

After the status signals and address have been
sent out and the AD 0-AD 7 drivers have been
disabled, the 8085A provides a low level on RD
to enable the addressed memory device. The
device will then start driving the AD 0-AD 7 lines;
this is indicated by the dashed line turning into
a solid line in Figure 2-13. After a period of time
(which is the access time of the memory) valid

states, while some instructions require only
four T states for OF. In this discussion, as well

as the following discussions, only the relative
timing of the signals will be discussed; for the
actual timings, refer to the data sheets of the individual parts in Chapters 5 and 6.

The first thing that the 8085A does at the beginning of every machine cycle is to send out three
status signals (IO/M, SI, SO) that define what

data will be present on AD 0 -AD 7 The 8085A during T 3 will load the memory data on AD 0 -AD 7 into its instruction register and then raise RD to
the high level, disabling the addressed memory
device. At this point, the 8085A will have finished accessing the opcode of the instruction.
Since this is the first machine cycle (M-i) of the
instruction, the CPU will automatically step to
.

type of_machine cycle is about to take place.
The IO/M signal identifies the machine cycle as
being either a memory reference or input/output
operation. The SI status signal identifies
whether the cycle is a READ or WRITE operation. The SO and SI status signals can be used
together (see Figure 2-10) to identify READ,
WRITE, or OPCODE FETCH machine cycles as
well as the HALT state. Referring to Figure 2-13,
the 8085A will send out IO/M = 0, SI = 1, SO = 1
at the beginning of the machine cycle to identify it as a READ from a memory location to obtain an opcode; in other words, it identifies the

T 4 as shown in Figure 2-11.
,

During T4 the CPU will decode the opcode in
the instruction register and decide whether to
enter T 5 on the next clock or to start a new
machine cycle and enter Tj. In the case of the
DCX instruction shown in Figure 2-13, it will
enter T 5 and then T 6 before going to T v
,

machine cycle as an OPCODE FETCH cycle.
2-9

FUNCTIONAL DESCRIPTION
(OF)

M-j

SIGNAL

T2

Ti

“

T3

IO/M,

A 8 A 15

ALE

T6

T1

v_y~ v_/~
Y

^

IO/M = 0 s
,

11

CO

Y

0

i

_X>

DCL

h

OUT

ad0 -ad 7

T5

1

CLK

SI, SO

Mi
T4

y

UNSPECIFIEC

IN

>-^

D 0-D 7 (DCX)

L_

^r
1

“2

RD

r

FIGURE 2-13 OPCODE FETCH MACHINE CYCLE (OF DCX INSTRUCTION)
During T5 and T6) of DCX, the CPU will decrement the designated register. Since the A 8-A 15
lines are driven by the address latch circuits,
which are part of the incrementer/decrementer
logic, the A 8 -A 15 lines may change during T and
5
T6 Because the value of A8 -A 15 can vary during
T 4 -T6 it is most important that all memory and
I/O devices on_the system bus qualify their
selection with RD. If they don’t use PTD, they
may be spuriously selected. Moreover, with a
linear selection technique (Chapter 3), two or
more devices could be simultaneously enabled,
which could be potentially damaging. The
generation of spurious addresses can also occur momentarily at address bus transitional
.

,

periods in Tv Therefore, the selection of all
memory and I/O devices must be qualified with
RD or WR. Many new memory devices like the

8155 and 8355 have the RD input that internally
is used to enable the data bus outputs, removing the need for externally qualifying the chip
enable input with RD.
Figure 2-14 is identical to Figure 2-13 with one
exception, which is the use of the READY line.
As we can see in Figure 2-11, when the CPU is in
T2 it examines the state of the READY line. If
the READY line is high, the CPU will proceed to
T 3 and finish executing the instruction. If the
READY line is low, however, the CPU will enter
Twait and stay there indefinitely until READY
goes high. When the READY line does go high,
the CPU will exit Twajt and enter T3, in order to
complete the machine cycle. As shown in
,

Figure 2-14, the external effect of using the

READY line is to preserve the exact state of the
processor signals at the end of T2 for an integral
number of clock periods, before finishing the
machine cycle. This “stretching” of the system
timing has the further effect of increasing the
allowable access time for memory or I/O
devices. By inserting Twait states, the 8085A

can accommodate even the slowest

of

memories. Another common use of the READY
line is to singe-step the processor with a

manual switch.
2.3.2

Read Cycle Timing

MEMORY READ (MR):
Figure 2-15 shows the timing of two successive

MEMORY READ (MR) machine cycles, the first

without a Twait state and the second with one
Twait state. The timing during T rT3 is absolutely identical to the OPCODE FETCH machine cycle, with the exception that the status sent out
during T, is IO/M = 0, SI = 1, SO = 0, identifying the cycles as a READ from a memory location. This differs from Figure 2-13 only in that SO
= 1 for an OF cycle, identifying that cycle as an
OPCODE FETCH operation. Otherwise, the two
cycles are identical during T rT3
.

A second difference occurs at the end of T3 As
shown in Figure 2-1 1 the CPU always goes to T4
.

,

from T3 during M 1; which is always an OF cycle.
During all other machine cycles, the CPU will

always go from T3 to T| of the next machine
cycle.

FUNCTIONAL DESCRIPTION

FIGURE 2-14 OPCODE FETCH MACHINE CYCLE WITH ONE WAIT STATE

FIGURE 2-15 MEMORY READ (OR I/O READ) MACHINE CYCLES
(WITH AND WITHOUT WAIT STATES)
2-11

FUNCTIONAL DESCRIPTION
The memory address used in the OF cycle is
always the contents of the program counter,
which points to the current instruction, while
the address used in the MR cycle can have
several possible origins. Also, the data read in
during an MR cycle is placed in the appropriate
register, not the instruction register.
I/O

READ (IOR):

Figure 2-15 also shows the timing of two successive I/O READ (IOR) machine cycles, the first
without a Twait state. As is readily apparent, the
timing of an IOR cycle is identical to the timing
of an MR cycle,_with the exception of IO/M = 0
for MR and IO/M = 1 for IOR; recall that IO/M
status signal identifies the address of the current machine cycle as selecting either a

WRITE Cycle Timing
MEMORY WRITE (MW):

2.3.3

Figure 2-16 shows the timing for two successive
MEMORY WRITE (MW) machine cycles, the first
without a Twait state, and the second with one
Twait state. The 8085A sends out the status during Ti in a similar fashion Jo the OF, MR and
IOR cycles, except that IO/M = 0, SI = 0, and
SO = 1, identifying the current machine cycle as
being a WRITE operation to a memory location.

The address is sent out during T| in an identical
manner to MR. However, at the end of T 1( there
is a difference. While the AD -AD drivers were
0
7
disabled during T2-T3 of MR in expectation of
the addressed memory device driving the AD0 AD 7 lines, the drivers are not disabled for MW.
This is because the CPU must provide the data
to be written into the addressed memory location. The data is placed on AD 0 -AD 7 at the start
of T 2 The
signal is also lowered at this time
to enable the writing of the addressed memory
device. During T2 the READY line is checked to
see if a TWait state is required. If READY is low,
Twait states are inserted until READY goes
high. During T 3 the
line is raised, disabling
the addressed memory device and thereby terminating the WRITE operation. The contents of
the address and data lines are not changed until the next T^ which directly follows.

memory location or an I/O port. The address
used in the IOR cycle comes from the second
byte (Port No.) of an INPUT instruction. Note
that the I/O port address is duplicated onto both
AD0-AD7 and A8-A15. The IOR cycle can occur
only as the third machine cycle of an INPUT in-

.

WR

,

struction.

Note that the READY signal can be used to
generate Twait states for I/O devices as well as

,

memory devices. By gating the READY signal
with the proper status lines, one could generate
Twait states for memory devices only or for I/O
devices only. By gating in the address lines, one
can further qualify T W ait state generation by the
particular devices being accessed.

WR

Note that the data on AD 0 -AD 7 is not
guaranteed to be stable before the falling edge

FIGURE 2-16 MEMORY WRITE (OR I/O WRITE) MACHINE CYCLES
(WITH AND WITHOUT WAIT STATES)
2-12

FUNCTIONAL DESCRIPTION
by the El instruction. The status of the TRAP
and RST pins as well as INTR is sampled during
the second clock cycle before Mt • T-|. If INTR
was the only valid interrupt and if INTE FF is
set, then the CPU will reset INTE FF and then
enter an INTERRUPT ACKNOWLEDGE (INA)
machine cycle. The INA cycle s ide ntical to an
OF cycle with two exceptions. INTA is sent out
instead of RD. Also, IO/M = 1 during INA,
whereas IO/M = 0 for OF. Although the contents of the program counter are sent out on the
address lines, the address lines can be ignored.

of WR. The AD 0 -AD 7 lines are guaranteed to be
stable both before and after the rising edge of

WR.
I/O WRITE (IOW):
As Figure 2-16 shows, the timing for an I/O
WRITE (IOW) machine cycle is the^same as an
MW machine cycle except that IO/M = 0 during
the MW cycle and IO/M = during the IOW cycle.

i

As with the IOR cycle discussed previously, the
address used in an IOW cycle is the I/O port

number which is duplicated on both the high
and low bytes of the address bus. In the case of
IOW, the port number comes from the second
byte of an OUTPUT instruction as the instruc-

When INTA is sent out, the external interrupt
logic must provide the opcode of an instruction
to execute. The opcode is placed on the data

tion is executed.
2.3.4

Interrupt Acknowledge (IN A) Timing

bus and read in by the processor. If the opcode
the first byte of a multiple-byte instruction,
additional INTA pulses will be provided by the
8085A to clock in the remaining bytes.
RESTART and CALL instructions are the most

Figures 2-17 and 2-18 (a continuation of 2-17)
depict the course of action the CPU takes in
response to a high level on the INTR line if the

is

INTE FF (interrupt enable flip-flop) has been set

M

M 2 (MR)

1

M 2 (INA)

(INA)

SIGNAL
H-

CLK

INTR

T2

T1

T3

CM

A 8’ A

1

X r—
\

T

T6

1

T2

t3

-

E
X_
xz

(0, ,0)

(PC-1 )H

OUT

<>o*>7

y

m

d

(1.1.D

1

xj

PCH
IN
1

V

PCL

——

lT

WR

FIGURE 2-17 INTERRUPT ACKNOWLEDGE MACHINE CYCLES
(WITH CALL INSTRUCTION IN RESPONSE TO INTR)
2-13

s
(1.1.11

PCH

x

1

OUT
PCL

n_

r\_

ALE

RD

T5

r

IN

AD 0 -AD 7

T4

sisssaa55aS

INTA

IO/M, SI. SO

T3

IN

D0 -O 7 (B2> y.

FUNCTIONAL DESCRIPTION
logical choices, since they both force the processor to push the contents of the program
counter onto the stack before jumping to a new

location. In Figure 2-17

it

is

Now that the CPU has accessed the entire instruction used to acknowledge the interrupt, it
will execute that instruction. Note that any instruction could be used (except El or Dl, the instructions which enable or disable interrupts),
but the RESTART and CALL instructions are the

assumed that a

CALL opcode is sent to the CPU during M The
CALL opcode could have been placed there by a
t.

device

like

the 8259 programmable interrupt

most logical choices. Also notice that the CPU
inhibited the incrementing of the program
counter (PC) during the three INA cycles, so
that the correct PC value can be pushed onto
the stack during M 4 and M 5

controller.

After receiving the opcode, the processor then

decodes it and determines, in this case, that the
CALL instruction requires two more bytes. The
CPU therefore performs a second IN A cycle (M 2)
to access the second byte of the instruction
from the 8259. The timing of this cycle is identical to M 1t except that it has only three T
states. M 2 is followed by another INA cycle (M
3)
to access the third byte of the CALL instruction

.

During M 4 and M 5 the CPU performs MEMORY
,

WRITE machine cycles to write the upper and
then lower bytes of the PC onto the top of the
stack. The CPU then places the two bytes ac-

cessed in M 2 and M 3 into the lower and upper
bytes of the PC. This has the effect of jumping
the execution of the program to the location

from the 8259.

specified by the CALL instruction.

M 3 (INA)

M 4 (MWI

M 5 (MW)

SIGNAL
T2

Tl

h

T1

T2

T3

sS*V/

CLK

INTR

—

IO/M, Si, SO

OUT

ad0 -ad 7

ALE

.

3 7 (B3)

r\

OUT

M

ia

OUT

PCH(B3)

0 JT

OUT

mmmm

he

^
/

01JT

HEuil HO

''""V

A

RD

VVR

SB
2-14

k
&
mi

3
—
_r M_r

FIGURE 2-18 INTERRUPT ACKNOWLEDGE MACHINE CYCLES

(WITH CALL INSTRUCTION IN RESPONSE TO INTR)

Lr

\-T

>c

(SP-DH

T2

mm
HE H

r

PCH

T1

1

(0.0,1)

*8*15

Mt (OF)
T3

T2

L_y

\
|

INTA

T1

l

1

FUNCTIONAL DESCRIPTION
2.3.5

The other time when the BUS IDLE machine cycle occurs is during the internal opcode genera-

Bus Idle (Bl) and HALT State

Most machine cycles

tion for the RST or TRAP interrupts. Figure 2-19
illustrates the Bl cycle generated in response to
RST 7.5. Since this interrupt is rising-edgetriggered, it sets an internal latch; that latch is
sampled at the falling edge of the next to the

the 8085A are

of

associated with either a READ or WRITE operation. There are two exceptions to this rule. The
first exception takes place during

M 2 and M 3 of

the DAD instruction. The 8085A requires six internal T states to execute a DAD instruciton,
but it is not desirable to have Mi be ten (four
normal plus six extra) states long. Therefore,
the CPU generates two extra machine cycles
that do not access either the memory or the I/O.
These cycles are referred to as BUS IDLE (Bl)
machine cycles. In the case of DAD, they are
identical to MR cycles except that RD remains
high and ALE is not generated. Note that
READY is ignored during M 2 and M 3 of DAD.

last T-state of the previous instruction. At this

point the CPU must generate its own internal
RESTART instruction which will (in subsequent
machine cycles) cause the processor to push
the program counter on the stack and to vector
to location 3CH. To do this, it executes an OF
machine cycle without issuing RD, generating
the RESTART opcode instead. After Mi, the

CPU

normally

continues execution

respects except that the state of the
line is ignored during the Bl cycle.

'

M 1 (OF)

SIGNALS
T3

CLK

RST 7.5

M 2 (MW)

M 1 (Bl)
T4

T1

T3

T2

T4

T5

T6

J2

T,

r lr\-TLT LI

UT! LT vr LT \T l
Pc/

IO/M

>

SI. SO

A 8T A

1

(PC 1)H

IN

xz C"

^

ISP-1 )H

OUT

OUT

IN

\

ad0 -ad 7

ALE

xz

PCH

/

n_

iNTA

\

RD

WR

READY

\

V

]
'

.
\

FIGURE 2-19 RST 7.5 BUS IDLE MACHINE CYCLE
2-15

in

all

READY

FUNCTIONAL DESCRIPTION
Figure 2-20 illustrates the Bl cycle generated in
response to RST 7.5 when a HALT instruction
has just been executed and the CPU is in the

In

Thalt state, with its various signals floating.
There are only two ways the processor can completely exit the T halt state, as shown in Figure
2-11. The first way is for RESET to occur, which
always forces the 8085A to T RE set- The second
way to exit T H alt permanently is for a valid interrupt to occur, which will cause the CPU to
disable further interrupts by resetting INTE FF,
and to then proceed to
• T-) of the next in-

struction.

Figure 2-20 the RST 7.5 line is pulsed during

Thalt- Since RST 7.5 is a rising-edge-triggered
interrupt, it will set an internal latch which is
sampled during CLK = “1” of every T halt state
(as well as during CLK = “1” two T states
before any Mi • T-j.) The fact that the latched interrupt was high (assuming that INTE FF = 1
and the RST 7.5 mask = 0) will force the CPU to
exit the Thalt state at the end of the next CLK
period, and to enter
• T^

This completes our analysis of the timing of
each of the seven types of machine cycles.

When the HOLD input is activated,

the CPU will exit T H alt for the duration of T H old
and then return to T H alt-

FIGURE 2-20 HALT STATE AND BUS IDLE MACHINE CYCLE
RST 7.5 TERMINATES T HALt STATE
2-16

L

FUNCTIONAL DESCRIPTION
2.3.6

The 8085A accepts the first unmasked, enabled
interrupt sampled; thereafter, all interrupt
sampling is inhibited. The interrupt thus ac-

HOLD and HALT States

The 8085A uses the Thold state to momentarily
cease executing machine cycles, allowing external devices to gain control of the bus and
peform DMA cycles. The processor internally
latches the state of the HOLD line and the unmasked interrupts during CLK = “1” of every

cepted

will

inevitably be executed

of holding off higher-priority interrupts
(including TRAP). (See Figure 2-22.)

Thalt state. If the internal latched HOLD signal
“1” of any T HA lt state, the
is high during CLK =
CPU will exit T HA lt and enter T H old on the
following CLK = “1”. As shown in Figure 2-21
this will occur even if a valid interrupt occurs
simultaneously with the HOLD signal.

When the CPU is not in T HA lt or T H old.

rupt lines is latched internally during CLK = 1
of each T h old state as well as during T HA lt
states. If the internal latched HOLD signal is

low during CLK = 1, the CPU will exit T H old and
enter T HA lt on the following CLK = 1.

CLK

Thold OJ*

each Mt • T|.

Thold Os)*

J

Tholo

Thold Ob)*

/

\

\

r

V

'\

V

/

ALE

HOLD

HLDA

r~

1

INTERRUPTS SAMPLED

—K
1

INTERRUPT

inter-

If the internal latched HOLD
signal is high during the next CLK = 1, the CPU
will enter Thold after the following clock. When
the CPU is not in T HALt or Thold, it will internally
latch the state of the unmasked interupts only
during CLK of the next to the last state before

The state of the HOLD and the unmasked inter-

t3

it

nally latches the HOLD line only during CLK =
1 of the last state before T 3 (T 2 or T WA it) and during CLK = 1 of the last state before T 5 (T 4 of a
six T-state Mi).

SIGNALS

when the

CPU exits the HOLD state, even at the expense

HERE REGAROLESS

OFHOLO

j

* SIGNIFIES THAT T r T« MAY TAKE PLACE INSIDE THE 8085A EVEN WHILE THE PROCESSOR IS IN A HOLD STATE.

FIGURE 2-21 HOLD VS INTERRUPT — NON HALT

START OF INTERRUPT
CYCLE DELAYED
BY HOLD

FUNCTIONAL DESCRIPTION

SIGNALS

Thalt

CLK
1

r

Thalt

l

Thalt

r

l

r

l

Tholo

Tholo

J

/

T,

'

/

•

J

ALE

LOW PRIORITY
f

HOLD

i

„

INTERRUPT CYCLE

V

/
EXITS HALT
IMMEDIATELY AFTER

r

HLDA

_

INTERRUPT AC CEPTED HERE CAUSES SAhAPLING TO BE INHIBITED -

LOW PRIORITY
INTERRUPTS)

,

/
HIGH PRIORITY
INTERRUPTS)

f
1

1

FIGURE 2-22 8085A HOLD VS INTERRUPTS — HALT MODE

Power On and RESET IN
The 8085A employs a special internal circuit to

CPU will enter Mi • ^ for the next T state. Note

2.3.7

that the various signals and buses are floated in
Treset as well as Thalt and T H old- For this
reason, it is desirable to provide pull-up
resistors fo r the main control signals (par-

increase its speed. This circuit, which is called
a substrate bias generator, creates a negative
voltage which is used to negatively bias the

ticularly WR).

substrate. The circuit employs an oscillator and
a charge pump which require a certain amount
of time after POWER ON to stabilize. (See
Figure 2-23.)

Specifically, the RESET IN signal
following actions:

RESETS

Taking this circuit into account, the 8085A is
not guaranteed to work until 10 ms after V cc
reac hes 4.75V. For this reason, it is suggested
that RESET IN be kept low during this period.
Note that the 10 ms period does not include the
time it takes for the power supply to reach its
4.75V level
which may be milliseconds in
some systems. A simple RC network (Figure 3-6)
can satisfy this requirement.

PROGRAM COUNTER
INSTRUCTION REGISTER
INTE FF
RST 7.5 FF
TRAP FF
SOD FF
MACHINE STATE FF’s

—

The RESET IN line is latched every CLK =

SETS
RST 5.5 MASK
RST 6.5 MASK
RST 7.5 MASK

MACHINE CYCLE FF’s
INTERNALLY LATCHED
FF’s for HOLD, INTR,

1.

and READY

This latched signal is recognized by the CPU
during CLK = 1 of the next T state. (See Figure
2-24.) If it is low, the CPU will issue RESET OUT
and enter T H alt for the next T state. RESET IN
should be kept low for a minimum of three clock
periods to ensure proper synchronization of the
CPU. When the RESET IN signal goes high, the

RESET IN does not explicitly change the contents of the 8085A registers (A, B, C, D, E, H, L)
and the condition flags, but due to RESET IN occurring at a random time during instruction execution, the results are indeterminate.
2-18

I

causes the

FUNCTIONAL DESCRIPTION

FIGURE 2-23 POWER-ON TIMING

Following RESET, the 8085A will start executing
instructions at location 0 with the interrupt
system disabled, as shown in Figure 2-24.
Figure 2-24 also shows READ and WRITE operations being terminated by a RESET signal. Note
that a RESET may prematurely terminate any
READ or WRITE operation in process when the

RESET occurs.

2.3.8

SID and SOD Signals:

Figure 2-25 shows the timing relationship of the

SID and SOD signals to the RIM and SIM instructions. The 8085A has the ability to read the SID
line into the accumulator bit 7 using RIM instructions. The state of the SID line is latched internally during T3 • CLK = 0 of the RIM instruction.

Following this, the state of the interrupt pins

and masks are also transferred directly to the
accumulator.

The 8085A can set the SOD flip-flop from bit 7 of
the accumulator using the SIM instruction. (See
Figure 2-26.) The data is transferred from the accumulator bit 7 to SOD during Mt • T2 • CLK = 0
of the instruction following SIM, assuming that
accumulator bit 6 is a 1. Accumulator bit 6 is a

FIGURE 2-24 RESET IN TIMING

“serial output enable” bit.

2-19

i

FUNCTIONAL DESCRIPTION

EFFECT OF RIM INSTRUCTION

EFFECT OF SIM INSTRUCTION

SID

SOD

FIGURE 2-26 EFFECT OF RIM AND SIM INSTRUCTIONS

COMPARISON OF MCS-80 AND MCS-85
SYSTEM BUSES

2.4

This section compares the MCS-80 bus with the
MCS-85 bus. Figure 2-28 details the signals and
general timing of the two buses; the timing
diagrams are drawn to the same scale (8080A
clock cycle = 480 ns and 8085A clock cycle =

320 ns) to facilitate comparison.
2-20

FUNCTIONAL DESCRIPTION
MCS-85™ System Bus
The MCS-85 bus is terminated on one end by the
8085A and the other end by various memory and
I/O devices. The MCS-85 bus may be optionally

MCS-80™ System Bus
The MCS-80 bus is terminated on one end by the

CPU-GROUP (consisting of the 8080A, 8224,
8228) and on the other end by the various
memory and I/O circuits. The following figure
shows the major signals of the MCS-80 bus.

de-multiplexed with an 8212 eight bit latch to
provide an MCS-80 type bus. The following
figure shows the major signals of the MCS-85
bus.

FIGURE 2-27 COMPARISON OF SYSTEM BUSES
MCS-85™ System Bus
FUNCTION
SIGNAL(S)
These are the
A 8 -A 15

MCS-80™ System Bus
SIGNAL(S)

FUNCTION

Aq-Ai 5

The 16 lines of the address

high order
eight bits of the address,
and are used to identify a
memory or I/O location for a
data transfer cycle.

bus identify a memory or I/O
location for a data transfer
operation.

The 8 lines of the data bus
are used for the parallel
transfer of data between
two devices.

D0-D7

MEMR, MEMW,

These

IOR, IOW, INTA

(MEMORY READ, MEMORY

five

control

AD0-AD7

These eight

RD, WR, INTA

O/M

lines

WRITE, I/O READ, I/O WRITE,
and INTERRUPT ACKNOWLEDGE) identify the type and
timing of a data transfer
operation.

lines serve a
dual function. During the
beginning of a data transfer
operation, these lines carry
the low order eight bits of
the address bus. During the
remainder of the cycle,
these lines are used for the
parallel transfer of data between two devices.

READY, RESET,
HOLD, HLDA

These signals are used for
the synchronization of slow

These signals identify the
type and timing of a data

* 2 (TTL), NT

speed memories, system
reset, DMA, sytem timing,

The l/O/M EMORY line iden-

I

transfer cycle.
I

and CPU interrupt.

a data transfer as being in the I/O address space

tifies

or the
space.

ALE

memory address

ADDRESS LATCH ENABLE
enables the latching of the

A0 -A 7 signals.
These signals are used for
READY, RESET
the synchronization of slow
OUT, HOLD,
HLDA, CLK, INTR speed memories, system
reset, DMA, system timing
and CPU interrupt.

FIGURE 2-28 COMPARISON OF SYSTEM BUSES
2-21

FUNCTIONAL DESCRIPTION
MCS-80™ System Bus for READ CYCLE
The basic timing of the MCS-80 BUS for a READ

MCS-85™ System Bus for READ CYCLE
The basic timing of the MCS-85 BUS for a READ

CYCLE is as follows:

CYCLE is as follows:

©

©

The MCS-80 first presents the address

0 and

At the beginning of the READ cycle, the 8085A
sends out all 16 bits of address©- This is
followed by ALE ©which causes the lower
eight bits of address to be latched in either the
8155/56, 8355, 8755A, or in an external 8212. RD
is then dropped
by the 8085A. The data bus is
then tri-stated by the 8085A in preparation for
the selected device driving the bus©; the
selected device will continue to drive the bus
with valid data®, until RD is raised
the
8085 A. At the end of the READ CYCLE®, the
address and data lines are changed in preparation for the next cycle.

shortly thereafter the control signal
The
data bus, which was in the high impedance
state, is driven by the selected device®. The
selected device eventually presents the valid
data to the processor
The processor raises
the control signal®, which causes the selected device to put the data bus in the high impe-

®

®

.

dance state®. The processor then changes
the

©by

address® for the start of the next data

transfer.

MCS-80™ System Bus for WRITE CYCLE
The basic timing

of the MCS-80
WRITE CYCLE is as follows:

MCS-85™ System Bus for WRITE CYCLE
The basic timing of the MCS-85 BUS

BUS for a

for a

WRITE CYCLE is as follows:

©
*0**15

©

©

©

The MCS-80 first presents the address®, then
enables the data bus driver®, and later

The timing of the WRITE CYCLE is identical to
the MCS-85 READ CYCLE with the exception of
the AD 0 -AD 7 lines. At the beginning of the

presents the data®. Shortly thereafter, the
MCS-80 drops the control signal ®for an interval of time and then raises the signal®. The
MCS-80 then changes the address® in
preparation for the next data transfer. The advance write signal of the 8238 is also shown

©
©

the low order eight bits of address are
on AD 0-AD 7 After ALE drops, the eight bits of
data
are put on AD 0 -AD 7 They are removed
at the end of the WRITE CYCLE, in anticipation
cycle

©

,

.

of the next data transfer.

FIGURE 2-28 (Continued) COMPARISON OF SYSTEM BUSES
2-22

.

®

FUNCTIONAL DESCRIPTION
and IO/M with a decoder or a few gates. The
MCS-85 bus is also fast. While running at 3MHz,
the 8085A generates better timing signals than
the MCS-80 does at 2MHz. Furthermore, the
multiplexed bus structure doesn’t slow the
8085A down, because it is using the internal
states to overlap the fetch and execution portions of different machine cycles. Finally, the
MCS-85 can be slowed down or sped up considerably, while still providing reasonable

The following observations of the two buses
can be made:
1. The access times from address leaving
the processor to returning data are almost
identical, even though the 8085A is
operating 50% faster than the 8080.
2.

3.

4.

5.

With the addition of an 8212 latch to the
8085A, the basic timings of the two

systems are very similar.
The 8085A has more time

for address
setup to RD than the 8080.
The MCS-80 has a wider RD signal, but a
narrower WR signal than the 8085A.
The MCS-80 provides stable data setup to

timing.

TO USE. The RD, WR, and INTA control signals
which isn’t affected by
the CPU preparing to enter the HOLD state. Furthermore, the address and data bus have good
setup and hold times relative to the control
signals. The voltage and current levels for the
interface signals will all drive buses of up to 40
MOS devices, or 1 schottky TTL device.
all have identical timing,

the leading and trailing edges of WR,
while the 8085 provides stable data setup
to only the trailing edge of WR.
6.

The MCS-80 control signals have different
widths and occur at different points in the
machine cycle, while the 8085A control

The MCS-85 system bus is also EFFICIENT. Effi-

signals have identical timing.
7.

ciency is the reason that the lower eight address lines are multiplexed with the data bus.
Every chip that needs to use both A0-A 7 and D 0D 7 saves 7 pins (the eighth pin is used for ALE)
on the interface to the processor. That means

While not shown on the chart, the MCS-80
data and address hold times are adversely
affected by the processor preparing to
enter the HOLD state. The 8085A has identiming regardless of entering HOLD.
Also not shown on the chart is the fact
that all output signals of the 8085A have
-400^a of source current and 2.0 ma of
sink current. The 8085A also has input
voltage levels of V| L = 0.8V and V IH = 2.0V.
tical

8.

that 7 more pins per part are available to either
add features to the part or to use a smaller
package in some cases. In the three chip
system shown in Figure 3-6, the use of the
MCS-85 bus saves 3 x 7 = 21 pins, which are
used for extra I/O and interrupt lines. A further

advantage of the MCS-85 bus is apparent in
Figure 3-7, which shows a printed circuit layout
of the circuit in Figure 3-6. The reduced number
of pins and the fact that compatible pinouts
were used, provides for an extremely compact,
simple, and efficient printed circuit. Notice that
great care was taken when the pinouts were
assigned to ensure that the signals would flow
easily from chip to chip to chip.

CONCLUSION:
The preceding discussion has clearly shown
that the MCS-85 bus satisfies the two restrictions of COMPATIBILITY and SPEED. It is compatible because it requires only an 8212 latch to
generate an MCS-80 type bus. If the four control
signals MEMR, MEMW, I0R and IOW are
desired, they can be generated from RD, WR,

223
-

•

•

CHAPTER 3
8085A SYSTEM OPERATION AND INTERFACING

INTERFACING TO TH E 8085A
interfaces to both memory and I/O
8085A
The
devices by means of READ and WRITE machine

arithmetic and logic operations on port data as well

which are identical. During
each machine cycle the 8085A issues an address
and a control signal, then either sends data out on
the bus or reads data from the bus. The 8085A may
be performing a READ machine cycle, but what
it reads could be a ROM, RAM, I/O device, periph-

instructions:

3.1

as move data between any internal register and the
I/O port. Consider the new meaning of the following

cycles, the timing of

Examples:

eral device, or nothing.

There is no distinction between data, instruction
opcodes, and I/O port numbers except the way the
CPU interprets what it reads from the bus. If an opcode is what would logically appear on the bus, the
CPU will treat as an opcode whatever does appear
there; if an I/O port number is to be expected, what
appears will be interpreted as a port number. The
same is true for a WRITE cycle. The 8085A issues
an address, data, and a control signal. Unless it is
requested to WAIT (by use of the READY line) it will
complete the cycle and proceed to the next. Regardless of whether there is a device present to accept
the data, the CPU executes one instruction at a
time, in sequence, until told to do otherwise. The
program controls the sequence and nature of all

3.2.2

(16-Bit Output)
(Add Port to ACC)

ANA M

(AND Port with ACC)

(16-Bit Input)

I/O is that it takes 3 bytes of instruction and 13
clock cycles using the LDA or STA instructions
to specify moving a byte of data between the accumulator and an I/O device, whereas the INPUT
and OUTPUT instructions require only two bytes
and 10 clock cycles. This is because the I/O address space is smaller (only 256 bytes) and therefore requires fewer bits to completely specify
an address. A futher advantage of using the INPUT and OUTPUT Instructions is that it allows
the easy connection of the MCS-80 peripherals
to the MCS-85 multiplexed bus. If you memorymap the MCS-80 peripherals to the MCS-85 bus,
you must either latch the lower address bits
with an 8212 or use a portion of the memory address space by connecting the chip selects and
address lines of the ports to the unmultiplexed
upper eight lines of the address bus.

MEMORY-MAPPED I/O
Advantages of Memory-Mapped I/O

Since the processor doesn’t distinguish I/O from
memory using this addressing scheme, you can
take advantage of the larger instruction set that
references the memory address space. Instead of
only being able to transfer a byte of data between
the accumulator and the I/O port (using INPUT and

can

SHLD
ADD M

(Output from ACC to Port)

bytes. A further disadvantage of memory-mapped

vantages and disadvantages.

you

(Input Port to ACC)

scheme limits the maximum amount of memory that can be used to 32k

I/O and memory, and its system employs memory-

instructions),

LDA
STA
LHLD

dressed. This particular

mapped I/O. Each method of addressing I/O has ad-

OUTPUT

(Output any Register to Port)
(Output immediate data to Port)

While memory instructions may increase the flexibility of the I/O system, there are some drawbacks.
Since I/O devices are now addressed as memory,
there are fewer addresses available for memory. A
common practice is to use address bit 15 (A^ to
distinguish memory from I/O. (See Figure 3-2 and
accompanying discussion.) If A 15 =0 then memory
is being addressed; if A-| 5 = 1, I/O is being ad-

There are two ways of addressing I/O devices in the
MCS-85 system. If the IO/M output from the CPU is
used to distinguish between I/O and memory
READ and WRITE cycles, then that system is said
to employ standard, or l/O-mapped, I/O. If IO/M is
not so used, the CPU does not distinguish between

3.2.1

(Input Port to any Register)

MOV M,r
MVI M

Disadvantages of Memory-Mapped I/O

machine cycles until an interrupt occurs.

3.2

MOVr,M

now program
3-1

SYSTEM OPERATION
3.3
3.3.1

ADDRESS ASSIGNMENT

Using an address bit as a chip select is referred
to as linear selection. The direct consequence
of linear selection is that you cut the available
address space in half for each single address

Decoding

Besides memory-mapped I/O, another practice
is to only partially decode the address bus
when generating chip selects. Every device has
a given number of unique addresses associated
with it. The 8355, for instance, has 2k bytes of
ROM and therefore has 2k addresses associated
with the ROM. Any one of these 2k addresses
can be uniquely specified by a pattern on the 11
(2n = 2k) address lines. However, since the 8355
must work with other devices in a system, it
isn’t enough to simply specify the 11 bits; further bits of information must be used to locate
the 2k bytes within the 65k address space. The
2k bytes are located by the use of chip enable
(CE) inputs to the 8355 chip. If the 8355 were to
occupy the first 2k bytes of the memory address
space, it would, strictly speaking, be necessary
to decode the fact that A15-A11 were all zeroes,
and use that condition as a chip enable. Then
the 8355 would be selected only when the address bus was less than 2k.

bit used as a chip enable.

If this penalty is too
high, you can always use an 8205 one-of-eight
decoder. Also, some chips have multiple chip
enables, which allows for some automatic
decoding of the address. (See Figures 3-1 B and

One drawback to linear selection is that the
memory addresses of the different parts are not
contiguous. For example, if three 8355s are addressed using linear selection, one might be
located at 0-2k, the next at 6k-8k, and the next at
10k-12k. The programmer must recognize these
page boundries and jump over them.

3.4

will

,

INTERFACING TO THE 8155/8156,
8355/8755A

3.4.1

I/O Mapped I/O:

This section describes some of the techniques
involved in connecting the MCS-85 combination
memory and I/O chips to the 8085A as I/O
devices.
Figure 3.1A shows one 8355 connected to the
8085A bus. (In the interest of simplicity, only the
chip enable and IO/M lines are shown; the other
lines are connected as shown in Figures 3.6, 3.7
or 3.8.) Notice that CE is tied to V cc and CE is
connected to A 1V This is because after RESET
the processor always starts executing at loca-

Figure 3-1A.)
it

i

3-1 C.)

However, if other 2k blocks of addresses aren’t
being used, you may combine those addresses
and not decode all of the upper five address
lines for chip enables. In fact, in a small system
you may need to decode only one bit of address,
which is to say connect that bit of the address
bus to the chip enable line of the 8355. If you
connect An to the CE line of the 8355 and tie CE
to V C c, then the 8355 would be selected whenever the memory address was less than 2k. (See

However,

Linear Selection

3.3.2

tion 0. Since the

also be selected whenever

ROM normally contains the

program, it must be selected when the address

memory locations 4k-6k, 8k-10k, 61k-63k (i.e.,
whenever bit A 11 = 0) is addressed. If the programmer is aware of this, and if there are no

is all zeroes.

One consequence of the ROM being selected
by an all-zero address is that the I/O ports on
the chip will be selected only when An = 0. This
is because the I/O ports and the memory have
common chip enables, therefore forcing the
selection conditions of j>ne onto the other. Furthermore, since the IO/M line of the chip is connected to the IO/M line of the 8085A, the port
has I/O mapped I/O. The I/O ports can be accessed only by use of the INPUT and OUTPUT
instructions; since these are the only instructions that cause IO/M to go high.

other devices assigned to the other address
spaces, then it may be an acceptable condition.
Care must be taken, however, to ensure that at
no time will two different devices be selected

simultaneously. Whenever one device is
selected, that memory address must deselect
all other devices. If two devices are selected
simultaneously for a READ operation, the electrical conflict on the bus may damage one or
both parts. Note also that the address bus may
reflect an undesired address during T 5 T 6 of an
opcode fetch cycle and during address bus
transitional periods in T-i (this is illustrated in
Chapter 2). Therefore, all memory and I/O
devices must qualify their selection with RD or
WR, or the address on the bus at the falling
edge of the ALE, so as to ignore all spurious ad,

The boxes to the right of the chip in Figure 3.1A
indicate the memory addresses and I/O Port
numbers required to access the chip. As a
result of the linear selection technique used,
there are many “don’t care” bits (marked by
“X”s) in the address. While they don’t affect the
addressing of this device, they may affect other

dresses.
3-2

.

SYSTEM OPERATION

MEMORY ADDRESS
X X x|o

|x

A 10

-

-

-V

:

-^1

I/O PORT

FIGURE 3-1 B MULTIPLE CHIPS

X

X X X| 0

|X

A,

A0

|

8156

A 13

CE

10/M

IO/M

8355/87 55

X

[X

-

1
|

CE
CE

MEMORY ADDRESS "
X X X X A?
-

1

|

1__ ^1
'

I/O PORT

X

|X

1

1

10/fii

|

X A 2 A, A^]

MEMORY ADDRESS

8355/8755A

'

ce
CE

|X

IO/M

[X

X 0

1

X

A, 0 -

|

-

•

•

•

•
I

•

I

I/O PORT

X

0

X A, A 0

X

1
|

|

MEMORY ADDRESS
|x

x

0

0

X A 10

|

•

-

|X

X

0

X X

0

|

A, A^j

|

FIGURE 3-1C FULLY DECODED AND EXPANDED

FIGURE 3-ID SEPARATE CHIP ENABLES FOR I/O AND MEMORY

FIGURE 3-1 MCS-85™ PERIPHERALS WITH I/O MAPPED I/O
3-3

•

•

-

•

-

I/O POST

|

A,|

Ap|

SYSTEM OPERATION
memory portions of the 8x55 components share

devices in the system, which would force them
to be either ones or zeroes. Remember that two

chip enables, so they are forced to live with
each other’s constraints. Third, only one 8205 is
required per eight chips for the decoding; that’s
an overhead of only 1/8 of a chip per part.

devices may not be selected simultaneously;
thus each device must have an address that not
only selects itself, but also deselects all other
devices. If there are any bits which are truly
“don’t cares,” they are customarily assigned to
be zero. If all the “X” bits in Figure 3.1A were
“don’t cares,” then the chip could be addressed
as memory locations 0-2k, and I/O Ports 0-3.

Figure 3.1 D shows a remedy to the problem illustrated in Figure 3.1 C, namely that I/O and
memory portions of the chip are forced to live
with each other’s chip enable constraints. By
using a quad 2 to 1 multiplexer, the chip enables
of the I/O and memory portions of four chips

Figure 3.1 B shows a slightly larger system of
two 8355s and one 8156. Notice that 8355 No. 1
uses its two chip enable lines to decode A 12 = 1,
A 13 =0. It is possible to address each of the
chips without selecting any of the others. Also
notice that there are some illegal addresses
(e.g., A 12 = 0, A 13 = 1) that would cause two of the
devices to turn on simultaneously. The programmer must not use these addresses.

can be independently assigned.

Memory-Mapped I/O:

3.4.2

Figure 3.2A shows aji 8355 connected to the
8085A. Since the IO/M pin of the 8355 is connected to A 15 whenever A 15 = 1 the I/O ports will
be accessed. While A 15 could be set to 1 either
by a memory or by an I/O instruction, in this
situation the port is usually accessed only by
the memory instructions. You may access ports
either as memory locations (where A 15 = 1
refers to a memory address of 32k or higher) or
as I/O ports (where A 15 = 1 refers to an I/O address of 128 or higher, since bits A8-A 15 are a
,

Figure 3.1 C shows a larger MCS-85 system. Two
8205s are used to completely decode the addresses. There are some interesting points to
observe here. First, while some of the devices
have multiple possible address (i.e., they have
some “don’t care” bits), there aren’t any ad-

dresses which can cause simultaneous selection of two or more parts. Second, the I/O and

FIGURE 3-2A SINGLE CHIP
8355/8755A

CE

v rr
IO/M

MEMORY ADDRESS
X

X X

|0

A 10

0
|

-

-

•

-

‘

1

|

'

A ol

I/O ADDRESS

X

X

X |0

1

I

X

X X X A,

H XI

1

[X

X

|1

X

X

•

-

|-

-

•

x

1-

*i

M

MEMORY ADDRESS
0

I/O ADDRESS

-1

*

fl

1

MEMORY ADDRESS
X <2

o

2

A 1 Aol

N

‘

I/O ADDRESS

di

0

X

x

1

x

-

-

j

|

A

iM

MEMORY ADDRESS
o

X

o

o

o

> ©

*o|

I-

I/O ADDRESS
|1

X

0

0

0
|

-

-

-

|

FIGURE 3-2 MCS-85™ PERIPHERALS WITH MEMORY-MAPPED I/O
3-4

-

•

X

>

SYSTEM OPERATION
of bits A 0 -A 7 ). Assuming that
memory-mapped I/O is used, the addresses are
shown in the boxes to the right in Figure 3-2. If

the MCS-80 peripherals require nonmultiplexed
address lines, linear select is not too useful
unless the address lines are latched. This is
because connecting both the chip selects and
the address lines of the MCS-80 peripherals to
A 8 -A 15 would deplete all the useful addresses
very quickly.

replication

you want to be sure that neither the I/O nor the
memory is ever selected by any INPUT or OUTPUT instruction, then the chip enable must be
conditioned by IO/M =0.
Figure 3.2B shows a somewhat larger system,
also using memory-mapped I/O. As in Figure
3.1
3.5 B care must be exercised to ensure that no
two devices are accessed simultaneously. You
can see that considerable memory address
space is used up as a result of using memory-

3.6

INTERFACING TO STANDARD BUS

MEMORIES
Standard bus memory devices are designed to
be used with nonmultiplexed address and data
buses. Interfacing to standard memories is very
similar to interfacing to MCS-85 memories with
the exception that A0-A 7 must be latched. Once

mapped I/O.

INTERFACING TO MCS-80™ PERIPHERALS
3.5.1
I/O Mapped I/O:

this requirement is met, all the tricks discussed
earlier can be used. Since the address lines

would eventually require buffering as the
system size grew, the overhead of the 8212
latch again becomes negligible.
Figure 3.5 shows the interface of the 8085A to a
large block of memory, specifically 16k bytes of
ROM and 8k bytes of RAM. Besides the

For want of a better name, the Intel® 825x, 827x,
and 829x series peripherals are referred to here
as MCS-80 peripherals because unlike the 8155/
56, 8355 and 8755A, they are compatible with
the nonmultiplexed MCS-80 system bus.

To interface to an MCS-80 peripheral, you must
provide a constant address, a chip select, and

memories, the circuit requires only 2-1/6 other
parts for logical gating. If MCS-80 I/O parts were
used, the 8212 latch could be shared between
the two groups, further reducing the gating
overhead per 1C. Sixteen 2142 chips and eight
2316E chips are used in this design. The data
bus, address lines 8-10, and control signals in
this system all should be buffered. This applies
to any system with the number of memory

RD or WR. Since the upper address lines (A8 -A 15 )
of the 8085A are nonmultiplexed, they can be
tied directly to the peripherals, as shown in
Figure 3.3A. To provide I/O mapped I/O, use
either linear selection (keeping the I/O and
memory addresses noncoincidental), or condition the chip selects
with IO/M = 1. Figure
3.3A shows a technique of gating the chip

WR

devices represented here.

selects with IO/M = 1, using an 8205. This
technique also allows more I/O devices to be
used than linear selection would. Note that this
technique relies on the fact that the I/O Port
number is copied onto A 8 -A 15 as well as A0 -A 7
during an INPUT or OUTPUT instruction.

Wherever two or more parts are paralleled on
the same bus, they must be 3-state devices
such as the 2142 RAM, 2316E ROM, 2716
EPROM, 2332 ROM, 2732 EPROM, and 2364
ROM, which have either an output disable (OD)
input or multiple chip select (CS) inputs. To prevent bus contention, only one memory device
may be output-enabled at a time in this configuration; the outjDuts of all others must be

Figure 3.3B shows an alternative approach to
interfacing to MCS-80 components. By latching
the lower 8 bits of address with an 8212, and
decoding the control signals with an 8205, you
create an exact copy of the MCS-80 (8080A,
8224, 8228) bus. You may then use whatever circuits have been previously developed for the
8080. The total cost is one 8212 and one 8205.
Since the same signals might have needed buffering anyway (and the 8212 and 8205 provide
buffering of their outputs), the extra component
overhead ranges from little to nothing.

deselected during RD.
For additional information on interfacing standard memory devices, please read Section 2 of
Appendix and the Intel applications note AP-30
I

“Application

of

Intel’s

5V

EPROM and ROM

Family for Microprocessor Systems” available
from: Intel, Literature Dept., 3065 Bowers Ave.,
Santa Clara, CA 95051.

Memory-Mapped I/O:
Exactly the same techniques used to memory
map the MCS-85 apply to the MCS-80 I/O devices.
Figure 3.4 shows an 8205 used to qualify the

DYNAMIC RAM INTERFACE:

3.5.2

3.7

chip select of the I/O device with 10 Iffi =0. Since

For interfacing the dynamic RAM, Intel makes a
single-component dynamic RAM refresh controller, the 8202, which interfaces the 8085A to
multiplexed-address-bus dynamic RAMs like

3-5

SYSTEM OPERATION

SYSTEM OPERATION
have constructed a microcomputer system that
has the following functions:

the Intel 2104A and 2117. The 8202 provides the
necessary refreshing for such dynamic RAMs,
and also provides the control signals required
for accessing, selecting, and address clocking.
It allows for the use of the 8085A’s full capability of 64k bytes of address space with no additional buffering devices. As with other standard
memory interfaces, it is necessary to demultiplex the lower 8 bits of address from the multiplexed 8085A bus, AD 0 7
,

3.8

PARTS
1

8085A

8355/8755A
1 8156

1

1

.

Crystal

FUNCTIONS

CPU (Clock cycle
^ 32 ° ns)

1

2048 Bytes of either

EPROM or ROM

4 Resistors

256 B y tes of RAM

Capacitor
1 Diode

5 lnterru P ts

^

1

MINIMUM MCS-85™ SYSTEM

1

+ 5 Power Supply

\

Programmable Timer/

Counter
1

The Schematics of Figure 3.6 depict a minimum
system core. In actual use, some of the processor control signals (TRAP, INTR, and HOLD)
would have to be terminated. Also, interface

Lines

Crystal and Oscillator

Clock
1 Power-on Reset
1

By looking at the printed circuit layout of Figure
we can see that not only are there just 3 ICs,

logic to external devices as well as more
memory and I/O devices may be desirable. The
first thing one notices about the system in
Figure 3.6 is the scarcity of parts required to
build this system. With a minimum of parts, we

3.7,

but that the interconnection of these parts is
extremely easy and provides a very dense
layout. Expecially notice the easy flow of the
system bus on the solder side of the board.

FIGURE 3-5 STANDARD MEMORIES WITH LATCHED ADDRESS AND DECODED CHIP SELECTS
3-:

SYSTEM OPERATION

NOTE 2: USE IO/M FOR STANDARD I/O MAPPING. USE A15 FOR MEMORY MAPPED I/O.
NOTE 3. CONNECTION IS NECESSARY ONLY IF ONE TWA 7 STATE IS DESIREO.
NOTE 4: PULL-UP RESISTORS RECOMMENDED TO AVOID SPURIOUS SELECTION WHEN RD AND WR ARE
3 STATED. THESE RESISTORS ARE NOT INCLUDED ON THE PC BOARD LAYOUT OF FIGURE 3-7.
,

FIGURE 3-6 MINIMUM 8085 SYSTEM
3-8

SYSTEM OPERATION

m

in

u>

in

«b

r>

te

fc
cc

t;
cc

AC

o.

< p'cccT
f
nsr

CE

8156

RESET
IO/M

pa 0 pa 7

WR
RD
ALE

PBo PB 7

pc 0 pc 5

ADo A0 7
NOTE 1: TRAP, INTR, AND HOLD MUST BE GROUNDED IF THEY AREN'T USED.
NOTE 2: IN THIS CONFIGURATION, THE I/O CAN'T BE MEMORY MAPPED (WITHOUT
EXTRA LOGIC) BECAUSE ALL OF THE ADDRESS LINES ARE IN USE.
NOTE 3: CONNECTION IS NECESSARY ONLY IF ONE T WAIT STATE IS OESIRED.
NOTE 4: PULL-UP RESISTORS RECOMMENDED TO AVOIO SPURIOUS SELECTION
WHEN RO AND WR ARE 3£TATED.

FIGURE 3-8 EXPANDED SYSTEM
3-10

TIMER IN
TIMER OUT

SYSTEM OPERATION
3.9

EXPANDED MCS-85™ SYSTEM

Figure 3.8 shows the circuit Figure 3.6 expanded to its maximum size without the use of
any extra logic. In an extremely small board

area we can fit:

PARTS
1

8085A

3 8355/8755
2 8156
1 Crystal
4 Resistors
1

1

Capacitor
Diode

FUNCTION
1 CPU (Clock cycle
< 320ns)

ROM/EPROM
6144 Bytes
512 Bytes RAM
76 I/O Lines
5 Interrupts
2 Programmable

Timer/Counters
2 Serial I/O Lines
1 Crystal and
Oscillator
1
1

3.10

Clock
Power-on Reset

MCS-85™ SYSTEM WITH 8185

The 8185 1 K-byte static RAM chip is another
multiplexed-bus component that insures that
the most highly integrated systems can be
built with MCS-85 components. Figure 3.9
shows a 4-chip MCS-85 system schematic with
the following characteristics:

PARTS
1

8085A

8185
8156
1 8355/8755A
1
1

FUNCTION
1 CPU

ROM/EPROM
2048 Bytes
1280 Bytes RAM
38 I/O Lines
5 Interrupts
1

Timer/Counter

2 Serial I/O Lines

The 8185 als_o_has power-down capability. By
connecting CEi to IO/M from the 8085A the
8185 will be powered down during I/O
operations and Interrupt Acknowledge cycles.

FIGURE 3-9 MCS-85 SYSTEM WITH 8185

3-11

CHAPTER 4
THE 8080 CENTRAL PROCESSOR UNIT

3-state Address Bus (Ap-Ats). Six timing and control

The 8080 is a complete 8-bit parallel, central processor
unit (CPU) for use in general purpose digital computer sys-

outputs (SYNC, DBIN, WAIT,WR, HLDA and INTE) eman-

tems. It is fabricated on a single LSI chip (see Figure 1-1).

ate

using Intel's n-channel silicon gate

bit

MOS process. The 8080

‘

transfers data and internal state information via an 8-bit,

bidirectional

1

3- state Data Bus (D0-D7). Memory and peri-

cepted by the 8080.

pheral device addresses are transmitted over a separate 16-

Figure 4-1.

from the 8080, while four control inputs (READY,

HOLD, INT and RESET), four power inputs (+12v, +5v,
and 02) are ac
-5v, and GND) and two clock inputs (0

8080 Photomicrograph With Pin Designations

4-1

ARCHITECTURE OF THE 8080 CPU
The 8080 CPU consists of the following functional
units:
•

Register array and address logic

matically during every instruction fetch. The stack pointer
maintains the address of the next available stack location in

memory. The stack pointer can be initialized to use any
portion of read-write memory as a stack. The stack pointer

•

Arithmetic and logic unit (ALU)

•

Instruction register and control section

decremented when data is "pushed" onto the stack and
incremented when data is "popped" off the stack (i.e., the

•

Bi-directional, 3-state data bus buffer

stack grows "downward").

Figure 4-2

illustrates

is

The six general purpose registers can be used either as

the functional blocks within

the 8080 CPU.

single

registers

temporary

(8-bit)

or as register

register pair,

W,Z,

pairs

(16-bit).

The

not program addressable
and is only used for the internal execution of instructions.

Registers:

The

Eight-bit data bytes can be transferred
register

section consists of a static

RAM array

internal

•

Program counter (PC)

•

Stack pointer (SP)

via

between the

the register-select

register

decrementer circuit. The address latch receives data from
any of the four register pairs and drives the 16 address

• Six 8-bit general purpose registers arranged in pairs,

output

referred to as B,C; D,E; and H,L

receives

The program counter maintains the memory address
is

buffers

decrementer

A temporary register pair called W,Z

of the next program instruction and

bus and the register array

multiplexer. Sixteen-bit transfers can proceed between the
array and the address latch or the incrementer/

organized into six 16-bit registers:

•

is

data

(Ao-Ais),

circuit.

as

well

as

the

incrementer/

The incrementer/decrementer circuit

from the address latch and sends it to
The 16-bit data can be incremented or

the register array.

incremented auto-

decremented or simply transferred between registers.

REGISTER

ARRAY

Figure 4-2.

8080 CPU Functional Block Diagram

4-2

THE PROCESSOR CYCLE

Arithmetic and Logic Unit (ALU):

An instruction cycle is defined as the time required

The ALU contains the following registers:

to fetch and execute an instruction. During the fetch, a

two or three bytes) is extracted

An 8-bit accumulator

selected instruction (one,

•

An 8-bit temporary accumulator (ACT)

from memory and deposited in the CPU's instruction register. During the execution phase, the instruction is decoded

•

A 5-bit flag register: zero, carry, sign, parity and

•

and translated into specific processing activities.
auxiliary carry

Every instruction cycle consists of one, two, three,
four or five machine cycles.

each time the
•

An 8-bit temporary register (TMP)

CPU

accesses

A machine cycle is required
memory or an I/O port. The

fetch portion of an instruction cycle requires one machine

cycle for each byte to be fetched. The duration of the execu-

and rotate operations are performed in the ALU. The ALU is fed by the temporary
register (TMP) and the temporary accumulator (ACT) and
Arithmetic,

carry flip-flop.

logical

The

result of the operation

can be trans-

ferred to the internal bus or to the accumulator; the ALU
also feeds the flag register.

The temporary register (TMP) receives information
from the internal bus and can send all or portions of it to
the ALU, the flag register and the internal bus.

tion portion of the instruction cycle depends on the kind

of instruction that has been fetched. Some instructions do
not require any machine cycles other than those necessary
to fetch the

and the internal bus and can transfer data to the temporary
accumulator (ACT) and the internal bus. The contents of

is

defined as the interval between two successive positive-

ities

are referred to the period of this clock. The

two non-

overlapping clock pulses, labeled 0 1 and 02* are furnished

by external circuitry. It is the 0i clock pulse which divides
each machine cycle into states. Timing logic within the

DAA instruction (see Section 5).

8080

uses

the

clock

inputs to produce a

SYNC pulse,

which identifies the beginning of every machine cycle. The
SYNC pulse is triggered by the low-to-high transition of 02,

Instruction Register and Control:
During an instruction fetch, the first byte of an instruction (containing the

Each machine cycle consists of three, four or five
A state is the smallest unit of processing activity and

going transitions of the 0t driven clock pulse. The 8080
isdriven by a two-phase clock oscillator. All processing activ-

the accumulator (ACC) and the auxiliary carry flip-flop can

be tested for decimal correction during the execution of the

instructions, however, re-

from memory or I/O devices. The DAD instruction is an
exception in that it requires two additional machine cycles
to complete an internal register-pair add (see Section 5).

states.

The accumulator (ACC) can be loaded from the ALU

instruction; other

quire additional machine cycles to write or read data to/

as shown in Figure 4-3.

OP code) is transferred from the

internal bus to the 8-bit instruction register.

The contents of the instruction register are, in turn,
to the instruction decoder. The output of the

available

decoder,

combined with various timing

signals,

the control signals for the register array,

provides

ALU and data

buffer blocks. In addition, the outputs from the instruction
decoder and external control signals feed the timing and
state control section which generates the state and cycle

timing signals.

Data Bus Buffer:
This 8-bit
isolate the

bidirectional

3-state buffer

is

•SYNC DOES NOT OCCUR IN THE SECOND AND THIRD MACHINE
CYCLES OF A DAD INSTRUCTION SINCE THESE MACHINE CYCLES
ARE USED FOR AN INTERNAL REGISTER-PAIR ADD.

used to

CPU's internal bus from the external data bus
In the output mode, the internal bus

(Do through D7).

content is loaded into an 8-bit latch that, in turn, drives the
The output buffers are switched

Figure 4-3.

data bus output buffers.

0-j,

0 2 and SYNC Timing

There are three exceptions to the defined duration of

off during input or non-transfer operations.

They are the WAIT state, the hold (HLDA) state
and the halt (HLTA) state, described later in this chapter.
a

During the input mode, data from the external data bus

state.

The internal bus is pre-

Because the WAIT, the HLDA, and the HLTA states depend

charged at the beginning of each internal state, except for

upon external events, they are by their nature of indeterminate length. Even these exceptional states, however, must

is

transferred to the internal bus.

the

transfer

state

(TW and T3—described

later

in

this

chapter).

4-3

be synchronized with the pulses of the driving clock. Thus,
the duration of all states are integral multiples of the clock
period.

To summarize then, each clock period marks a state;

the contents of its H and L registers. The eight-bit data
word returned during this MEMORY READ machine cycle
is placed in a temporary register inside the
8080 CPU. By
now three more clock periods (states) have elapsed. In the

three to five states constitute a machine cycle; and one to

seventh and final state, the contents of the temporary regis-

machine cycles comprise an instruction cycle. A full
instruction cycle requires anywhere from four to eight-

ter are

added to those of the accumulator.

Two machine

cycles,

consisting

complete the

five

teen states for

completion, depending on the kind of in-

its

Machine Cycle Identification:
With the exception of the DAD instruction, there is
just one consideration that determines how

cycles are required

in

many machine

any given instruction cycle; the num-

instruction,

instruction

five

such references are called for,

cycle

contains five machine cycles.

If

cated by

It

A FETCH

(1)

states.

an

instruction

in-

states

of this

Z register. The program counter is incremented
again.
(3)

Another MEMORY READ machine cycle, consisting of three states, in which the byte indica-

(ADD r)

ted by the processor's program counter is read
from memory and placed in the W register. The

program counter is incremented, in anticipation

CPU's six general

of the next instruction fetch.

is added to the existing contents of the
accumulator. Since all the information necessary to execute

(4)

the command is contained in the eight bits of the instruction

A MEMORY WRITE machine cycle, of three
states, in

code, only one memory reference is necessary. Three states

is

consisting of four

three

byte indicated by the program counter is read
from memory and placed in the processor's

that requires only a single

are used to extract the instruction

cycle,
first

of three states. During this machine cycle, the

purpose registers

additional state

the

A MEMORY READ machine cycle, consisting

(2)

machine cycle (FETCH) for its completion. In this one-byte
instruction, the contents of one of the

machine

During

state is used for internal instruction decoding.

instruction requires no further references to

is

indi-

tion indicated by its program counter. The program counter is then incremented. The fourth

therefore a FETCH. Beyond that, there are no fast rules.
depends on the kind of instruction that is fetched.

instruction

is

the two

in

machine cycle, the processor fetches the instruc-

must always have a fetch, even if the execu-

Consider some examples. The add-register

locations; the destination

memory locations immediately following the operation code

memory. The first machine cycle in every instruction cycle
is

memory

two address bytes which are stored

byte. The following sequence of events occurs:

Every instruction cycle has at least one reference to

memory, during which the instruction is fetched. An

cycles.

H and L registers are deposited in two sequen-

adjacent

instruction cycle associated with that instruction consists of

two machine cycles.

which requires five machine

processor's

address per machine cycle. Thus, if the fetch and execution
of an instruction requires two memory references, then the

tion of the

all,

"SHLD" instruction cycle, the contents of the

8080 is so constructed that it can transmit only one

struction cycle

in

During an

tially

ber of times that the processor must reference a memory
address or an addressable peripheral device, in order to
fetch and execute the instruction. Like many processors,

the

states

At the opposite extreme is the save H and L registers

(SHLD)

then

seven

"ADD M" instruction cycle.

struction involved.

the

of

which the contents of the L register

are transferred to the memory location pointed

from memory, and one

W and Z regisThe state following the transfer is used to

to by the present contents of the

used to accomplish the desired addition.

ters.

The entire instruction cycle thus requires only one machine

increment the W,Z register pair so that it indi-

cycle that consists of four states, or four periods of the ex-

cates the next memory location to receive data.

ternal clock.
(5)

Suppose now, however, that we wish to add the contents of a specific memory location to the existing contents

of the accumulator
in

principle to the

are

(ADD M). Although this is quite similar
example

In

its

new memory

location

summary, the "SHLD" instruction cycle contains

five machine cycles and takes

The actual sequence is as follows. First the processor
by

to the

just cited, several additional

An extra machine cycle will be used, in
order to address the desired memory location.

dressed

which the contents of the H register

transferred

pointed to by the W,Z register pair.

steps will be used.

extracts from

A MEMORY WRITE machine cycle, of three
states, in

Most instructions

fall

16 states to execute.

somewhere between the

ex-

memory the one-byte instruction word ad-

tremes typified by the "ADD r" and the "SHLD" instruc-

program counter. This takes three

tions.

states.

The input (IN) and the output (OUT) instructions,

The eight-bit instruction word obtained during the FETCH

for example,

machine cycle is deposited in the CPU's instruction register

obtain the instruction; a

and used to direct activities during the remainder of the

require three machine cycles:

a

FETCH, to

MEMORY Rf AD, to obtain the

address of the object peripheral; and an INPUT or an OUT-

instruction cycle. Next, the processor sends out, as an address,

PUT machine cycle, to complete the transfer.

4-4

While no one instruction cycle will consist of more

then

five

machine cycles, the following ten different types

basic transition sequence. In the present discussion, we are

concerned

only with

the

basic

sequence and with the

READY function. The HOLD and INTERRUPT functions

of machine cycles may occur within an instruction cycle:

will be discussed later.

FETCH (Ml)

(1)

The 8080 CPU does not directly indicate its internal

(3)

MEMORY READ
MEMORYWRITE

state

(4)

STACK READ

circuitry.

(5)

STACK WRITE

(2)

(10)

transmitting

Recall that the
states in every

control" output during

8080

passes through at least three
state defined

machine cycle, with each

by

successive low-to-high transitions of the 0 1 clock. Figure

(7)

OUTPUT

(8)

INTERRUPT

(9)

HALT

4-5 shows the

The

SYNC

signal

every machine cycle.
signal

machine cycles that actually

ticular instruv don cycle

timing relationships

in

a

typical

FETCH

machine cycle. Events that occur in each state are referenced
to transitions of the 0j and 02 clock pulses.

HALT • INTERRUPT
The

"state

a

WR

INPUT

(6)

by

each state; instead, the 8080 supplies direct control output
and WAIT) for use by external
(INTE, HLDA, DBIN,

do occur in a par-

identifies the first

As shown in Figure

state

4-5, the

SYNC

related to the leading edge of the 02 clock. There is

is

delay (t^c) between the low-to-high transition of 02 and

a

the positive-going edge of the SYNC pulse. There also

depend upon the kind of instrucmachine

in

(Ti)

is

a

tion, with the overriding stipulation that the first

corresponding delay (also tp^) between the next 02 pulse

cycle in any instruction cycle is always a FETCH.

and the falling edge of the SYNC signal. Status information

The processor

identifies the

machine cycle

in

is

prog-

by transmitting an eight-bit status word during the first
machine cycle. Updated status information is

ress

displayed on

D0-D7 during the same 02 to 02 interval.

Switching of the status signals is likewise controlled by 02-

The rising edge of 02 during T 1

state of every

also loads the pro-

SYNC interval. This data should be saved in latches, and

cessor's address lines (Ao~A15). These lines become stable
of the 02 clocking pulse, and
within a brief delay (t

used to develop control signals for external circuitry. Table
4-1 shows how the positive-true status information is dis-

they remain stable until the first 02 pulse after state T3.
This gives the processor ample time to read the data re-

tributed on the processor's data bus.

turned from memory.

on the 8080's data

presented

lines

(D0-D7), during the

DA

)

Once the processor has sent an address to memory,

Status signals are provided principally for the control
Simplicity of interface, rather than

there

is

an opportunity for the memory to request a WAIT.

machine cycle identification, dictates the logical definition

This

it

does by pulling the processor's

of external

circuitry.

of individual

a

machine cycles are uniquely identified by

The Mi status

READY line remains low, the processor will idle, giving the

status bits.

certain processor

You

single status bit, but that others are not.

bit

(D5), for example, unambiguously identifies a

machine

cycle.

A STACK READ,
STACK and MEMR

Machine cycle identification data

the test and

Table 4-1

is

memory

FETCH

on the other hand,

indicated by the coincidence of
nals.

the

time to respond to the addressed data request.

The processor responds to a wait request by entering

sig-

also valuable in

status bit outputs for each

the

Refer to Figure 4-5.

is

an alternative state

de-bugging phases of system development.

lists

READY line low,

"Ready set-up" interval (tp$) which occurs
during the 02 pulse within state T2 or T w* As long as the
prior to

will therefore observe that

(Tw) at the end of T2, rather than pro-

ceeding directly to the T3 state. Entry into the Tw state is
indicated by a WAIT signal from the processor, acknowledg-

type of

machine cycle.

ing the memory's request. A low-to-high transition on the
WAIT line is triggered by the rising edge of the 0i clock and

State Transition Sequence:

occurs within a brief delay (tpp) of the actual entry into
the

Every machine cycle within an instruction cycle consists of three to six active states (referred to as Ti, T2, T3,

A wait period may be of indefinite duration. The proREADY line
again goes high. A READY indication must precede the fallcessor remains in the waiting condition until its

T4, T5 or Tw). The actual number of states depends upon
the instruction being executed, and on the particular ma-

edge of the 02 clock by a specified interval (tpsK in
order to guarantee an exit from the Tyy state. The cycle
may then proceed, beginning with the rising edge of the

chine cycle within the greater instruction cycle. The state
transition diagram in Figure 4-4

ing

shows how the 8080 pro-

ceeds from state to state in the course of a machine cycle.

shows how the

The diagram

also

INTERRUPT

lines are

and

next 0i clock. A WAIT interval will therefore consist of an
integral number of Tw states and will always be a multiple

READY, HOLD, and

sampled during the machine cycle,

how the conditions on these

lines

Tw state.

of the clock period.

may modify the

4-5

Instructions for the 8080 require from one to five machine
cycles for complete execution. The 8080 sends out 8 bit of
status information on the data bus at the beginning of each

machine cycle (during SYNC time). The following table defines
the status information.

STATUS INFORMATION DEFINITION
Data Bus

Symbols

Bit

INTA*

Do

Definition
for INTERRUPT request. Signal should be used to gate a re-

Acknowledge signal
start instruction

onto the data bus when

DBIN is active.

WO

D,

Indicates that the operation in the current

machine cycle will be a WRITE memory

IMA

or OUTPUT function (WO = 0). Otherwise,
a

•

READ memory or INPUT operation will

be executed.

STACK

-

d2

Indicates that the address bus holds the
pushdown stack address from the Stack

d3

Acknowledge signal for HALT instruction.

d4

Indicates that the address bus contains the
address of an output device and the data
bus will contain the output data when

M,

Db

Ml

MEMO

is active.

Provides a signal to indicate that the CPU
is in the fetch cycle for the first byte of

an instruction.

INP*

d6

MEMR*

d7

~~r 1

T'

'

\r\

Indicates that the address bus contains the
address of an input device and the input
data should be placed on the data bus

—r~ V
r

when DBIN is active.

c

Designates that the data bus will be used
for memory read data.

’These three status bits can be used to control
the flow of data onto the 8080 data bus.

STATUS WORD CHART
TYPE OF MACHINE CYCLE

Table 4-1. 8080 Status Bit Definitions

4-6

OUT
INP

Pointer.

HLTA
OUT

WR

*VO

STACK
- HLTA

The events that take place during the T 3 state are
determined by the kind of machine cycle in progress. In a

data must remain stable during the "data hold" interval
(tDH) that occurs following the rising edge of the
pulse.

FETCH machine cycle, the processor interprets the data on

Data placed on these lines by memory or by other external

MEMORY READ or
STACK READ, data on this bus is interpreted as a data
data bus as an instruction. During a

its

a

word. The processor outputs data on

this

bus during a

MEMORY WRITE machine cycle. During I/O operations,
the processor

may

either

transmit or

pending ofi whether an OUTPUT or an
is

receive

data,

de-

INPUT operation

involved.

0

devices will be sampled during T

3

.

During the input of data to the processor, the 8080
generates a DBIN signal which should be used externally to
enable the transfer. Machine cycles in which DBIN is available

FETCH, MEMORY READ, STACK READ,

include:

and INTERRUPT. DBIN is initiated by the rising edge of

0

during state T2 and terminated by the corresponding edge of

1

Figure 4-7 illustrates the timing that is characteristic
of a data input operation. As shown, the low-to-high transi-

02 during T 3

T 3 will

.

Any Tyy phases intervening between T 2 and
extend DBIN by one or more clock

therefore

tion of 02 during T 2 clears status information from the pro-

periods.

cessor's data lines, preparing these lines for the receipt of

Figure 4-7 shows the timing of a machine cycle in
which the processor outputs data. Output data may be des-

incoming data. The data presented to the processor must
have stabilized prior to both the " 0 i-data set-up" interval

^DSI

that precedes the falling edge of the 0

tined either for

memory or for peripherals. The rising edge

DS2 ),

02 within state T 2 clears status information from the
CPU's data lines, and loads in the data which is to be output

that precedes the rising edge of
02 in state T3. This same

to external devices. This substitution takes place within the

ing

state

T 3 and the " 02 -data
,

*]

pulse defin-

set-up" interval

(t

of

STATUS
INFORMATION

A 1SC

SAMPLE READY

MEMORY ADDRESS
I/O DEVICE NUMBER

D7 0

STATUS INFORMATION
INTA

OUT

MLTA

WO

MEMR

M,

INP

STACK

NOTE:

(N)

FETCH DATA
OR

HOLD AND HALT

OR

HALT
OR

MEMORY
ACCESS TIME
ADJUST

Refer to Status Word Chart on Page 4-6.

Figure 4-5. Basic 8080 Instruction Cycle

INSTRUCTION

OR
WRITE DATA

INSTRUCTION
EXECUTION
IF REQUIRED

STATUS
INFORMATION

NOTE

:

(n)

Refer to Status Word Chart on Page 4-6.

4-9

output delay" interval (top) following the

''data

leading edge.

0 2 clock's
Data on the bus remains stable throughout

extend

sarily

WR, in much the same way that DBIN is af-

fected during data input operations.

the remainder of the machine cycle, until replaced by updated status information in the subsequent T state. Observe

All processor

*\

READY signal
necessary for completion of an
OUTPUT machine cycle. Unless such an indication presthat a

is

is

the processor enters the

ent,

Data

state.

interim,

the

on the output

T w state, following the T2
remains stable

lines

and the processing cycle

will

in

If

the processor has

to wait for a response from the peripheral or memory with

which

also contain

communicating, then the machine cycle may
one or more T\j\i states. During the three basic

states, data

transferred to or from the processor.

it

is

the

not proceed until

machine cycles consist of at least three

states: T*|, T2, and T3 as just described.

is

READY line again goes high.
T3 state, however, it becomes difficult to
T4 and T5 states are available, if the execution

After the

The 8080 CPU generates a WR output for the synchronization of external transfers, during those machine
cycles in which the processor outputs data. These include

MEMORY WRITE, STACK WRITE, and OUTPUT. The
negative-going leading edge of WR
referenced to the rising
is

edge of the first 0] clock pulse following T2, and occurs
a brief delay (t
DC of that event. WR remains low

within

)

by the leading edge of 0-j during the
state following T3. Note that any Tyy states intervening
between T2 and T3 of the output machine cycle will necesuntil

re-triggered

generalize.

of a particular instruction requires them. But not ail machine

cycles make use of these states. It depends upon the kind of
instruction being executed,

nate any machine cycle as soon as its processing activities
are completed, rather than proceeding

through the T4 and
T5 states every time. Thus the 8080 may exit a machine
cycle following the T3, the T4, or the

ASSOCIATED ACTIVITIES

Tl

A memory address or I/O device number is
placed on the Address Bus (A 15.0); status

information is placed on Data Bus (D7.0).

The CPU samples the READY and HOLD inputs and checks for halt instruction.

TW
(optional)

T3

READY is low
HALT instruction has been executed.

Processor enters wait state
or if

if

An instruction byte (FETCH machine cycle),
data byte (MEMORY READ, STACK READ,

INPUT) or interrupt instruction (INTERRUPT
machine cycle) is input to the CPU from the
Data Bus; or a data byte (MEMORY WRITE,

STACK WRITE or OUTPUT machine cycle)
is

T4
T5
(optional)

output onto the data bus.

States

T4 and T5 are available if the execu-

tion of a particular instruction requires them;
if

not,

them.

T5 state and pro-

ceed directly to the T 1 state of the next machine cycle.

STATE

T2

and on the particular machine

cycle within the instruction cycle. The processor will termi-

the CPU may skip one or both of
T4 and T5 are only used for internal

processor operations.

Table 4-2. State Definitions

4-10

In this way, the pre-interrupt status of the program counter

INTERRUPT SEQUENCES
The 8080 has the built-in capacity to handle external
interrupt requests.

A peripheral device can initiate an inter-

rupt simply by driving the processor's interrupt

(I

NT) line

is

preserved, so that data in the counter may be restored by

the interrupted program after the interrupt request has been
processed.

The interrupt cycle is otherwise indistinguishable from
FETCH machine cycle. The processor itself

high.

The
request

interrupt

(INT) input

is

asynchronous, and a

may therefore originate at any time during any

takes no further special action. It is the responsibility of the

Internal logic re-clocks the external re-

peripheral logic to see that an eight-bit interrupt instruction

instruction cycle.

quest, so that a proper correspondence with the driving
clock is established. As Figure 4-8 shows, an interrupt

request (INT) arriving during the time that the interrupt

enable

line

(INTE) is high, acts in coincidence with the 02

clock to set the internal interrupt latch. This event takes
place during the

last state

is

"jammed" onto the processor's data bus during state T3.

In a typical

in

progress is completed before the interrupt can be processed.

INTERRUPT machine cycle which follows the

arrival of an enabled interrupt request resembles an ordinary

FETCH machine cycle in most respects. The M-| status bit
transmitted as usual during the SYNC interval. It is

is

accompanied, however, by an INTA status bit (Do) which

The 8080's instruction set provides a special one-byte
call

instruction (RST).

to direct a Call to one of eight fixed memory locations. The

decimal addresses of these dedicated locations are: 0, 8, 16,
24, 32, 40, 48, and 56. Any of these addresses may be used

the

Figure 4-8.

:

(N)

A variable three-bit field embedded in

the eight-bitfield of the RST enables the interrupting device

during T ], but the counter itself is not incremented during

NOTE

which facilitates the processing of interrupts (the ordi-

nary program Call takes three bytes). This is the RESTART

to

INTERRUPT machine cycle, as it otherwise would be.

main data bus, so that the interrupting device can

command the main bus without interference.

acknowledges the external request. The contents of the
program counter are latched onto the CPU's address lines
the

system, this means that the data-in bus from

memory must be temporarily disconnected from the processor's

of the instruction cycle in which

the request occurs, thus ensuring that any instruction

The

an ordinary

store the first instruction(s)

of

a

routine designed to

service the requirements of an interrupting device. Since

(RST)

is

a

call,

completion of the instruction also

stores the old program counter contents on the STACK.

Refer to Status Word Chart on Page 4-6.

Interrupt Timing

4-11

HOLD Operation (Read Mode)

Figure 4-9.

In

t3

VI

Mn+1
T4

n

n

j

Ti

T2

T3

n_

n

n

n

D 7-0

~T~
r

l:

~T^

1

X

B

HOLD
REQUEST -

r

H

HOLD F/F

j

HLDA

l

Figure 4-10.

Si

§

\_

READY —

INTERNAL -

Si
H
fm EE
,

WR

HOLD

n

si BSHSI
h||

v

_
A 15 0

n

HOLD Operation (Write Mode)

4-12

A

|

\_

HOLD SEQUENCES
The 8080A CPU contains provisions for Direct Memory Access (DMA) operations. By applying a HOLD to the
appropriate control pin on the processor, an external device

returns to a low level following the leading edge of the next

01 clock pulse. Normal processing resumes with the machine cycle following the last cycle that was executed.

can cause the CPU to suspend its normal operations and relinquish control of the address and data busses. The proces-

HALT SEQUENCES

sor responds to a request of this kind by floating its address

When a halt instruction (HLT) is executed, the CPU
W after state T2 of the next ma-

to other devices sharing the busses. At the same time, the

processor acknowledges the

HOLD by placing a high on its

HLDA outpin pin. During an acknowledged HOLD, the
address and data busses are under control of the peripheral

enters the halt state (T

|_j )

chine cycle, as shown

Figure 4-11. There are only three

ways

in which the 8080 can exit the halt state:

which originated the request, enabling it to conduct memory transfers without processor intervention.
Like the interrupt, the
internally.

•

•

Figures 4-9 and 4-10 illustrate the timing involved in

•

enables the subsequent rising edge of the 0i clock pulse to

a specified delay

clock

INT goes high while INTE

(i.e.,

is

clock pulse. NOTE: The interrupt enable (INTE)

must be

set

when the halt state is entered;

RESET signal.
Figure 4-12

illustrates halt

sequencing

in

flow chart

form.

START-UP OF THE 8080 CPU

(Iqq) of the rising edge of the selected 0i

brief delay after the rising edge of the next 02 clock pulse.

This relationship is also shown in the diagrams.

To all outward appearances, the processor has suspend-

When power is applied initially to the 8080, the processor begins operating

however, certain functions may continue.

If

immediately. The contents of

its

program counter, stack pointer, and the other working registers are naturally subject to random factors and cannot be
specified. For this reason,

it

will

be necessary to begin the

power-up sequence with RESET.

ed its operations once the address and data busses are floated.

if

edge of the next 0i

Figure

HLDA goes high within

clock pulse. Address and data lines are floated within a

Internally,

the

deferred

(see

HOLD REQUEST is acknowledged at T3, and

When

otherwise, the 8080 will only be able to exit via a

data lines. The processor acknowledges a HOLD at the begin-

4-10). In both cases, however, the

rising

interrupt

flag

of the processor's address and

is

An

0*1

HLDA output as described below.
Acknowledgement of the HOLD REQUEST precedes

T3

described.

enabled) will cause the 8080 to exit the Halt state
and enter state T 1 on the rising edge of the next

trigger the

the beginning of the state following

previously

pulse.

the 02 clocks sets the internal hold latch. Setting the latch

Figure 4-9). Otherwise, acknowledgement

as

on the

state

the diagram, a coincidence of the READY, the HOLD, and

until

state,

HOLD line goes low, the 8080 re-enters the halt

HOLD operations. Note the delay between the asynchronous
HOLD REQUEST and the re-clocked HOLD. As shown in

(see

A HOLD input will cause the 8080 to enter the
hold

set-up" interval (tns)/ that precedes the rising edge of 02-

ning of T3, if a read or an input machine cycle is in progress

A high on the RESET line will always reset the
8080 to state Tj; RESET also clears the program
counter.

HOLD input is synchronized

A HOLD signal must be stable prior to the "Hold

slightly the actual floating

in

a

An external RESET signal of three clock period dura-

the pro-

four or more states to complete, the CPU proceeds through

(minimum) restores the processor's internal program
counter to zero. Program execution thus begins with memory location zero, following a RESET. Systems which re-

T4 and T5 before coming to a rest. Not until the end of the

quire the processor to wait for an explicit start-up signal

cessor

is

in

tion

the middle of a machine cycle which requires

machine cycle

is

reached will processing activities cease.

tions.

DMA transfer, improving both the efficiency and the speed
The processor

exits

the

holding
it

state

entered.

through

its

data transfer. The

may begin ex-

ecuting its stored program immediately. Note, however, that
the RESET has no effect on status flags, or on any of the

a

A HOLD

processor's

working

registers

(accumulator, registers, or

stack pointer). The contents of these registers remain inde-

REQUEST is terminated asynchronously when the external
device has completed

A manual or an automatic INTERRUPT will be used

for starting. In other systems, the processor

of the entire system.

sequence similar to that by which

HLT) in the first two loca-

will store a halt instruction (El,

Internal processing is thus permitted to overlap the external

terminate, until initialized explicitly by the program.

HLDA output

4-13

Tn + 2

Tn + 3

Tn-Hi-H

Tn +

i

INTERNAL
RESET

STATUS
INFORMATION
(,)

WHEN RESET SIGNAL IS ACTIVE. ALL OF CONTROL OUTPUT SIGNALS WILL BE RESET IMMEDIATELY OR SOME

CLOCK PERIODS LATER. THE RESET SIGNAL MUST BE ACTIVE FOR A MINIMUM OF THREE CLOCK CYCLES. IN
THE ABOVE DIAGRAM N AND MAY BE ANY INTEGER
I

note

Figure 4-14.

® Refer to Status Word Chart on Page 4-6.

Relation between HOLD and INT in the HALT State

4-15

MNEMONIC

Mim

OP CODE

°7°6 d 5 d 4

MOV rl r2

0

,

1

M2

°3 d 2 d 1°0

D

D O

S

S

S

PC OUT

PC

PC +1

(NST-TMP/IR

(SSS)-TMP

STATUS

MOV

r.

M

0

1

D O

110

0

ilF

HLOUT

DDD

DATA

STATUS161

MOV M.

0

r

111

0

S

S

10 0

1

D

0

S

HL OUT

(SSS)-TMP

{

status! 7

SPHL

1111

MVI r. data

0

0

D D

1

1

(TMP)

!

X

PC OUT

,

PC - PC

STATUS^;
MVt M, data

LX

I

0

rp, data

0

11

0

— DATA BUS

(HU

110

PC

M

PC

B2 -*»DDD

TMP

82

1

OORP

0001

PC - PC * 1

B2-^r'

Z
—Z

LOAaddr

0

0

11

10 10

PC-PC +

1

B2-

STA addr

0

0

1

0

0

PC-PC +

1

B2

LHLDaddr

0

0

10

10 10

PC-PC +

1

B2 —

SHLOaddr

0

0

1

PC-PC +

1

B2- *-Z

1

0

0 0

0

1

1

0

PC OUT

STATUS^

OORP
OORP
1110

LDAXrpW
STAX rpM

XCHG

ADD r

1010
0010
1011

,1000

ADD M

1

0

0

0

0

S

S

S

0

1

1

0

DATA —

rp OUT

STATUS (6)
rp OUT

IA>

Z

A

VOATA BUS

STATUS^*
•

(SSS)-TMP
(A)-ACT 4,

HLI •• <DF)

WBB

(ACT)f(TMP)— A

HL OUT

DATA— .TMP

,

STATUS161

ADI data

‘

1

1

0

0

j

0

1

1

0

PC OUT

PC-PC + 1

TMP

B2-

STATUSl®

ADC r

1

ADC M

1

AC data

110 0

0

0

0

1

S

S

(SSSI —TMP

S

&

(ACT)+(TMPI+CY »A

(A)-ACT

I

0

0

0

1

1

1

0

DATA—

HL OUT
STATUS^

1110

PC-PC+1

PC OUT

B2-

{TMP

STATUS^)

SUB r

10 0

1

0

S

S

(SSS)—TMP

S

(A)

SUB M
SUI data

SBBr
SBB M

10 0

110
10 0

1

1

1

0

0

1

(ACT)-(TMP»-*A

*ACT

110

HL OUT

mm

110
S

S

S

(SSS)-TMP

DATA— *-TMP

,

STATUS!®!

T

PC-PC +

1

B2--P-TMP

s?A°T°u s.ei
19)

(ACT)-(TMP)-CY->A

(A)-ACT

10 0 11110

HL OUT

DATA —

» TMP

B2

(TMP

STATUS!®)

1110

SBI data

110

INR r

0

0

D D

D

1

INR M

0

0

11

0

10 0

DCR r

0

0

D D

D

1

0

1

DCR M

0

0

11

0

10

1

0

0

1

0

PC

0

(OOD) *TMP
(TMP) + 1-ALU

IDDDI -TMP
TMP) 1 -ALU
I

DADrpI®

OORP
OORP
OORP

DAA

0

INX rp

OCX rp

0

10

11

10 11

10 0
0

1

111

66-ACT [10]
(A) -TMP

ANAr

10 10

0

S

ANA M

10 10

0

110

S

s

(SSS)-TMP
(A)-* ACT

PC OUT

STATUS

PC

PC + 1

INST-TMP/IR

(AHACT

PC + 1

M5

T2®

HL OUT
STATUSl 7

,

W DATA BUS

(TMP) -

|

'

PC OUT

PC = PC

1

(rh

B3

STATUS®

PC OUT-

PC = PC + 1

83 — W

PC = PC+1

B3 —

PC = PC*1

B3

PC= PC + 1

B3 —

—

STATUS®

w
w
w

<

HLOUT

,

WZ OUT

ACT)-(TMP)-CY-»A

mmowmxm j

ALU -[DATA BUS

mm*11*111
HLOUT
STATUS^

ALU—

DATA BUS

{rh)-*ACT

(HH-TMP
(ACT)+<TMP)+CY-ALU

ALU-»H, CY

DATA

<

»

A

(A)

4

-

DATA BUS

(

- L

STATUSUJ

WZ OUT
STATUS®

DATA
WZ = WZ

WZ OUT

(U

,

STATUSl 7

(ACT)-(TMP)-CY-*A

STATUS

WZ OUT
STATUS®

)

1

WZ • WZ + 1

(

DATA BUS

[

T3

MNEMONIC

OP CODE
°7 D6 O5 O4

XRA

r

XRA M
XRI data

ORA

r

ORA M
ORI data

CMP

Dl Oq

0

110

1110
1010
1010
1110
1011
1011
1111

ANI data

T2I2J

T1

PC OUT

PC

T3

PC + 1

T4

s

s

1

1

s

1110
1110

STATUS!®

5 *** if

«

(A)-ACT

Sill

(A)-*ACT

I

T3

T2121

PC

82

VTMP

DATA

TMP

PC + 1

(ACT)* (TPM)—

(91

<

(A)— ACT

s

s

ifiiifli

mu

(SSS)-TMP

s

T1

PC OUT

(A)-ACT

1

0

T6

(Al— ACT

INST-TMP/IR

STATUS

iltilr.iPPI

HL OUT
status!®)
PC OUT
status!®)

B2 -

PC - PC + 1

TMP

(ACTK(TMP)-A

(9)

(SSS)-TMP

110

0

(A)—ACT

HL OUT

data- •-TMP

status!6I

110

0

10 11

r

M2

Ml 111

d3

s

s

1

(A)-»ACT

s

llil

(AI-ACT

PC OUT

PC-PC + 1

B2

TMP

-

STATUS!®
(ACTI-(TMP). FLAGS

(9)

(SSS)-TMP

CMP M

10 11

CPI data

1111

1110
1110

RLC

0 0 0 0

0

(A)— ACT

Pllliljjniiiii

jam
WBm

(A)-ACT

111

(A)—ALU

ROTATE

RRC

0

0

0

1111

0

0

0

0

(A)-ALU

111

0

1

0

0

CMA

0

0

10

1111
1111

CMC

0

0

11

1111

STC

0

0

11

0

111

JMP addr

1100

0

0

RAR

0

1

J cond addr! 17 )

1

CALL addr

1100

C cond addr! 17

)

1

1

1

C C

c 0

C

R cond addrl 17

!

A— ALU
COMPLEMENT
CY—ALU
COMPLEMENT

—

1

0

0

10 0

1

1

c c

c

0

0

0

1

1

N N

N

1

1

1

L

I***#*#

iiiiimiiiiina

1110

PUSH rp

1

R P

0

10 4

PUSH PSW

1111

0

10

1

POP rp

1

R P

0

0

0

1

1

1

(9)

ALU-A. CY

HHrHtTjttS

(91

ALU-A, CY

milns!ii|lll

(91

ALU-A, CY

Umiisnistt

(91

ALU-A, CY

•rf «***;•**?

(9)

ALU-A

\mm

(91

ALU-CY

19;

ALU-CY

PC OUT
status!®)

PC - PC + 1

B2

PC OUT .

PC * PC + 1

B2 — -z

PC

PC + 1

82

-z

PC - PC + 1

B2

z

SP - SP + 1

DATA —

PCL

tss:::;::??!??

status!®
PC OUT

SP = SP - 1

z

#

,

STATUS)®

JUDGE CONDITION ‘SHhHSsj
SP - 1

X

,

,

status!®

S**i»*****#»*;>4*

SP OUT

mik-affffti
JUDGE CONDITION! *)

INST— TMP/IR

PC OUT

Inn::::::::;::

1

,

status! 15

)

SP OUT

SP

status! 1 ®

SP + 1

DATA — PCL

*

«*-W

SP OUT ,
ST AT us! 1 61

SP - SP - 1

,

INST— TMP/IR

PCHL

1001

INST— TMP/IR
_

1

1111

JUDGE
CONDITION

1

1

—

TMP

lllillll

-ALU
X

—
RST n

82 -

PC - PC + 1

HtteSr.r;;n!

CY— A LU
ROTATE
(A).

IF TRUE, SP

110 0

RET

PC OUT ,
status!®)

TMP

-

l_...

0

1

i

..

11

110

C c

jMpp

CY-ALU
ROTATE
(A),

1

DATA

*#»*l»v>** «#»»*»*

ROTATE

RAL

HL OUT
status!®

J

(HU

SP-SP-1

(PCH)

•DATA BUS

SP-SP-1

(rh)

•DATA BUS

SP-SP-1

(A)

DATA BUS

PC

lillsIHHIll
SP -

SPOUT

SP - 1

status! 1 ®
SP OUT

SP - SP - 1

status! ®
1

1

X

**m**iti ISltSS
0

0

0

0

0

11

IN port

1111
1110
110

OUT port

110

0

El

1111

1011

X

01

1111

0

11

X

POP PSW

XTHL

HLT

1

0

•>*«•••«

X

111

0

X

0

11

X

0110

,

,

SP - SP
SP

1

SP + 1

DATA - *>rl
DATA

FLAGS

DATA -

Z

it::::::::::.::;

status! 1 ®

Its

SP OUT

SP - SP

PC OUT

PC - PC + 1

B2 — z, w

PC-PC +

82

mm
mm
mm
IlillliliHHH

1

status! 1 ®
SP OUT

X

10 11

SPOUT

STATUS) 1 ®

status!®
PC OUT

1

status!®
SET INTE
F/F 111)

RESET INTE

z. w

Sjipllii 111

#

**»»•««•-***

F/F (111

PC OUT

X

1

HALT MODEI29)

STATUS
NOP

0

0

0

0

0

0

0

0

PC OUT
STATUS

PC

PC

1

INST-TMP/IR

X
j

4-18

1IIS

Ml

iiilMipla# lltill

on
V
'
yv
£ otAv^t^ o
.
f^*'
Pv o cj ' '
w stir* c ^ "p
( CtA cvT^ ^u. v,
‘-

\

<

+

u"

^,

c

^

(ACTMTMPJ-A

(ACT)^(TMPHA
(ACT)+(TMP)-*A

(ACT)+(TMP) -»A
(ACT)+(TMP)-»A

(ACT)-(TMP): FLAGS

(ACT)-(TMP); FLAGS

WZ 0UT ,ii,

P C °UT

STATUS* 6

status! 11

!

PC OUT
STATUS*®!
PC OUT
STATUS*6

-

SP OUT

,

STATUS* 16

*

,
!

SP OUT

STATUS* 16

*

SPOUT

SP + 1

DATA

SP - SP + 1

DATA

SP

STATUS* 15

!

STATUS* 1

1

SPOUT
STATUS* 16

!

*•

(TMP = OONNNOOO)(PCL)

IPCH)
SP = SP - 1
(PCH)

DATA BUS

SPOUT

(PCL)

STATUS* 16

U-DATA BUS

DATA BUS

(PCU

DATA BUS

STATUS* 1 ^

[DATA BUS

STATUS* 16

*

SP 0UT

1

DATA

SP “ SP + 1

DATA

SP-SP*
*

[icl

STATUS* 15

*

SP OUT

,

STATUS* 15

WZ OUT

,

DATA BUS

SPOUT

DATA

STATUS* 16

*

,

STATUS* 1 ®

DATA BUS

SPOUT
STATUS* 16

*

*

DATA

STATUS* 1 81

WZOUT

STATUS* 11 1 *!

WZ OUT
DATA BUS

*

SPOUT

,

!

WZ OUT
-

*

STATUS* 16
SP 0UT

WZ OUT
STATUS* 11

!

SP OUT

STATUS* 16

*

,

DATA BUS

SPOUT

STATUS* 15

.

ViUVJ status* 11 1 ?!

PC OUT

STATUS* 6

*

iMl wzout

DATA BUS

4-19

NOTES:
The first memory cycle (M 1 ) is always an instruction

1 .

13.

fetched during this cycle.

If the

condition was not met, sub-cycles M4 and M5

are skipped; the processor instead proceeds immediately to

2.
If the READY input from memory is not high during
T2 of each memory cycle, the processor will enter a wait

the instruction fetch (Ml) of the next instruction cycle.

READY is sampled as high.

14.

If the

condition was not met, sub-cycles M2 and M3

are skipped; the processor instead proceeds immediately to

States T4 and T5 are present, as required, for opera-

3.

If

WZ are output on the address lines (Ao-15) instead of

the contents of the program counter (PC).

fetch; the first (or only) byte, containing the op code, is

state (TW) until

the condition was met, the contents of the register

12.
pair

the instruction fetch (Ml) of the next instruction cycle.

tions which are completely internal to the CPU. The contents of the internal bus during T4 and T5 are available at

15. Stack read sub-cycle.

the data bus; this is designed for testing purposes only. An

16. Stack write sub-cycle.

“X'' denotes that the state is present, but is only used for
17.

such internal operations as instruction decoding.

These states are skipped.

6.

Memory read sub-cycles; an instruction or data word

will

be read.

7.

Memory write sub-cycle.

001

010
011

100
101

- plus (S = 0)

110

M — minus (S = 1)

111

P

8.
The R EADY signal is not required during the second
and third sub-cycles (M2 and M3). The HOLD signal is

18. I/O sub-cycle: the I/O port's 8-bit select code is dupli-

cated on address lines 0-7 (A0-7) and 8-15 (As^ 5).

accepted during M2 and M3. The SYNC signal is not generated during M2 and M3. During the execution of DAD,

M2 and M3 are required for an internal register-pair add;
memory is not referenced.

19.

Output sub-cycle.

20.

The processor will remain idle in the halt state until

an interrupt, a reset or a hold is accepted. When a hold re-

The results of these arithmetic, logical or rotate in-

9.

000

Z - zero (Z= 1)
NC - no carry (CY = 0)
C - carry (CY = 1)
PO - parity odd (P = 0)
PE — parity even (P = 1

(registers D and E) may be specified.
5.

CCC

NZ — not zero (Z = 0)

Only register pairs rp = B (registers B and C) or rp= D

4.

CONDITION

quest is accepted, the CPU enters the hold mode; after the

structions are not moved into the accumulator (A) until

hold mode is terminated, the processor returns to the halt

state T2 of the next instruction cycle. That is,

state. After a reset is accepted, the processor begins execu-

A

loaded
while the next instruction is being fetched; this overlapping
is

tion at memory location zero. After an interrupt is accepted,
the processor executes the instruction forced onto the data

of operations allows for faster processing.
10.

If

bus (usually a restart instruction).

the value of the least significant 4-bits of the accumu-

lator is greater than 9 or_ if the auxiliary carry bit is set, 6
is

added to the accumulator. If the value of the most signifi-

cant 4-bits of the accumulator is now greater than 9, or if

the carry bit is set, 6 is added to the most significant
4-bits of the accumulator.
1 1

.

This represents the first sub-cycle (the instruction

fetch) of the next instruction cycle.

4-20

SSS or DDD

Value

rp

A

111

B

00

B

000

01

C
D

001

D
H
SP

11

E

011

H

100

L

101

010

"

Value

10

CHAPTER 5
THE INSTRUCTION SET

WHAT THE INSTRUCTION SET IS

5.1

DDD, SSS

A computer, no matter how sophisticated, can
do only what it is instructed to do. A program is

The bit pattern designating
one of the registers A,B,C,D,
E,H,L (DDD = destination,

SSS = source):

a sequence of instructions, each of which is
recognized by the computer and causes it to
perform an operation. Once a program is placed
in memory space that is accessible to your

DDD or

REGISTER

SSS

NAME

111

A

CPU, you may run that same sequence of instructions as often as you wish to solve the
same problem or to do the same function. The
set of instructions to which the 8085A CPU will

000

B

001

010

C
D

respond is permanently fixed in the design of

011
100

H

the chip.

101

L

Each computer instruction allows you to initiate the performance of a specific operation.
The 8085A implements a group of instructions
that move data between registers, between a
register and memory, and between a register
and an I/O port. It also has arithmetic and logic
instructions, conditional and unconditional
branch instructions, and machine control instructions. The CPU recognizes these instructions only when they are coded in binary form.

E

One of the register pairs:
B represents the B,C pair with
B as the high-order register
and C as the low-order
register;

D represents the D,E pair with
D as the high-order register
and E as the low-order
register;

SYMBOLS AND ABBREVIATIONS:

H represents the H,L pair with
H as the high-order register
and L as the low-order

The following symbols and abbreviations are

SP represents the 16-bit stack

5.2

register;

used in the subsequent description
8085A instructions:

of

the

pointer register.

RP

SYMBOLS

MEANING

accumulator

Register A

addr

16-bit address quantity

data

8-bit quantity

The
one

bit

of

pattern designating
the register pairs

B,D,H,SP:

REGISTER

RP

PAIR

data 16

16-bit data quantity

byte 2

The second byte of the instruc-

10

B-C
D-E
H-L

tion

11

SP

byte 3

00
01

The third byte of the instruc-

rh

The

rl

The

tion

port

8-bit

address of an I/O device

r,r1,r2

One

of

the

registers

mnemonics copyrighted ©Intel Corporation 1976.

second

register

A,B,C,

of

register pair.

D.E.H.L
‘All

first (high-order) register
of a designated register pair.

5-1

a

(low-order)
designated

THE INSTRUCTION SET
PC

program

16-bit

counter

The boxes describe the binary codes that
comprise the machine instruction.
6. The last four lines contain information about
the execution of the instruction. The number
of machine cycles and states required to ex5.

register (PCH and PCL are
used to refer to the high-order

and low-order 8

bits

respec-

tively).

SP

16-bit

ecute the instruction are listed first. If the instruction has two possible execution times,
as in a conditional jump, both times are
listed, separated by a slash. Next, data addressing modes are listed if applicable. The

stack pointer register

(SPH and SPL are used to refer
to the high-order and low-order
8 bits respectively).
r

m

Bit

m of the register

r (bits

are

last line lists any of the five flags that are affected by the execution of the instruction.

number 7 through 0 from left
to right).

LABEL

INSTRUCTION AND DATA FORMATS

16-bit address of subroutine.

5.3

The condition flags:

Memory used in the MCS-85 system is organ-

Z

Zero

ized in 8-bit bytes. Each byte has a unique location in

s

Sign

p

Parity

CY
AC

Carry

0

The contents of the memory

physical memory. That location is described by one of
a sequence of 16-bit binary addresses. The 8085A can
address up to 64K (K = 1024, or 210; hence, 64K
represents the decimal number 65,536) bytes of
memory, which may consist of both random-access,
read-write memory (RAM) and read-only memory
(ROM), which is also random-access.
Data in the 8085A is stored in the form of 8-bit

Auxiliary Carry

location or registers enclosed
in the parentheses.

binary integers:

“Is transferred to”

DATA WORD

Logical AND

A

1

1

1

1

1

1

1

I

Exclusive OR

-v1.

Inclusive OR

A
+
-

MSB

Addition

LSB

Two’s complement subtraction

When a register or data word contains a binary

Multiplication

number, it is necessary to establish the order in which
the bits of the number are written. In the Intel 8085A,
BIT 0 is referred to as the Least Significant Bit (LSB),
and BIT 7 (of an 8-bit number) is referred to as the
Most Significant Bit (MSB).

—

“Is exchanged with”

n

The one’s complement (e.g.,(Ajj
The restart number 0 through 7

NNN

1

D7 Dg D5 D4 D3 D2 Di Dq

An 8085A program instruction may be one, two or
three bytes in length. Multiple-byte instructions must
be stored in successive memory locations; the address
of the first byte is always used as the address of the instruction. The exact instruction format will depend
on the particular operation to be executed.

The binary representation 000
through 111 for restart number
0 through 7 respectively.

The instruction set encyclopedia is a detailed
description of the 8085A instruction set. Each
instruction is described in the following manner:

Single Byte Instructions

The MCS-85 macro assembler format, consisting of the instruction mnemonic and

1

1

1

1

1

1

1

d7

operand fields, is printed in BOLDFACE on

Do

Op Code

Do

Op Code

Do

Data or
Address

the first line.

Two-Byte Instructions

The name of the instruction is enclosed in
parentheses following the mnemonic.

Byte

3. The next lines contain a symbolic description

One

2.

71
d

1

1

1

1

7

of what the instruction does.

Byte

4. This is followed

by a narrative description of
the operation of the instruction.

^ All

mnemonics copyrighted ©Intel Corporation 1976.

Two D,

5-2

*

1

THE INSTRUCTION SET
Three-Byte Instructions

•

Op Code

Data
or

Address

—

The branch instrucRegister Indirect
tion indicates a register-pair
which contains the address of
the next instruction to be executed. (The high-order bits of
the address are in the first
register of the pair, the loworder bits in the second.)

The RST instruction is a special one-byte call instruction (usually used during interrupt se-

RST includes a three-bit field; program control is transferred to the instruction
whose address is eight times the contents of
quences).

5.4

ADDRESSING MODES:

this three-bit field.

Often the data that is to be operated on is stored in
memory. When multi-byte numeric data is used, the
data, like instructions, is stored in successive memory

5.5

There are five condition flags associated with
the execution of instructions on the 8085A.
They are Zero, Sign, Parity, Carry, and Auxiliary
Carry. Each is represented by a 1-bit register (or
flip-flop) in the CPU. A flag is set by forcing the
bit to 1; it is reset by forcing the bit to 0.
Unless indicated otherwise, when an instruction affects a flag, it affects it in the following
manner:
If the result of an instruction
Zero:
has the value 0, this flag is set;
otherwise it is reset.

locations, with the least significant byte first, follow-

ed by increasingly significant bytes. The 8085A has
four different modes for addressing data stored in

memory or in registers:
•

Direct

— Bytes 2 and 3 of the instruction
contain the exact memory address of the data item (the loworder bits of the address are in
byte 2, the high-order bits in
byte 3).

•

Register

CONDITION FLAGS:

— The instruction specifies the

Sign:

register or register pair in which
the data is located.
•

•

Register

—

The instruction
Indirect
specifies a register pair which
contains the memory address
where the data is located (the
high-order bits of the address
are in the first register of the
pair the low-order bits in the
second).

Immediate

Parity:

Carry:

— The instruction contains

flag is set; otherwise it

Auxiliary Carry: If the instruction caused a
carry out of bit 3 and into bit 4
of the resulting value, the auxiliary carry is set; otherwise it is
reset. This flag is affected by
single-precision additions, subtractions, increments, decre-

— The branch instruction contains

ments, comparisons, and

the address of the next instruction to be executed. (Except for
the ‘RST’ instruction, byte 2
contains the low-order address
and byte 3 the high-order ad-

logi-

cal operations, but is principally used with additions and increments preceding a DAA

(Decimal Adjust Accumulator)
instruction.

dress.)
mnemonics copyrighted ©Intel Corporation 1976.

If the instruction resulted in a
carry (from addition), or a borrow (from subtraction or a comparison) out of the high-order

is reset.

Unless directed by an interrupt or branch inthe execution of instructions proceeds through consecutively increasing
memory locations. A branch instruction can
specify the address of the next instruction to be
executed in one of two ways:

* All

If the modulo 2 sum of the bits
of the result of the operation is
0, (i.e., if the result has even
parity), this flag is set; otherwise it is reset (i.e., if the result

bit, this

stitution,

Direct

the most significant bit of the

has odd parity).

the data itself. This is either an
8-bit quantity or a 16-bit quantity (least significant byte first,
most significant byte second).

•

If

result of the operation has the
value 1, this flag is set; otherwise it is reset.

5-3

THE INSTRUCTION SET
INSTRUCTION SET ENCYCLOPEDIA

5.6

In the ensuing dozen pages, the complete
8085A instruction set is described, grouped in

MOV

The content of the memory location, whose
address is in registers H and L, is moved to

order under five different functional headings,
as follows:

1.

M
(Move from memory)
- ((H) (L))

r,

(r)

register r.

—

Moves data beregisters or between memory
locations and registers. Includes moves,
loads, stores, and exchanges. (See
below.)
Data Transfer Group

tween

Cycles:
States:
Addressing:
Flags:

—

Group
Adds, subtracts, increments, or decrements data in
registers or memory. (See page 5-13.)
3. Logic Group
ANDs, ORs, XORs, compares, rotates, or complements data in
registers or between memory and a
register. (See page 5-16.)
4. Branch Group
Initiates conditional or
unconditional jumps, calls, returns, and
restarts. (See page 5-20.)
5. Stack, I/O, and Machine Control Group
2. Arithmetic

—

MOV M, r

reg. indirect

none

(Move to memory)

-

((H)) (L))

(r)

The content of register r is moved to the
memory location whose address is in
registers H and L.

—

Cycles:
States:
Addressing:
Flags:

— Includes instructions for maintaining

the

stack, reading from input ports,
writing to output ports, setting and
reading interrupt masks, and setting and
clearing flags. (See page 5-22.)

MVI r, data

none

(Move Immediate)

- (byte 2)

(r)

The formats described in the encyclopedia
reflect the assembly language processed by

reg. indirect

The content of byte 2 of the instruction is
moved to register r.

Intel-supplied assembler, used with the Intellec®

development systems.

5.6.1

Data Transfer Group

Cycles:
States:
Addressing:
Flags:

This group of instructions transfers data to and
from registers and memory. Condition flags are
not affected by any instruction in this group.

(Move to memory immediate)

MVI M, data

MOV rl, r2
(rl) - (r2)

(Move Register)

The content of

register r2 is

((H) (L))

moved to

register rl.

0

* All

- (byte 2)

The content of byte 2 of the instruction is
moved to the memory location whose address is in registers H and L.

n
Cycles:
States:
Addressing:
Flags:

immediate
none

— —r

i

1

0

1

i

1

n

1

1

0

i

i

i

0

4 (8085), 5 (8080)
register

none

mnemonics copyrighted ©Intel Corporation 1976.

Cycles:
States:
Addressing:
Flags:

immed./reg. indirect

none

THE INSTRUCTION SET
(Load H and L direct)
(L)— ((byte 3Kbyte 2))

LHLD addr

LXI rp, data 16 (Load register pair immediate)
(rh) - (byte 3),
(rl) - (byte 2)
Byte 3 of the instruction is moved into the
high-order register (rh) of the register pair
rp. Byte 2 of the instruction is moved into
the low-order register (rl) of the register pair

(H)— ((byte 3)(byte 2) + 1)
The content of the memory location, whose
address is specified in byte 2 and byte 3 of
the instruction, is moved to register L. The
content of the memory location at the suc-

ceeding address is moved to register H.

rp.

ns

~T~
0

0

1

1

1

0

0

0

1

L

low-order data
high-order data

LDA addr
(A)

Cycles:
States:
Addressing:
Flags:

3
10

Cycles:
States:
Addressing:
Flags:

immediate
none

SHLD addr

(Load Accumulator direct)

- ((byte 3)(byte 2))

0

0
•

—
—
1110
1

1

1

none

(Store H and L direct)

The content of register L is moved to the
memory location whose address is
specified in byte 2 and byte 3. The content
of register H is moved to the succeeding

1

1

direct

((byte 3Kbyte 2))-(L)
((byte 3)(byte 2)+1)-(H)

The content of the memory location, whose
address is specified in byte 2 and byte 3 of
the instruction, is moved to register A.
i

5
16

0

memory location.

low-order addr
high-order addr

Cycles:
States:
Addressing:
Flags:

STA addr

4
13
direct

none

Cycles:
States:

(Store Accumulator direct)

((byte 3Kbyte 2))

- (A)

5
16

Addressing:

direct

Flags:

none

The content of the accumulator is moved to
the memory location whose address is
specified in byte 2 and byte 3 of the instruc-

LDAX rp
(A)

(Load accumulator indirect)

- ((rp))

The content of the memory location, whose
address is in the register pair rp, is moved
register A. Note: only register pairs
rp = B (registers B and C) or rp = D
(registers D and E) may be specified.

to

Cycles:
States:
Addressing:
Flags:

* All

4
13

Cycles:
States:
Addressing:
Flags:

direct

none

mnemonics copyrighted ©Intel Corporation 1976.

5-5

2
7
reg. indirect

none

THE INSTRUCTION SET
STAX rp

ADD M

(Store accumulator indirect)

«rp» - (A)
The content of register A is moved to the
memory location whose address is in the
register pair rp. Note: only register pairs

(A)

(Add memory)

- (A) + ((H) (L))

The content of the memory location whose
address is contained in the H and L
registers is added to the content of the accumulator. The result is placed in the ac-

rp = B (registers
B and C) or rp = D
(registers D and E) may be specified.

cumulator.

———
10
i

i

1
1

i

0

0

Cycles:
States:
Addressing:
Flags:

2
7

0

Cycles:
States:
Addressing:
Flags:

XCHG

1

0

1

2
7
reg. indirect

none

(Exchange H and L with D and E)

- (D)
<L) - (E)
(H)

The contents of registers H and L are exchanged with the contents of registers D
and E.

ADI data
(A)

reg. indirect

Z,S,P,CY,AC

(Add immediate)

- (A) + (byte 2)

The content of the second byte of the instruction is added to the content of the accumulator. The result is placed in the accumulator.
Cycles:
States:
Addressing:
Flags:

5.6.2

1

110

4

i

register

none

Arithmetic Group

i

r

i

1

1

0

0

Cycles:
States:

2
7

0

1

1

L

This group of instructions performs arithmetic
operations on data in registers and memory.

Unless indicated otherwise, all instructions in
this group affect the Zero, Sign, Parity, Carry,
and Auxiliary Carry flags, according to the standard rules.

Addressing:

All subtraction operations are performed via
two’s complement arithmetic and set the carry
flag to one to indicate a borrow and clear it to
indicate no borrow.

ADD r

ADC r

—

placed in the accumulator.
1

1

0

1

1

0

0

T

s

1

s

‘All

1

r

1

0

0

1

S

1

1

S

>

Cycles:
States:
Addressing:
Flags:

1

4
register

Z,S,P,CY,AC

mnemonics copyrighted ©Intel Corporation 1976.

+ (CY)

s
r

Cycles:
States:
Addressing:
Flags:

10

1

0

(r)

cumulator.

The content of register r is added to the
content of the accumulator. The result is
1

- (A) +

The content of register r and the content of
the carry bit are added to the content of the
accumulator. The result is placed in the ac-

(Add Register)

1

(Add Register with carry)

(A)

- (A) + (r)

(A)

immediate
Z,S,P,CY,AC

Flags:

5-6

1

4
register

Z,S,P,CY,AC

S

THE INSTRUCTION SET
ADC M
(A)

SUB M

(Add memory with carry)

- (A) + ((H) (L)) + (CY)

(A)

The content of the memory location whose
address is contained in the H and L

The content of the memory location whose
address is contained in the H and L
registers and the content of the CY flag are
added to the accumulator. The result is

registers is subtracted from the content of
the accumulator. The result is placed in the
accumulator.

placed in the accumulator.

1

0

1

H0 r0

0

reg. indirect

Z,S,P,CY,AC

(A)

SUB r
(A)

2
7
reg. indirect

Z,S,P,CY,AC

- (A) - (byte 2)

The content of the second byte of the instruction is subtracted from the content of
the accumulator. The result is placed in the
accumulator.

1110

|

110 10 110
9

T

1

I

T

2
7

Cycles:
States:

immediate

2
7

Addressing:

immediate

Flags:

Z,S,P,CY,Ai

Z,S,P,CY,AC

SBB r

(Subtract Register with borrow)
(r) - (CY)
The content of register r and the content of
the CY flag are both subtracted from the
accumulator. The result is placed in the ac(A)

(r)

The content of register r is subtracted from
the content of the accumulator. The result
is placed in the accumulator.

- (A) -

cumulator.

Cycles:
States:
Addressing:
Flags:

I

data

(Subtract Register)

- (A) -

0

i

i

(Subtract immediate)

SUI data

data

Cycles:
States:
Addressing:
Flags:

r
0

1

Cycles:
States:
Addressing:
Flags:

2
7

The content of the second byte of the instruction and the content of the CY flag are
added to the contents of the accumulator.
The result is placed in the accumulator.

0

0

0

i

- (A) + (byte 2) + (CY)

110

—

l"

i

i

(Add immediate with carry)

ACI data
(A)

1

1

Cycles:
States:
Addressing:
Flags:

r

1

1

(Subtract memory)

- (A) - ((H) (L))

1

Cycles:
States:
Addressing:
Flags:

4
register

Z,S,P,CY,AC

•All mnemonics copyrighted ©Intel Corporation 1976.

5-7

1

4
register

Z,S,P,CY,AC

THE INSTRUCTION SET
SBB M
(A)

INR M

(Subtract memory with borrow)

- (A) - ((H) (L)) - (CY)

(Increment memory)

- ((H) (L)) + 1

((H) (L)

The content of the memory location whose
address is contained in the H and L

The content of the memory location whose
address is contained in the H and L
registers and the content of the CY flag are
both subtracted from the accumulator. The

registers is incremented by one. Note: All
condition flags except CY are affected.

result is placed in the accumulator.

Cycles:
States:

Cycles:
States:
Addressing:
Flags:

2
7

Addressing:

reg. indirect

Flags:

Z,S,P,CY,AC

reg. indirect

Z,S,P,AC

(Subtract immediate with

SBI data

DCR r

borrow)
(A)

3
10

- (A) - (byte 2) - (CY)

(r)

(Decrement Register)

-

(r)

- 1

The content of register r is decremented by

The contents of the second byte of the instruction and the contents of the CY flag

CY

one. Note: All condition flags except
are affected.

are both subtracted from the accumulator.
The result is placed in the accumulator.

v

0

Cycles:
States:

Addressing:
Flags:

D

0

(r)

2
7

(r)

— — —
1

D

|

D

Cycles:
States:

* All

1

1

4 (8085), 5 (8080)
register

Z,S,P,AC

D

1

except CY

condition flags except CY are affected.

0

0

Cycles:
States:
Addressing:
Flags:

1

4 (8085), 5 (8080)

Addressing:

register

Flags:

Z,S,P,AC

- ((H) (L)) - 1

The content of the memory location whose
address is contained in the H and L
registers is decremented by one. Note: All

+ 1

one. Note: All condition flags
are affected.

0

0

(Decrement memory)

((H) (L))

The content of register r is incremented by

0

1

immediate
Z,S,P,CY,AC

(Increment Register)

-

D

Cycles:
States:
Addressing:
Flags:

DCR M
INR r

D

mnemonics copyrighted ©Intel Corporation 1976.

5-8

3
10
reg. indirect

Z,S,P,AC

THE INSTRUCTION SET
INX rp

DAA

(Increment register pair)

(rh) (rl)

- (rh) (rl) + 1

The content of the register pair rp is incremented by one. Note: No condition flags

Decimal digits by the following process:

are affected.

1. If the value of the lease significant 4 bits

,

1

i

0

R

0

(Decimal Adjust Accumulator)

The eight-bit number in the accumulator is
adjusted to form two four-bit Binary-Coded-

P

0

i

0

of the accumulator is greater than 9 or if
the AC flag is set, 6 is added to the ac-

11
i

cumulator.
2. If the value of the most significant 4 bits

Cycles:
States:
Addressing:
Flags:

DCX rp

of the accumulator is now greater than 9,
or if the CY flag is set, 6 is added to the
most significant 4 bits of the ac-

1

6 (8085), 5 (8080)

cumulator.

register

none

NOTE: All flags are affected.

(Decrement register pair)

(rh) (rl)

- (rh)

(rl)

- 1

The content of the register pair rp is
decremented by one. Note: No condition

Cycles:
States:
Flags:

flags are affected.

1

1

0

R

0

10 11

Cycles:
States:
Addressing:
Flags:

Z,S,P,CY,AC

1

1

1

P

1

4

Logical Group

5.6.3

This group of instructions performs logical
(Boolean) operations on data in registers and
memory and on condition flags.

1

6 (8085), 5 (8080)

Unless indicated otherwise, all instructions in

register

this group affect the Zero, Sign, Parity, Auxiliary

none

Carry,

and Carry flags according to the stan-

dard rules.

DAD rp
(H) (L)

ANA r

(Add register pair to H and L)

- (H) (L) + (rh) (rl)

(A)

(r)

The content of the register pair rp is added
to the content of the register pair H and L.
The result is placed in the register pair H
and L. Note: Only the CY flag is affected. It

The content of register r is logically ANDed
with the content of the accumulator. The
result is placed in the accumulator. The CY
flag is cleared and AC is set (8085). The CY

set if there is a carry out of the double
precision add; otherwise it is reset.

flag is cleared and AC is set to the OR’ing
of bits 3 of the operands (8080).

is

DODO
Cycles:
States:
Addressing:
Flags:
* All

(AND Register)

- (A) a

10
1

1

1

0

1

3

Cycles:
States:
Addressing:
Flags:

10
register

CY

mnemonics copyrighted ©Intel Corporation 1976.

5-9

1

4
register

Z,S,P,CY,AC

THE INSTRUCTION SET
ANA M
(A)

XRA M

(AND memory)

- (A) A ((H) (L))

(Exclusive OR Memory)

(A)

- (A) -V- ((H) (L))

The contents

of the memory location
whose address is contained in the H and L

The content of the memory location whose
address is contained in the H and L

registers is logically ANDed with the content of the accumulator. The result is

registers is exclusive-OR’d with the content of the accumulator. The result is

placed in the accumulator. The CY flag is
cleared and AC is set (8085). The CY flag is
cleared and AC is set to the OR’ing of bits 3
of the operands (8080).

placed in the accumulator. The CY and AC

r

—

i

0

1

i

0

0

1

1

0

1

1

1

11

0

1

1

1

1

1

1

0

1

0
2
7

Cycles:
States:
Addressing:
Flags:

reg. indirect

reg. indirect

Z,S,P,CY,AC

Z,S,P,CY,AC
(Exclusive OR immediate)

XRI data

(AND immediate)

ANI data

1

1

2
7

Cycles:
States:
Addressing:
Flags:

(A)

flags are cleared.

- (A) A (byte 2)

(A)

- (A).'V’ (byte 2)

The content of the second byte of the in-

The content of the second byte of the in-

struction is logically ANDed with the contents of the accumulator. The result is
placed in the accumulator. The CY flag is
cleared and AC is set (8085). The CY flag is
cleared and AC is set to the OR’ing of bits 3
of the operands (8080).

struction is exclusive-OR’d with the content of the accumulator. The result is

placed in the accumulator. The CY and AC
flags are cleared.

1110 11
1

1

1

1

1

1

T

1
1

0

1

1

1

1

0

0

1

1

0

data
data

Cycles:
States:

Addressing:
Flags:

Cycles:
States:
Addressing:
Flags:

2
7

immediate

immediate
Z,S,P,CY,AC

Z,S,P|CY,AC

ORA r

(Exclusive OR Register)
(A) - (A)AA(r)
The content of register r is exclusive-OR’d
with the content of the accumulator. The
result is placed in the accumulator. The CY
and AC flags are cleared.

XRA r

Cycles:
States:
Addressing:
Flags:

2
7

(A)

The content of register r is inclusive-OR’d
with the content of the accumulator. The
result is placed in the accumulator. The CY
and AC flags are cleared.

Cycles:
States:

1

4
register

Addressing:

Z,S,P,CY,AC

*AII mnemonics copyrighted ©Intel Corporation 1976.

(OR Register)

- (A) V (r)

Flags:
5-10

1

4
register

Z,S,P,CY,AC

THE INSTRUCTION SET
ORA M
(A)

CMP M

(OR memory)

- (A) V ((H) (L))

(A)

(Compare memory)

- ((H) (L))

The content of the memory location whose
address is contained in the H and L

The content of the memory location whose
address is contained in the H and L

registers is inclusive-OR’d with the content
of the accumulator. The result is placed in

registers is subtracted from the accumulator. The accumulator remains unchanged. The condition flags are set as a
result of the subtraction. The Z flag is set

the accumulator. The CY and AC flags are
cleared.

to 1 if (A) = ((H) (L)). The CY flag is set to 1 if

(A)< ((H) (L)).

Cycles:
States:
Addressing:
Flags:

ORI data
(A)

2
7

Cycles:
States:
Addressing:
Flags:

reg. indirect

Z,S,P,CY,AC

2
7
reg. indirect

Z,S,P,CY,AC

(OR Immediate)

- (A) V (byte 2)

(A)

struction is inclusive-OR’d with the content
of the accumulator. The result is placed in

struction is subtracted from the accumulator. The condition flags are set by

cleared..

———
11110
1

the result of the subtraction. The Z flag is
set to 1 if (A) = (byte 2). The CY flag is set to
1 if (A) < (byte 2).

1
1

1

1

- (byte 2)

The content of the second byte of the in-

the accumulator. The CY and AC flags are

1

(Compare immediate)

CPI data

The content of the second byte of the in-

1

1

1

0

111111
1

1

1

1

1

1

data

1

0

data
Cycles:
States:
Addressing:
Flags:

CMP r
(A)

2
7

Cycles:
States:
Addressing:
Flags:

immediate
Z,S,P,CY,AC

(Compare Register)

2
7

immediate
Z,S,P,CY,AC

- (r)

RLC

The content of register r is subtracted from
the accumulator. The accumulator remains
unchanged. The condition flags are set as
a result of the subtraction. The Z flag is set
to 1 if (A) = (r). The CY flag is set to 1 if (A)

< (r).

Cycles:
States:

Addressing:
Flags:
•All mnemonics copyrighted ©Intel

(Rotate left)
(A n + i)-(A n ) ;(A 0)~(A 7)
(CY) - (A 7 )
The content of the accumulator is rotated
left one position. The low order bit and the
CY flag are both set to the value shifted out
of the high order bit position. Only the CY
flag is affected.

1

4
register

Cycles:
States:
Flags:

Z,S,P,CY,AC
Corporation 1976.

5-11

1

4

CY

THE INSTRUCTION SET
RRC

CMA

(Rotate right)
(A n )-(A n + 1 ); (A 7 )-(A 0 )
(CY)
(A0 )
The content of the accumulator is rotated
right one position. The high order bit and
the CY flag are both set to the value shifted
out of the low order bit position. Only the
CY flag is affected.

-

—

_

(A)

The contents of the accumulator are complemented (zero bits become 1, one bits

become 0). No flags are affected.

— —

i

0

r

0

0

0

i

(Complement accumulator)

- (A)

1

1

0

0

1

1

1

1

1

mm

0

i

i

i

i

Cycles:
States:
Flags:

Cycles:
States:
Flags:

1

4

none

1

4

CY

CMC

(Complement carry)

(CY) - (CY)

The CY flag

RAL

(Rotate left through carry)
(A n+

iMA n (CYMA
);

7)

(AoMCY)
The content of the accumulator is rotated
left one position through the CY flag. The
low order bit is set equal to the CY flag and

1

0

—

0

r

1

1

i

0

1

0

0

1

1

1

1

1

0

1

1

i

i

1

4

CY

(Set carry)

The CY flag is set to 1. No other flags are

4

affected.

CY

0

(Rotate right through carry)

0

110 111

-

(A n )
(A n + 1 );(CY)
(Ao)
(A 7 ) - (CY)
The content of the accumulator is rotated
right one position through the CY flag. The
high order bit is set to the CY flag and the
CY flag is set to the value shifted out of the
low order bit. Only the CY flag is affected.

Cycles:
States:
Flags:

i

(CY) - 1

Cycles:
States:
Flags:

-

1

- —r

r

i

STC

RAR

1

Cycles:
States:
Flags:

r

1

1

complemented. No other

1

the CY flag is set to the value shifted out of
the high order bit. Only the CY flag is affected.

i

is

flags are affected.

Cycles:
States:
Flags:

1

4

CY

•All mnemonics copyrighted ©Intel Corporation 1976.

5-12

1

4

CY

THE INSTRUCTION SET
5.6.4

Jcondition addr (Conditional jump)
If (CCC),

Branch Group

This group of instructions alter normal sequential

(PC) - (byte 3) (byte 2)
If the specified condition is true, control is
transferred to the instruction whose address is specified in byte 3 and byte 2 of the
current instruciton; otherwise, control continues sequentially.

program flow.

Condition flags are not affected by any instruction in this group.

The two types of branch instructions are unconditional and conditional. Unconditional
transfers simply perform the specified operation on register PC (the program counter). Conditional transfers examine the status of one of
the four processor flags to determine if the
specified branch is to be executed. The conditions that may be specified are as follows:

CONDITION
NZ — not zero (Z = 0)
Z — zero (Z = 1)
NC — no carry (CY = 0)
C — carry (CY = 1)
PO — parity odd (P = 0)
PE — parity even (P = 1)
P — plus (S = 0)
M — minus (S = 1)

CCC
000
001
Cycles:
States:

010
011
100
101
110
111

Addressing:
Flags:

immediate
none

(Call)
CALL addr
((SP) - 1) - (PCH)

((SP)

JMP addr

2/3 (8085), 3 (8080)
7/1 0 (8085), 1 0 (8080)

(SP)
(PC)

(Jump)

(PC) - (byte 3) (byte 2)
Control is transferred to the instruction
whose address is specified in byte 3 and
byte 2 of the current instruction.

-2) - (PCL)
- (SP) - 2
- (byte 3) (byte 2)

The high-order eight bits of the next instruction address are moved to the
memory location whose address is one
less than the content of register SP. The
low-order eight bits of the next instruction

address are moved to the memory location
whose address is two less than the content
of register SP. The content of register SP is

decremented by 2. Control is transferred to
the instruction whose address is specified
in byte 3 and byte 2 of the current instruction.

Cycles:
States:
Addressing:
Flags:

3
10

immediate
none

Cycles:
States:

Addressing:
Flags:

*AII

mnemonics copyrighted ©Intel Corporation 1976.

5-13

5
18(8085), 17(8080)

immediate/
reg. indirect

none

THE INSTRUCTION SET
Ccondition addr
If
(CCC),

(Condition call)

Rcondition
(Conditional return)
If
(CCC),
(PCL) - ((SP))

((SP) - 1) - (PCH)
«SP) - 2) - (PCL)

(PCH) - ((SP) +

- (SP) - 2
(PC) - (byte 3) (byte 2)

1)

- (SP) + 2

(SP)

(SP)

the specified condition is true, the actions specified in the CALL instruction (see
above) are performed; otherwise, control

If the specified condition is true, the actions specified in the RET instruction (see
above) are performed; otherwise, control
continues sequentially.

If

continues sequentially.

I

1

I

0

0

low-order addr

Cycles:

1/3

States:

6/12 (8085), 5/11 (8080)
reg. indirect

Addressing:

high-order addr

none

Flags:

RST n
Cycles:
States:

Addressing:
Flags:

RET

9/18(8085), 11/17(8080)

immediate/

(PC) - 8 * (NNN)
The high-order eight bits of the next instruction address are moved to the
memory location whose address is one
less than the content of register SP. The
low-order eight bits of the next instruction
address are moved to the memory location
whose address is two less than the content
of register SP. The content of register SP is
decremented by two. Control is transferred
to the instruction whose address is eight
times the content of NNN.

reg. indirect

none

(Return)

(PCL) - ((SP));

(PCH) - ((SP) +
(SP)

(Restart)

- 1) - (PCH)
((SP) - 2) - (PCL)
(SP) - (SP) - 2
((SP)

2/5 (8085), 3/5 (8080)

1);

- (SP) + 2;

The content of the memory location whose
address is specified in register SP is moved
to the low-order eight bits of register PC.

The content of the memory location whose
address is one more than the content of

“1

1

!

1

1

N

N

1

— ——

register SP is moved to the high-order eight
bits of register PC. The content of register

N

1

1

1

SP is incremented by 2.
Cycles:
States:
Addressing:

3
12(8085), 11 (8080)
reg. indirect

none

Flags:

15 141312 11 10 9 8

Cycles:
States:

Addressing:
Flags:

* All

3
10

0

0 0

0

0

0

0

0

7

6

5

4

3 2

0 0 N N N 0 0

reg. indirect

none

mnemonics copyrighted ©Intel Corporation 1976.

Program Counter After Restart

5-14

1

0

0

THE INSTRUCTION SET
PCHL

(Jump H and L indirect
move H and L to PC)

—

The content of register A is moved to the
memory location whose address is one
less than register SP. The contents of the
condition flags are assembled into a processor status word and the word is moved
to the memory location whose address is
two less than the content of register SP.
The content of register SP is decremented

(PCH) - (H)
(PCL) - (L)

The content of register H is moved to the
high-order eight bits of register PC. The
content of register L is moved to the loworder eight bits of register PC.

— — —

——

r

r~

0

i

1

1

by two.

i

0

0

1

1

Cycles:
States:

1

1

1

1

1

1

1

V

1

0

1

1

1

Addressing:

register

none

Flags:

3
12 (8085), 11 (8080)

Cycles:
States:
Addressing:

6 (8085), 5 (8080)

reg. indirect

none

Flags:

Stack, I/O, and Machine Control Group

5.6.5

This group of instructions performs I/O, manipulates the Stack, and alters internal control

FLAG WORD

flags.

Unless otherwise specified, condition flags are
not affected by any instructions in this group.

PUSH rp

(Push)

d7

d6

D5

d4

d3

d2

Di

Do

s

Z

X

AC

X

p

X

CY

- 1) ~ (rh)

((SP)

X: undefined

«SP) - 2) - (rl)

- (SP) - 2

((SP)

The content of the high-order register of
register pair rp is moved to the memory
location whose address is one less than
the content of register SP. The content of

POP rp
(rl)

(rh)

the low-order register of register pair rp is
moved to the memory location whose address is two less than the content of
register SP. The content of register SP is
decremented by 2. Note: Register pair rp =

1

1

1

R
Cycles:
States:

Addressing:
Flags:

PUSH PSW

0

0

1

- (SP) + 2

The content of the memory location, whose
address

by the content of

specified

is

register SP, is moved to the low-order
register of register pair rp. The content of
the memory location, whose address is one
more than the content of register SP, is
moved to the high-order register of register
rp. The content of register SP is incremented by 2. Note: Register pair rp =
SP may not be specified.

1

P

- ((SP))
- ((SP) + 1)

(SP)

—

SP may not be specified.

(Pop)

1

3
12 (8085), 11 (8080)
reg. indirect

none

r—

r

(Push processor status word)

1

- 1) - (A)
((SP) - 2 0 - (CY) ((SP) - 2) n - X
((SP) - 2) 2 - (P) ((SP) - 2)3 - X
((SP) - 2)4 - (AC) ((SP) - 2)s - X
((SP) - 2)e - (Z) ((SP) - 2 7 - (S)
X: Undefined.
(SP) — (SP) - 2

i

R

1

!

1

P

0

0

0

((SP)

)

,

Cycles:
States:

,

3
10

,

,

* All

Addressing:

)

mnemonics copyrighted ©Intel Corporation 1976.

Flags:
5-15

reg.indirect

none

1

THE INSTRUCTION SET
POP PSW

SPHL

(Pop processor status word)

(CY) - ((SP))0

(SP)

(Move HL to SP)

- (H) (L)

The contents of registers H and L (16 bits)
are moved to register SP.

(PH ((SP))2
(AC)— ((SP)) 4

- <(SP)) 6
- ((SP)) 7
(A) - ((SP) + 1)
(SP) - (SP) + 2
(Z)

(S)

The content of the memory location whose
address

is specified by the content of
register SP is used to restore the condition
flags. The content of the memory location

Cycles:

1

States:

6 (8085), 5 (8080)

Addressing:

whose address is one more than the content of register SP is moved to register A.

Flags:

register

none

The content of register SP is incremented
by 2.

IN port

(Input)

(A)— (data)
The data placed on the eight bit bidirectional data bus by the specified port is

moved to register A.

Cycles:
States:
Addressing:
Flags:

XTHL

3
10
reg. indirect

Z,S,P,CY,AC
Cycles:
States:
Addressing:
Flags:

(Exchange stack top with H
and L)

- ((SP))
(H) - ((SP) + 1)
(L)

The content of the L register is exchanged

OUT port

with the content of the memory location
whose address is specified by the content
of register SP. The content of the H register
is exchanged with the content of the
memory location whose address is one
more than the content of register SP.

Cycles:
States:
Addressing:
Flags:

*AII

(data)

direct

none

(Output)

- (A)

The content of register A is placed on the
eight bit bi-directional data bus for
transmission to the specified port.

5
16 (8085), 18 (8080)

Cycles:
States:

reg. indirect

none

mnemonics copyrighted ©Intel Corporation 1976.

3
10

5-16

3
10

Addressing:

direct

Flags:

none

THE INSTRUCTION SET

00000000

(Enable interrupts)

El

The interrupt system is enabled following
the execution of the next instruction. Interrupts are not recognized during the El

— ———— —

Cycles:
States:
Flags:

instruction.

1

1

1

1

1

1

1

0

1

Cycles:
States:
Flags:

1

1

(Read Interrupt Masks) (8085 only)

RIM

1

The RIM instruction loads data into the accumulator relating to interrupts and the

4

serial input. This data contains the follow-

none

ing information:

rupts (1

hibited. (8085)

•

Current interrupt enable flag status (1
= interrupts enabled) except immediately following a TRAP interrupt.
(See below.)

•

Hardware interrupts pending (i.e.,
signal received but not yet serviced),

(Disable interrupts)

The interrupt system is disabled immediately following the execution of the Dl instruction. Interrupts are not recognized
during the Dl instruction.
1

1

1

1

—r
1

r

1

i

0

i

Cycles:
States:
Flags:

0

on the RST 5.5, 6.5, and 7.5 lines.
•

i

1

4

none

NOTE: Placi ng a Dl instruction on the bus in
response to INTA during an INA cycle is prohibited. (8085)

HLT

(Halt)

The processor is stopped. The registers
and flags are unaffected. (8080) A second

ALE is generated during the execution of
HLT to strobe out the Halt cycle status in-

—— —
1

0

1

0

T Tn T T T 3
-1

1

Opcode:

Accumulator
Content
After RIM: SID

1

1

1

o

7

formation. (8085)
[

Serial input data.

Immediately following a TRAP interrupt,
the RIM instruction must be executed as a
part of the service routine if you need to
retrieve current interrupt status later. Bit 3
of the accumulator is (in this special case
only) loaded with the interrupt enable (IE)
flag status that existed prior to the TRAP
interrupt. Following an RST 5.5, 6.5, 7.5, or
INTR interrupt, the interrupt flag flip-flop
reflects the current interrupt enable status.
Bit 6 of the accumulator (17.5) is loaded
with the status of the RST 7.5 flip-flop,
which is always set (edge-triggered) by an
input on the RST 7.5 input line, even when
that interrupt has been previously masked.
(See SIM Instruction.)

i

i

Current interrupt mask status for the

RST 5.5, 6.5, and 7.5 hardware inter= mask disabled)

NOTE: Placi ng an El instruction on the bus in
response to INTA during an INA cycle is pro-

1

1

1

0

1

1

17.5

16.5

15.5

"1
Cycles:
States:
Flags:

1

none

1

•

Dl

1

4

1

H

o 1

M7.5 M6.5 M5.5

[

+ (8085), 1 (8080)

•-Interrupt Masks

5 (8085), 7 (8080)

Interrupt Enable Flag

none

Interrupts Pending

—
NOP

(No op)

Cycles:
States:
Flags:

No operation is performed. The registers
and flags are unaffected.
•All mnemonics copyrighted ©Intel

1

Corporation 1976.

5-17

— Serial Input Data
1

4

none

THE INSTRUCTION SET
SIM

(Set Interrupt Masks) (8085 only)

The execution of the SIM instruction uses
the contents of the accumulator (which
must be previously loaded) to perform the
following functions:

Program the interrupt mask for the
RST 5.5, 6.5, and 7.5 hardware inter-

•

rupts.
•

Reset the edge-triggered RST 7.5 input latch.

•

Load the SOD output latch.

To program the interrupt masks, first set accumulator bit 3 to 1 and set to 1 any bits 0,
1, and 2, which disable interrupts RST 5.5,
6.5, and 7.5, respectively. Then do a SIM instruction. If accumulator bit 3 is 0 when the

SIM instruction is executed, the interrupt

mask register will not change. If accumulator bit 4 is 1 when the SIM instruction is executed, the RST 7.5 latch is then
reset. RST 7.5 is distinguished by the fact
that its latch is always set by a rising edge
on the RST 7.5 input pin, even if the jump to
service routine is inhibited by masking.
This latch remains high until cleared by a
RESET IN, by a SIM Instruction with accumulator bit 4 high, or by an internal processor acknowledge to an RST 7.5 interrupt
subsequent to the remov al of the ask (by
a SIM instruction). The RESET IN signal
always sets all three RST mask bits.

m

If accumulator bit 6 is at the 1 level when
the SIM instruction is executed, the state
of accumulator bit 7 is loaded into the SOD
latch and thus becomes available for interface to an external device. The SOD latch is
unaffected by the SIM instructio n if bit 6 is
0. SOD is always reset by the RESET IN

signal.

—————

7

i

Opcode:

i

i

i

0

0

i

i

0

0

0

Accumulator
7
Content

6

5

4

3

2

1

R

R7.5

Before
SIM:

SOD SOE

0
i

3
0

MSE M7.5 M6.5 M5.5I

T
RST 5.5 Mask
LrST 6.5 Mask
RST 7.5 Mask
Mask Set Enable
Reset RST 7.5 Flip-Flop
Undefined

’SOD Enable
Serial Output Data

Cycles:
States:
Flags:
*AII

mnemonics copyrighted

.

Intel

1

4

none
Corporation 1976.

5-18

8085A
8080A/8085A INSTRUCTION SET INDEX
Table 5-1
T States
8085A BO 80

T States
Machine Cycles

8085A

I

8080A

Machine Cycles

I

ACI

DATA

CE data

7

F R

ADC

REG

1000 1SSS

4

F

8E

7

F R

LXI

RP.DATA16

OORP 0001 data 16

MOV
MOV
MOV

REG, REG

01 DD DSSS

M.REG

0111 OSSS

REG.M

01DD 0110

AOC

M

ADO
ADD

REG

1000 OSSS

4

F

M

86

7

F

R

MVI

REG.DATA

OODO 0110 data

ADI

DATA

C6 data

7

F R

MVl

M.DATA

36 data

ANA
ANA

REG

1010 OSSS

4

F

M

A6

7

F R

ANI

DATA

E6 data

7

F

CALL

LABEL

CD addr

17

S R R

CC

LABEL

DC addr

CM

LABEL

FC addr

00
1011 OSSS

B6

R

11/17

W W*
S R«/S R RWW*

OUT

11/17

SR./S

RRWW

PCHL

PORT

D3 data
E9

CMA

2F

4

F

POP

RP

1 1

RP 0001

CMC

3F

4

F

PUSH

RP

1 1

RP 0101

4

F

RAL

17

CMP

REG

1011 1SSS

CMP

M

BE

RAR

IF

CNC

LABEL

04 addr

11/17

SR./S

RRWW

RC

08

6/12

5/11

S/S R R*

CNZ

LABEL

C4 addr

11/17

SR*/SR RWW*

RET

C9

10

10

FRR

CP

LABEL

F4 addr

11/17

SR*/SR

RIM (8085A only)

20

4

CPE

LABEL

EC addr

11/17

RLC

07

4

4

F

CPI

DATA

FE data

7

F R

F8

6/12

5/11

CPO

LABEL

E4 addr

11/17

S R*/S RRWW*

DO

6/12

5/11

S/S R R*

cz

LABEL

CC addr

11/17

SR*/SR

RWW

CO

6/12

5/11

S/S R R*

OAA
DAD

RP

7

FR

RWW
SR./S RRWW

F

S/SR R*

27

4

F

FO

6/12

5/11

S/S R R*

OORP 1001

10

F B B

E8

6/12

5/11

S/S R R

F*

EO

DCR

REG

00SSS101

OCR

M

35

DCX

RP

OORP 1011

5

a
H
10

OF

F

S*

11XXX111

sww

F

C8

F

1001 1SSS

9E

F R

DE data

F R

W

F R

01

F3

El

FB

HLT

76

7

F B

R

IN

PORT

DB data

10

F

INR

REG

00SSS100

5

F*

INR

M

34

10

F

INX

RP

OORP 0011

5

S*

SPHL
STA

AOOR

R/F R Rt

STAX

RP

1

SHLO

R W

JC

LABEL

DA addr

10

F R/F R Rt

JM

LABEL

FA addr

10

F

JMP

LABEL

C3 addr

10

FRR

ADOR

SIM (8085A only)

STC

#

S/S R R*

6/12

5/11

4

4

S/S R R*
F

22 addr

FRRWW

30

If

F9

s

32 addr

FRRW

000X 0010

I

F

#

37

F

W

JNC

LABEL

D2 addr

10

F

R/F R Rt

SUB

REG

1001 OSSS

F

JNZ

LABEL

C2 addr

10

F R/F R Rt

SUB

M

96

F R

JP

LABEL

F2 addr

10

F

R/F R Rt

SUI

DATA

06 data

F R

JPE

LABEL

EA addr

10

F

R/F R Rt

XCHG

EB

F

JPO

LABEL

E2 addr

10

F

R/F R Rt

XRA

1010 1SSS

F

JZ

LABEL

CA addr

10

F R/F R Rt

AE

F R

LDA

ADDR

3A addr

13

F

EE data

F R

LDAX

RP

000X 1010

7

F R

E3

FRRWW

LHLO

ADDR

2A addr

16

F R R R R

REG

R R R

Machine cycle types:
F

Four clock period instr fetch

S

Six clock period instr fetch

R

Memory read

I

I/O read

W

Memory write

0

I/O write

B

Bus idle

X

Variable or optional binary digit

DOO

Binary digits identifying a destination register

B - 000, C - 001, 0 - 010

Memory = 110

SSS

Binary digits identifying a source register

E — 01 1, H — 100, L * 101

A* 111

on
RP

n

n

Register Pair

BC * 00, HI * 10

„E .

•Five clock period instruction fetch with 8080A

*The longer machine cycle sequence applies regardless of condition evaluation with 8080A.

•An extra READ cycle (R) will occur for this condition with 8080A,
* All

mnemonics copyrighted v Intel Corporation 1976.
5-19

8085A
8085A CPU INSTRUCTIONS IN OPERATION CODE SEQUENCE
Table 5-2
OP

OP

CODE

MNEMONIC

00

NOP

01

LXI

02
03
04
05
06
07

STAX

B

INX
INR

B

08
09

B,D1

OCR

B
B

MVI

B,D8

RLC
-

0A

DAD
LDAX

B
B

0B

DCX

B

OC
0D
OE

INR

DCR

C
C
C,D8

OF

RRC

10

-

11

LXI

D,D1

12

STAX

13
14

INX
INR

D
D

MVI

15

DCR

16

MVI

17

18

RAL
-

19

DAD

1

D
D
D,D8

D

LDAX D
DCX
D

CODE
2B

DCX H
INR

L

DCR

L
L,D8

CMA

5A

30

SIM

5B
5C

31

LXI

SP,D1

32
33
34
35
36
37
38
39

STA

Adr
SP

3A
3B
3C
3D
3E
3F
40
41

42
43
44
45
46
47
48
49

INR

E

DCR

E

MVI

E.D8

IF

RAR

4A

20

RIM

4B
4C

LXI

H,D1

22
23
24
25
26
27
28
29

SHLD

Adr
H
H
H
H,D8

DAD

H

2A

LHLD

Adr

INX
INR

DCR
MVI

DAA
-

MVI

4D
4E
4F
50
51

52
53
54
55

INX
INR

M

DCR M
MVI
STC

M,D8

- j
DAD SP
LDA Adr
DCX SP
INR A
DCR A
MVI

A,D8

OP

CODE

2C
2D
2E
2F

IB
1C
ID
IE

21

OP

MNEMONIC

56
57
58
59

5D
5E
5F
60
61

62
63
64
65
66
67
68
69

CMC

6A

MOV B,B
MOV B,C
MOV B,D
MOV B,E
MOV B,H
MOV B,L
MOV B,M
MOV B,A
MOV C,B
MOV C.C
MOV C,D
MOV C,E
MOV C,H
MOV C,L
MOV C,M
MOV C,A
MOV D,B
MOV D.C
MOV D,b
MOV D,E
MOV D,H
MOV D,L

6B
6C

6D
6E
6F
70
71

72
73
74
75
76
77
78
79

7A
7B
7C

7D
7E
7F
80

MOV
MOV
MOV
MOV
MOV
MOV
MOV
MOV
MOV
MOV
MOV
MOV
MOV
MOV
MOV
MOV
MOV
MOV
MOV
MOV
MOV
MOV
MOV
MOV
MOV
MOV
MOV
MOV
MOV
MOV
MOV
MOV

D,M

81

D,A

82

E,B

83
84
85
86
87
88
89

E,C

E,D
E,E
E,H
E,L

E,M
E,A
H,B
H,C
H,D
H,E
H,H
H,L

8B
8C

8D
8E
8F

C
D

ADC
ADC
ADC
ADC
ADC
ADC
ADC
ADC

B

L,A

9A

M,B
M,C

9B
9C

M.D

9D

M,E

9E
9F

SBB
SBB

AO

ANA
ANA
ANA
ANA
ANA
ANA
ANA
ANA
XRA
XRA
XRA
XRA

90

H,M

91

H,A

L,M

92
93
94
95
96
97
98
99

L,B

L,C

L,D
L,E

L,H
L.L

M.H
M,L

HLT

MOV
MOV
MOV
MOV
MOV
MOV
MOV
MOV
MOV
ADD

8A

ADD
ADD
ADD
ADD
ADD
ADD
ADD

SUB
SUB
SUB
SUB
SUB
SUB
SUB
SUB
SBB
SBB
SBB
SBB
SBB
SBB

A1

M,A

A.M

A2
A3
A4
A5
A6
A7
A8
A9

A,

AA

B

AB

A,B
A,C

A,D
A,E

A,H
A,L

D8 = constant, or logical/arithmetic expression that evaluates

OP

H

AC
AD
AE
AF

L

BO

M

B1

A

M

B2
B3
B4
B5
B6
B7
B8
B9

A

BA

B

BB
BC

E

C

D
E

H
L

C
D
E

H
L

BD
BE
BF
CO

XRA
XRA
XRA
XRA
ORA
ORA
ORA
ORA
ORA
ORA
ORA
ORA

H

RST
RC

M

D7
D8
D9

_

A

DA

JC

B

DB
DC

IN

D8

CC

Adr

L

C
D
E

H

DD
DE
DF

"

2

Adr

_/
SBI

D8

RST
RPO
POP

3

Adr

L

EO

M

El

A

E2
E3
E4
E5
E6
E7
E8
E9

JPO

RST
RPE
PCHL

4

EA

JPE

Adr

EB

XCHG

B

EC
<feD

CNZ

Adr
Adr
Adr

PUSH

B

CMP
CMP
CMP
CMP
CMP
CMP
CMP
CMP
RNZ

B

C
D
E

H
L

M
A

H

XTHL
CPO
PUSH
ANI

Adr

H
D8

M

Cl

A

M

C2
C3
C4
C5
C6
C7
C8
C9

A

CA

JZ

B

CB
CC

CZ

CD

CALL

Adr
Adr

ACI

D8

RST

1

FA

SPHL
JM

L

CE
CF
DO

F3
F4
F5
F6
F7
F8
F9

FB

El

M

D1

FC

CM

D2
D3
D4
D5
D6

POP
JNC

D

A

Adr

FD

—

OUT
CNC

D8

FE
FF

CPI

D8

Adr

RST

7

B

C
D
E

H
L

C
D
E

H

B

C
D
E

POP
JNZ
JMP

ADI

D8

FI

CPE
XRI
RST
RP
POP

RST
RZ
RET

0

F2

JP

Adr

RNC

PUSH
SUI

EE
EF
FO

Adr

D8
5

PSW
Adr

Dl

CP

Adr

PUSH

PSW

-ORI

D8

RST

6

RM
Adr

Adr

D
D8

D16 * constant, or logical/arithmetic expression that evaluates

to an 8-bit data quantity.

to a 16-bit data quantity.

Adr = 16-bit address.

•All

OP

MNEMONIC CODE MNEMONIC CODE MNEMONIC CODE MNEMONIC

mnemonics copyrighted c; Intel Corporation 1976.

5-20

8085A
8085A INSTRUCTION SET SUMMARY BY FUNCTIONAL GROUPING
Table 5-3
Instruction Cade (1)

Instruction Cade (1)

Mnemonic

Description

7

Oe

Os

04

03

02

Ol

Do

Page

Mnemonic

Description

D7

Dg

D5

D4

O3

P2

Ol

Dp

MOVE, LOAD, AND STORE
MOVrt r2

Move register to register

0

D

D

D

s

s

s

54

CZ

Call on zero

1

1

0

0

1

1

0

0

5-14

1

MOVM.r

Move register to memory

0

s

s

s

54

CNZ

Call

on no zero

1

0

0

0

0

0

5-14

1

0

1

1

1

1

D

1

0

54

CP

Call on positive

1

1

1

1

0

1

0

0

5-14

1

MOV r.M

Move memory to register

0

1

D

D

0

D

D

D

CM

Call on minus

1

1

1

0

0

1

54

1

1

0

5-14

0

1

Move immediate register

1

MVI r

Move immediate memory

54

CPE

Call on parity even

1

0

0

0

1

1

1

1

1

1

0

1

0

1

0

0

5-14

MVI M

CPO

Call on parity odd

1

1

1

0

0

1

0

0

5-14

1

5-5

RET

Return

1

1

0

0

1

0

0

1

5-14

RC

Return on carry

1

1

0

1

1

0

0

0

5-14

RNC

Return on no carry

1

1

0

1

0

0

0

0

5-14

RZ

Return on zero

1

1

0

0

1

0

0

0

5-14

RNZ

Return on no zero

1

1

0

0

0

0

0

0

5-14

RP

Return on positive

1

1

1

1

0

0

0

0

5-14

RM

Return on minus

1

1

1

1

1

0

0

0

5-14

RPE

Return on parity even

1

1

1

0

1

0

0

0

5-14

RPO

Return on parity odd

1

1

1

0

0

0

0

0

5 14

Restart

1

1

A

A

A

1

1

1

5-14

LXIB

Load immediate register

0

0

0

0

0

0

0

RETURN

Pair B & C

Load immediate register

LXI D

Pair D &

Load immediate register

LXI H

Pair H

0

0

0

0

0

0

1

5-5

1

E
0

0

0

0

1

0

0

5-5

1

& L

STAX B

Store A indirect

0

0

0

0

0

0

STAX D

Store A indirect

0

0

0

1

0

0

1

0

5-6

LDAXB
LOAXD

Load A indirect

0

0

0

0

1

0

1

0

5-5

Load A indirect

0

0

0

1

STA

Store A direct

0

0

1

1

LOA

Load A direct

0

0

1

SHLD

Store H & L direct

0

0

LHLO

Load H & L direct

0

0

XCHG

Exchange D & E. H & L

1

1

1

0

5-5

0

5-5

1

0

5-5

0

1

0

5-5

0

1

0

5-5

0

1

0

0

1

1

1

0

1

0

0

1

0

1

0

1

1

5-6

0

1

RESTART
RST

INPUT/OUTPUT
0

5-6

1

1

IN

Input

1

1

0

1

1

0

1

1

5-16

OUT

Output

1

1

0

1

0

0

1

1

5-16

5-8

Registers

STACK OPS
Push register Pair B &

PUSH B

0

0

1

1

0

0

1

1

515

1

5-15

INCREMENT AND DECREMENT

C on stack
Push register Pair D &

PUSH D

1

0

1

0

1

0

1

E on stack

Push register Pair H &

PUSH H

0

1

1

1

0

0

1

1

5-15

L on stack

PUSH PSW

Push A and Flags

1

1

1

1

0

0

1

1

Pop register Pair B &

Pop register Pair 0 &

POPH

Pop register Pair H &

1

1

0

0

0

0

0

1

5-15

1

1

0

1

0

0

0

1

5-15

Exchange top of

LXI SP

1

1

1

0

0

0

0

1

5 15

1

1

1

1

0

0

0

1

OCXSP

1

0

0

D

1

0

1

5-8

INR M

Increment memory

0

0

1

1

0

1

0

0

5-8

OCR M

Decrement memory

0

0

1

1

0

1

0

1

58

INX B

Increment B & C

0

0

0

0

0

0

1

1

5-9

0

0

0

1

0

0

1

1

5-9

0

0

1

0

0

0

1

1

5-9

Increment 0 & E

Increment H & L

OCX B

Decrement B & C

0

0

0

0

1

0

1

1

5-9

OCX D

Decrement D & E

0

0

0

1

1

0

1

1

5-9

OCX H

Decrement H & L

0

0

1

0

1

0

1

1

5-9

AOO r

Add register to A

1

0

0

0

0

s

S

S

5-6

ADC

Add register to A

1

0

0

0

1

S

s

s

5-6

5-15

ADD
1

1

0

1

0

0

1

1

5-16

H & L to stack pointer

1

1

1

1

1

0

0

1

5-16

Load immediate stack

0

0

1

1

0

0

0

1

5-5

Increment stack pointer

0

0

1

1

0

0

1

1

5-9

Decrement stack

0

0

1

1

1

0

1

1

5-9

r

with carry

pointer

INX SP

D

0

registers

stack. H & L

SPHL

D

D

INX H

off stack

XTHL

0

0

registers

L off stack

Pop A and Flags

0

0

registers

E off stack

POP PSW

0

Decrement register

INX 0

C off stack

POP D

Increment register

OCR r

5-15

on stack

POPE

INRr

ADO M

Add memory to A

1

0

c

0

0

1

1

0

5-6

ADC M

Add memory to A

1

0

0

0

1

1

1

0

5-7

with carry

pointer

ADI

Add immediate to A

1

1

0

0

0

1

1

0

56

ACI

Add immediate to A

1

1

0

0

1

1

1

0

5-7

with carry

JUMP
JMP
JC

JNC

Jump unconditional

Jump on carry
Jump on no carry

1

1

1

1

1

0

0

Jump on no zero

1

1

0

Jump on positive

1

1

1

JNZ
JP

JM

Jump on minus

JPE

JPO

1

0

1

Jump on zero

0

0

1

JZ

PCHL

1

1

,

0
1

0

0
0

0

1

1

1

1

5-13

0

5-13

0

5-13

0

5-13

1

0

5-13

1

0

5-13

0

5-13

0

1

0

1

0

0

0

1

0

0

DAD B

Add B & C to H & L

0

0

0

0

1

0

0

1

59

OAD 0

Add D & E to H & L

0

0

0

1

1

0

0

1

5-9

OAO H
OAO SP

Add H & L to H & L

0

0

1

0

1

0

0

1

59

Add stack pointer to

0

0

1

1

1

0

0

1

59

1

0

0

1

0

S

s

S

57

1

0

0

1

1

S

S

S

5-7

1

0

0

1

0

1

1

0

5-7

1

0

0

1

1

1

1

0

5-8

1

1

0

1

0

1

1

0

5-7

H & L

SUBTRACT
SUB r

1

1

1

1

1

0

1

Jump on parity even

1

1

1

0

1

0

1

0

5-13

Jump on parity odd

1

1

1

0

0

0

1

0

5 13

H & L to program

1

1

1

0

1

0

0

1

5-15

from A

SBBr

Subtract register from

A with borrow

SUB M

Subtract memory

from A

counter

CALL

SBBM

CALL

Call unconditional

1

1

0

CC

Call

on carry

1

1

0

CNC

Call on no carry

1

1

0

‘All

Subtract register

0

0

1

5-13

1

0

0

5-14

1

0

0

5-14

1

1

1

1

1

0

Subtract memory from

A with borrow
SUI

Subtract immediate

from A

mnemonics copyrighted & Intel Corporation 1976.
5-21

8085A
8085A INSTRUCTION SET SUMMARY (Cont’d)
Table 5-3
Instruction Code (1)

Mnemonic

Description

SBI

Subtract immediate

Instruction Code (1)

°7

06

05

O4

03

02

Dl

Do

Page

Mnemonic

Description

1

1

D

1

1

1

1

0

5-8

RRC

Rotate A right

0

RAL

Rotate A left through

0

0

0

from A with borrow

LOGICAL
ANAr
And register with A
XRAr
Exclusive OR register

07

06

05

04

0

0

0

0

03

02

0

1

1

1

1

5-12

1

0

1

1

1

5-12

0

1

1

1

1

1

5-12

5-12

Dl

Oo

Page

carry

RAR

1

0

1

0

0

s

s

s

5-9

1

0

1

0

1

s

s

s

5-10

Rotate A right through
carry

with A

SPECIALS

ORA

r

0 R register with A

1

0

1

1

0

s

s

s

5-10

CMP

r

Compare register with A

1

0

1

1

1

s

s

s

5-11

CMA

Complement A

0

0

1

0

1

1

1

1

And memory with A

1

0

1

0

0

1

1

0

5-10

STC

Set carry

0

0

1

1

0

1

1

1

5 12

Exclusive OR memory

1

0

1

0

1

1

1

0

5-10

CMC

Complement carry

0

0

1

1

1

1

1

1

5-12

DAA

Decimal adjust A

0

0

1

0

0

1

1

1

5-9

1

0

1

1

0

5-11

5-17

ANA M
XRA M

with A

ORA M

OR memory with A

1

0

1

CONTROL

CMPM

Compare memory with A

1

0

1

1

1

1

1

0

5-11

ANI

And immediate with A

1

1

1

0

0

1

1

0

5-10

El

Enable Interrupts

1

1

1

1

1

0

1

1

XRI

Exclusive OR immediate

1

1

1

0

1

1

1

0

5-10

01

Disable Interrupt

1

1

1

1

0

0

1

1

5-17

NOP

No-operation

0

0

0

0

0

0

0

0

5-17

HIT

Halt

0

1

1

1

0

1

1

0

5-17

with A

ORI

OR immediate with A

1

1

1

1

0

1

1

0

5-11

CPI

Compare immediate

1

1

1

1

1

1

1

0

5-11

NEW 8085A INSTRUCTIONS

with A

ROTATE
RLC

Rotate A left

0

0

0

NOTES: 1 ODSor SSS: B 000 C 001 D 010 E 011 H 100
.

.

,

2

* All

.

Two possible cycle times.

(

,

,

0

0

,

L 101

.

1

1

Memory 110 A 111
,

5-11

1

.

6 / 12 ) indicate instruction cycles dependent on condition flags.

mnemonics copyrighted €' Intel Corporation 1976.

5-22

RIM

Read Interrupt Mask

0

0

1

0

0

0

0

0

5 17

SIM

Set Interrupt Mask

0

0

1

1

0

0

0

0

5 18

8085A/8085A-2

SINGLE CHIP 8-BIT N-CHANNEL MICROPROCESSORS
Four Vectored Interrupt Inputs (One is
non-Maskable) Plus an 8080Acompatible interrupt

Single +5V Power Supply

100% Software Compatible with 8080A
1.3 jus Instruction Cycle (8085A);

0.8 ms (8085A-2)

Serial In/Serial Out Port

On-Chip Clock Generator (with External

Decimal, Binary and Double Precision
Arithmetic

Crystal, LC or RC Network)

On-Chip System Controller; Advanced
Addressing
Bytes of Memory
Direct

Cycle Status Information Available for
Large System Control

Capability

to

64k

The Intel® 8085A is a complete 8 bit parallel Central Processing Unit (CPU). Its instruction set is 100% software compatible
speed.
with the 8080A microprocessor, and it is designed to improve the present 8080A’s performance by higher system
(RAM/IO) and 8355/8755A
Its high level of system integration allows a minimum system of three IC’s [8085A (CPU), 8156
(ROM/PROM/IO)) while maintaining total system expandability. The 8085A-2 is a faster version of the 8085A.
The 8085A incorporates all of the features that the 8224 (clock generator) and 8228 (system controller) provided for the
8080A, thereby offering a high level of system integration.

The 8085A uses a multiplexed data bus. The address is split between the 8 bit address bus and the 8 bit data bus. The
on-chip address latches of 81 55/81 56/8355/8755A memory products allow a direct interface with the 8085A.

INTA

RST6.5

TRAP

Figure 1. 8085A CPU Functional Block Diagram

6-1

8085A/8085A-2

Symbol

Function
Si can be used as an advanced R/W
status. IO/M, So and Si become valid

beginning of a machine cycle
and remain stable throughout the
cycle. The falling edge of ALE may be
used to latch the state of these lines.
at the

RD

READ control: A low level on RD in-

(Output, 3-state)

dicates the selected memory or I/O

device is to be read and that the Data

Bus is available for the data transfer,
3-stated during Hold and Halt modes
and during RESET.

WR

WRITE control: A low level on WR in-

(Output, 3-state)

dicates the data on the Data Bus is to
be written into the selected memory

or I/O location. Dat a is set up at the
trailing

edge of WR. 3-stated during

Hold and Halt modes and during

RESET.

Figure 2. 8085A Pinout Diagram

8085A FUNCTIONAL PIN DEFINITION

READY

If

(Input)

cycle, it indicates that the memory or

READY is high during a read orwrite

peripheral is ready to send or receive

The following describes the function of each pin:

If READY is low, the cpu will
wait an integral number of clock
cycles for READY to go high before

data.

Symbol

Function

A 8 -A 15

Address Bus: The most significant 8
bits of the memory address or the 8

(Output, 3-state)

completing the read or write cycle.

bits of the I/O address, 3-stated dur-

HOLD

HOLD indicates that another master

ing Hold and Halt modes and during

(Input)

is

requesting the use of the address

RESET.

and data buses. The cpu, upon re-

ADo-7

Multiplexed Address/Data Bus: Low-

ceiving

(Input/Output,

er 8 bits of the memory address (or

linquish the use of the bus as soon as

3-state)

ALE
(Output)

hold

request,

will

re-

I/O address) appear on the bus dur-

the completion of the current bus

ing the first clock cycle (T state) of a

transfer. Internal processing can con-

machine cycle. It then becomes the
data bus during the second and third

tinue. The processor can regain the

clock cycles..

When the HOLD is acknowledged, the

bus only after the HOLD is removed.
Address, Data, RD,

Address Latch Enable: It occurs during the first clock state of a machine
cycle and enables the address to get

HLDA

latched into the on-chip latch of pe-

(Output)

ripherals.

ing edge of ALE can also be used to

strobe the status information. ALE is
never 3-stated.

INTR
(Input)

So, Si, and IO/M

Machine cycle status:
IO/M Si So Status

1
1

1

HOLD

INTERRUPT REQUEST: is used as a
general purpose interrupt. It is sampled only during the next to the last
clock cycle of an instruction and during Hold and Halt states. If it is active,
the Program Counter (PC) will be in-

Memory write

10 Memory read
0
I/O write
10 1/0 read

hibited

1

from incrementing and an

INTA will be issued. During this cycle

0

1

1

Opcode fetch

a RESTART or CALL instruction can

1

1

1

Interrupt Acknowledge

*

0

0

Halt

be inserted to jump to the interrupt
service routine. The INTR is enabled

*

X
X

X Hold

*
*

0

HOLD

ACKNOWLEDGE: Indicates
that the cpu has received the

request and that it will relinquish the
bus in the next clock cycle. HLDA
goes low after the Hold request is
removed. The cpu takes the bus one
half clock cycle after HLDA goes low.

The falling edge of ALE is

set to guarantee setup and hold times

0
0

WR, and IO/M

lines are 3-stated.

for the address information. The fall-

(Output)

the

and disabled by software. It is disabled by Reset and immediately after
an interrupt is accepted.

X Reset

= 3-state (high impedance)

X = unspecified

6-2

8085A/8085A-2

8085A FUNCTIONAL PIN DESCRIPTION (Continued)
Symbol

Function

Symbol

Function

INTA

INTERRUPT ACKNOWLEDGE:

(Output)

used instead of (and has the same

connection to an R-C network for

timing as: RD during the Instruction
cycle after an INTR is accepted. It can

power-on RESET delay. The cpu is

Schmitt-triggered

Is

input,

allowing

held in the reset condition as long as
RESET IN is applied.

be used to activate the 8259 Interrupt
chip or some other interrupt port.

RST 5.5
RST 6.5
RST 7.5

RESET OUT

RESTART INTERRUPTS: These three

(Output)

inputs have the same timing as INTR
except they cause an internal RESTART to be automatically inserted.

(Inputs)

The

priority

of these

interrupts

periods.

is

Xi,x 2

ordered as shown in Table 1. These
interrupts have a higher priority than
INTR. In addition, they may be individually masked out using the SIM

(Input)

clock generator. Xi can also be an

The input frequency is divided by 2 to
give the processor’s internal oper-

Trap interrupt is a nonmaskable RESTART interrupt. It is recognized at

(Input)

(Input)

ating frequency.

the same time as INTR or RST 5.5-7.5.

CLK

by any mask or Interrupt Enable. It has the highest priority
of any interrupt. (See Table 1.)

(Output)

SID

Serial input data line. Thedata on this

Sets the Program Counter to zero and
resets the Interrupt Enable and HLDA
flip-flops. The dataand address buses
and the control lines are3-stated during RESET and because of the asynchronous nature of RESET, the pro-

(Input)

line is loaded into accumulator bit 7
whenever a RIM instruction is exe-

It

RESET IN

Xi and X 2 are connected to a crystal,
LC, or RC network to drivethe internal
external clock input from a logic gate.

instruction.

TRAP

Indicates cpu is being reset. Can be
used as a system reset. The signal is
synchronized to the processor clock
and lasts an integral number of clock

is unaffected

Clock Output for use as a system
clock. The period of CLK is twice the
Xi, X 2 input period.

cuted.

SOD

Serial output data line.

(Output)

SOD is set or reset as specified by the

Vcc

+5 volt supply.

Vss

Ground Reference.

The output

SIM instruction.

cessor’s internal registers and flags

may be altered by R ESET with u npreRESET IN is a
results.

dictable

TABLE 1. INTERRUPT PRIORITY, RESTART ADDRESS, AND SENSITIVITY
Address Branched To (1)

When Interrupt Occurs

Type Trigger

1

24H

Rising edge AND high level until sampled.

RST 7.5

2

3CH

Rising edge (latched).

RST 6.5

3

34H

High level until sampled.

RST 5.5

4

2CH

High level until sampled.

5

See Note (2).

High level until sampled.

Name
TRAP

INTR

Priority

NOTES:
(1)
(2)

The processor pushes the PC on the stack before branching to the indicated address.
The address branched to depends on the instruction provided to the cpu when the interrupt is
acknowledged.

6-3

8085A/8085A-2

FUNCTIONAL DESCRIPTION

set until the request

The 8085A is a complete 8-bit parallel central processor.
It is

serviced.

Then it is reset auto-

may also be reset by using the

SIM instruction or by issuing a RESET IN to the 8085A.
The RST 7.5 internal flip-flop will be set by a pulse on the
RST 7.5 pin even when the RST 7.5 interrupt is masked out.

designed with N-channel depletion loads and requires

Its basic clock speed is 3 MHz
8085A or 5 MHz 8085A-2 thus improving on the present

a single -r-5 volt supply.
1

is

matically. This flip-flop

:

The status of the three RST interrupt masks can only be
affected by the SIM instruction and RESET IN. iSee SIM,

8080A's performance with higher system speed. Also it is
designed to fit into a minimum system of three IC’s: The
cpu :8085A a RAM/IO :8156 and a ROM or EPROM/IO
chip >8355 or 8755A
,

Chapter 5.

,

The interrupts are arranged in a fixed priority that determines which interrupt is to be recognized if more than
one is pending as follows: TRAP — highest priority,
RST 7.5, RST 6.5, RST 5.5, INTR — lowest priority. This
priority scheme does not take into account the priority
of a routine that was started by a higher priority interrupt.

.

The 8085A has twelve addressable 8-bit registers. Four of
them can function only as two 16-bit register pairs. Six
others can be used interchangeably as 8-bit registers or
as 16-bit register pairs. The8085A registersetisasfollows:

Mnemonic

Register

Contents

ACC or A

Accumulator

8 bits

PC
BC DE,HL

Program Counter

16-bit address

General-Purpose

8 bits x 6 or

Registers; data

16 bits x 3

f

RST 5.5 can interrupt an RST 7.5 routine if the interrupts
are re-enabled before the end of the RST 7.5 routine.
The TRAP interrupt is useful for catastrophic events such
as power failure or bus error. The TRAP input is recognized just as any other interrupt but has the highest
is not affected by any flag or mask. The TRAP
both edge and level sensitive. The TRAP input
must go high and remain high until it is acknowledged.
It will not be recognized again until it goes low, then high
again. This avoids any false triggering due to noise or
logic glitches. Figure 3 illustrates the TRAP interrupt
request circuitry within the 8085A. Note that the servicing

pointer (HLi

priority.

SP

Stack Pointer

16-bit address

Flags or F

Flag Register

5 flags 18-bitspace*

input

The 8085A uses a multiplexed Data Bus. The address is
split between the higher 8-bit Address Bus and the lower
8-bit Address/Data Bus. During the first T state :c!ock
cycle of a machine cycle the low order address is sent
out on the Address/Data bus. These lower 8 bits may be

It

is

of any interrupt (TRAP, RST 7.5, RST 6.5, RST 5.5, INTR)

disables all future interrupts (except TRAPs; until an El

latched externally by the Address Latch Enable signal
'ALE During the rest of the machine cycle the data bus is

instruction is executed.

used for memory or I/O data.

INSIDE THE

EXTERNAL
TRAP
INTERRUPT
REQUEST

The 8085A provides RD, WR, S 0
and IO/M signals for
bus control. An Interrupt Acknowledge signal (INTA) is
also provided. HOLD and all Interrupts are synchronized
with the processor’s internal clock. The 8085A also provides Serial Input Data (SID) and Serial Output Data
,

TRAP
1

RESET IN

(SOD) lines for simple serial interface.
In

8085A

SCHMITT
TRIGGER

addition to these features, the 8085A has three mask-

able, vector interrupt pins and one

nonmaskable TRAP

lP

INTERRUPT
REQUEST

interrupt.

INTERRUPT AND SERIAL I/O

F/F

The 8085A has 5 interrupt inputs: INTR, RST 5.5, RST 6.5,
RST 7.5, and TRAP INTR is identical in function to the
8080A INT. Each of the three RESTART inputs, 5.5, 6.5,
and 7.5, has a programmable mask. TRAP is also a

RESTART interrupt but

it

is

a>l
INTERNAL
TRAP

TR AP F F.

ACKNOWLEDGE

nonmaskable.
Figure 3.

The three maskable interrupts cause the internal execution of RESTART saving the program counter in the stack
(

TRAP and RESET IN Circuit

The TRAP interrupt is special in that it disables interrupts,

and branching to the RESTART address if the interrupts
are enabled and if the interrupt mask is not set. The nonmaskable TRAP causes the internal execution of a
RESTART vector independent of the state of the inter-

but preserves the previous interrupt enable status. Performing the first RIM instruction following a TRAP interrupt allows you to determine whether interrupts were
enabled or disabled prior to the TRAP. All subsequent

rupt enable or masks. (See Table l.i

RIM instructions provide current interrupt enable status.
Performing a RIM instruction following INTR, or RST
5. 5-7. 5 will provide current Interrupt Enable status,

There are two different types of inputs in the restart interrupts. RST 5.5 and RST 6.5 are high level-sensitive like
INTR and INT on the 8080 and are recognized with the
same timing as INTR. RST 7.5 is rising edge-sensitive.

revealing that Interrupts are disabled. See the description of the

For RST 7.5, only a pulse is required to set an internal

RIM instruction in Chapter 5.

The serial I/O system is also controlled by the RIM and
SIM instructions. SID is read by RIM, and SIM sets the

which generates the internal interrupt request,
See Section 5.2.7. The RST 7.5 request flip-flop remains

flip-flop
i

CLEAR

SOD data.
6-4

8085A/8085A-2

Figure 4. Clock Driver Circuits
6-5

8085A/8085A-2

GENERATING AN 8085A WAIT STATE

The 8085A cpu can

also interface with the standard

memory that does not have the multiplexed address/data

your system requirements are such that slow memories

If

bus. It will require a simple 8212 (8-bit latch as shown in

or peripheral devices are being used, the circuit shown in

-

Figure 8.

Figure 5 may be used to insert one WAIT state in each

8085A machine cycle

The D flip-flops should be chosen so that

CLK is rising edge-triggered
CLEAR is low-level active.

•

•

Figure 5. Generation of a Wait State for 8085A CPU

As in the 8080, the READY line is used to extend the read
and write pulse lengths so that the 8085A can be used with
slow memory. HOLD causes the cpu to relinquish the bus
when it is through with it by floating the Address and Data
Buses.

SYSTEM INTERFACE
The 8085A family includes memory components, which
are directly compatible to the 8085A cpu. For example, a
system consisting of the three chips, 8085A, 8156, and
8355 will have the following features:
•

2K Bytes ROM

•

256 Bytes RAM

Timer/Counter

•

1

•

4 8-bit I/O Ports

•

1

6-bit I/O Port

• 4 Interrupt Levels
• Serial In/Serial Out Ports

This minimum system, using the standard I/O technique
is as shown in Figure 6.
In

addition to standard I/O, the

Figure

6.

Technique)

memory mapped I/O

offers an efficient I/O addressing technique. With this
technique, an area of memory address space is assigned
for I/O address, thereby, using the memory address for

I/O manipulation. Figure 7 shows the system configuration of Memory Mapped I/O using 8085A.

6-6

8085A

Minimum

System

(Standard

I/O

8085A/8085A-2

Figure 8.

MCS-85 " System (Using Standard Memories)
T

6-7

8085A/8085A-2

BASIC SYSTEM TIMING

table 2. 8085A machine cycle chart

The 8085A has a multiplexed Data Bus. ALE is used as a

STATUS

MACHINE CYCLE

strobe to sample the lower 8-bits of address on the Data
Bus. Figure 9 shows an instruction fetch, memory read
and I/O write cycle (as would occur during processing of
the OUT instruction). Note that during the I/O write and
read cycle that the I/O port address is copied on both the
upper and lower half of the address.

IO/M

OPCODE FETCH
MEMORY READ

0

1

i

0

1

0

MEMORY WRITE

(MR)
(MW)

0

0

1

1

0

1

I/O READ

(IOR)

1

1

0

0

1

1

(IOW)

1

0

1

1

0

1

0
0

ACKNOWLEDGE
OF INTR
BUS IDLE

(INA)
(Bl):

1

1

1

1

1

1

1

1

1

0

DAD

0

1

0

1

1

1

ACK. OF
RST,TRAP

1

1

1

1

1

1

TS

0

0

TS

TS

1

HALT

,

TABLE 3. 8085A MACHINE STATE CHART

example), since they become active at the Ti

state, at the outset of each

CONTROL
RD WR INTA

(OF)

I/O WRITE

There are seven possible types of machine cycles. Which
of these seven takes place is defined by the status of the
three status lines (10/ M, Si So) and the three control
signals (RD, WR, and INTA). (See Table 2.) The status
lines can be used as advanced controls (for device selection, for

so

SI

machine cycle. Control lines

Status & Buses

Control

RD and WR become active later, at the time when the
transfer of data is to take place, so are used as command

Machine

lines.

Ti

X

X

X

X

1

1

r

A machine cycle normally consists of three T states, with
the exception of OPCODE FETCH, which normally has
either four or six T states unless WAIT or HOLD states
are forced by the receipt of READY or HOLD inputs). Any
T state must be one of ten possible states, shown in

t2

X

X

X

X

X

X

0

State

SI, SO IO/M

Twait

X

X

X

X

X

X

0

t3

X

X

X

X

X

X

0

t4

1

0

X

TS

1

1

0

t5

1

0

X

TS

1

1

0

t6

1

0

X

TS

1

1

0

treset

X

TS

TS

TS

TS

1

0

t halt

0

TS

TS

TS

TS

1

0

t holo

X

TS

TS

TS

TS

1

0

(

Table 3.

0 = Logic "0“
1

A8-A15 AD 0 -AD 7 RD,WR INTA ALE

1

-

TS = High Impedance

= Logic "1"

X = Unspecified

* ALE not generated during 2nd and 3rd machine cycles of

m2

“l

CLK

A8“ A 15

ad 0 . 7

^

X

IPC

™ rv

X3D-OC0— ~

I

W

x

10 PORT

Y

X

J
Jf

(I/O PORT ADDRESS)

(INSTRUCTION)

j~~

r

IO PORT

*"h

DATA FROM MEMORY

‘sssr
ALE

m3

±n±n±r\iT W W \ziT~ Vl/ \ll \hJ
PC H (HIGH ORDER ADDRESS)

n

DATA TO MEMORY
OR PERIPHERAL
,

n

1

r

RD

v

r

\

n

WR

\

J

IO/M

n
1

1

STATUS

^Sq (FETCH)

10 (READ)

Figure 9. 8085A Basic System Timing

6-8

DAO instruction,

IO/M = 1 during T4 -T 6 of INA machine cycle.

f

WjM

8085A/8085A-2
TABLE 4. ABSOLUTE MAXIMUM RATINGS*

•COMMENT

c

Ambient Temperature Under Bias
Storage Temperature

0 C to 70 C
—65 C to +150 C

Stresses above those listed under "Absolute Maximum Ratings" may cause
permanent damage to the device. This is a stress rating only and functional
operation of the device at these or any other conditions above those
indicated in the operational sections of this specification is not implied.
Exposure to absolute maximum rating conditions for extended periods

Voltage on Any Pin

—0.5V to +7V

With Respect to Ground

1.5 Watt

Power Dissipation

may affect device reliability.

TABLE 5. D.C. CHARACTERISTICS

vw

= 5V
otherwise specified)
~ v ±5%; V
(Ta
0°C to 70°C; vV cc
*55
ss = 0V; unless
U(J
A =w
'

Symbol

'

Parameter

Min.

Max.

Units

+0.8

V

V, u

Input Low Voltage

-0.5

VIH

Input High Voltage

2.0

Vql

Output Low Voltage

>° I

Output High Voltage

•cc
l|L

•lo

V
0.45

2.4

l

V

Iqh = -400juA

170

Input Leakage

±10

mA
A

Output Leakage

±10

fiA

-0.5

+0.8

V

Input High Level, RESET

2.4

Vcc+0.5

V

Hysteresis, RESET

0.25

l

V.hr

VHY

V

6-9

0L = 2mA

V

Power Supply Current

V LR

Test Conditions

|

KDI9 <
.

0.45V < Vqu,

V CC

TABLE 6

.

A.C. CHARACTERISTICS

T a = 0'C to 70°C; V C c=5V ±5%; V ss = 0V
8085A-2 121

Symbol

8085A 121

Parameter

Units
Min.

Max.

Min.

Max.

2000

200
40

2000

ti

CLK Cycle Period
CLK Low Time (Standard CLK Loading)

320
80

*2

CLK High Time (Standard CLK Loading)

120

CLK Rise and Fall Time
X Rising to CLK Rising
X Rising to CLK Falling
A 8 _i5 Valid to Leading Edge of Control^
A 0 _ 7 Valid to Leading Edge of Control

30
30
270
240

tcYC

tr.t,

*XKR
*XKF
*AC
^ACL
*A D

*afr

1

1

Aq_i 5 Valid to Valid Data In
Address Float After Leading Edqe of

^ALL

'ary
*CA

*CC
^CL

A 8 _i 5 Valid Before Trailing Edge of ALE f1J
Aq _7 Valid Before Trailing Edge of ALE

READY Valid from Address Valid
Address (A 8 _ 16 Valid After Control
Width of Control Low (RD, WR, INTA)
Edge of ALE
Trailing Edge of Control to Leading Edge
)

of ALE

*DW

Data Valid to Trailing Edge of WRITE
HLDA to Bus Enable

^HABE
*HABF

Bus Float After HLDA

^HACK
^HDH
^HDS

HLDA Valid to Trailing Edge of CLK
HOLD Hold Time
HOLD Setup Time to Trailing Edge of CLK

^INH
*INS

^LA

^LC

^LDR

*LDW
t

LL

^LRY

30
120
150

30
30
115
115

ns

30
100
110

350

0

ns
ns

0

ns
ns
ns
ns
ns
ns

120

60

ns
ns
ns
ns
ns

400

230

ns

50
420

25
230

ns
ns
ns

115
90

50
50

220

100

210

150

210
110
0
170

150

ns
ns
ns
ns
ns

INTR Hold Time
INTR, RST, and TRAP Setup Time to

0

40
0
120
0

Falling Edge of CLK
Address Hold Time After ALE
Trailing Edge of ALE to Leading Edge

160
100

150
50

ns
ns

130
100

60
50

ns
ns
ns
ns
ns
ns

of Control

^LCK

70

575

READ (INTA)
^AL

(Preliminary)

ALE Low During CLK High
ALE to Valid Data During Read
ALE to Valid Data During Write
ALE Width
ALE to READY Stable

460
200
140

270
120
80

110

30

8085A/8085A-2

Table 6.

A.C. Characteristics (Cont.)

8085A-2 121

8085A 121

Parameter

Symbol

Min.
Trailing

Irae

Edge of READ to Re-Enabling

(Preliminary)

Max.

Min.

ns

90

150

Units

Max.

of Address

RV

Control Trailing Edge to Leading Edge
of Next Control

RDH

Data Hold Time After READ INTAl

l

l

'WD

WDL

LEADING Edge of WRITE to Data Valid

l

{

7'

READY Hold Time
READY Setup Time to Leading Edge
of CLK
Data Valid After Trailing Edge of WRITE

*RYH

RYS

150

300

READ (or INTA) to Valid Data

'rd

400

220

ns

0

0

ns

0

0

ns

110

100

ns

100

60

ns

40

20

Notes:
1.

2
3.

A 8 A 15 address Specs apply to 10/M. S 0 and S-| except A 8 -A 15 are undefined during T 4 -T 6 of OF cycle
whereas IO/M. Sq, andS^ are stable.
Test conditions t^yc ~ 220 ns (8085A)/200 ns (8085A-2); C(_ = 150 pF.
.

:

For all output timing where C L = 150pF use the following correction factors:
25 pF ^ C L < 150pF: -O.IOns/pF

150 pF < C(_ ^ 300 pF: +0.30ns/pF
4

Output timings are measured with purely capacitive load.
timings are measured at output votage V L = 0.8V. V H = 2.0V. and 1.5V with 20 ns rise and fall time on inputs.

5.

All

6

To calculate timing specifications at other values of t^yc use Table 7.
Data hold time is guaranteed under all loading conditions.

7.

Input Waveform for A.C. Tests:

:

TEST POINTS

6-1

ns

:

imA.

ns

8085A/8085A-2
TABLE 7. BUS TIMING SPECIFICATION AS A T

cyc DEPENDENT

8085A
-

Hfll
*
!

-

LL

!irCK

I

-

-

lift!
I

mrm

11

mm
WmTTM

59
59
t

AR Y

Bi
t

HABE

*AC

*2

*RV
t

LDR

NOTE:

..

-

—
—

-

8085A-2 (Preliminary)
MIN

T- 60
(1/2) T- 20

MIN

*LA

MIN

r LL

(1 /2)

T - 60

MIN

X

LCK

(1/2)

T- 30

MIN

1

LC

(5/2 + N) T - 225

(3/2 + N) T - 180

MAX
MAX

(1/2) T - 10

MIN

X

RAE

1- 40

MIN

X

CA

(3/2 + N) T - 60

MIN

X

D\N

T- 60

MIN
MIN

X

\ND

t

CC

(1/2)

(1 12)

(1/2)

(3/2 + N) T - 80

t

AL

t

!ad
*RD

-

-

MIN

t

CL

(3/2) T - 260

MAX

1

AR Y

(1/2) T- 50

MIN

X

HACK

(1/2) T + 50

t

HABF

(1/2) T + 50

MAX
MAX

t

HABE

(2/2) T- 50

MIN

X

(1/2) T - 80

MIN

l

T- 40

MIN

X

(3/2) T - 80

MIN

X

(4/2) T- 180

MAX

t

AC
i

(1/2)

2

RV
LDR

NOTE:

-

-

T- 110

(1/2)

N is equal to the total WAIT states.
T * tQy C

-

(1/2) T -45

-

—
—
—
-

Figure 10. Clock Timing Waveform

6-12

T- 50
T- 50

(1 /2)

T - 20

(1 /2)

T - 50

(1/2)

T- 40

(5/2 + N) T - 150

(3/2+ N) T- 150

BfAM

T- 10
(1/2) T- 40

(1/2)

(3/2 + N) T - 70
(1/2)

T- 40

(3/2 + N) T - 70
(1/2)

T- 75

(3/2) T - 200

(1/2) T- 60

H
H
m

(1/2) T + 50

(1/2) T + 50

E2 1

(2/2) T - 85
(1/2)

T- 60

(1/2) T- 30

(3/2) T - 80
(4/2)

T- 130

N is equal to the total WAIT states.
T = *CYC-

.

(1/2)
(1/2)

1

8085A/8085A-2
Read Operation

Write Operation
I

CLK

/

fc

\

V

/

i—

Z

ADDRESS

x

- l

t

I —
t,

.

LDW

CA

‘

DATA OUT

t
!

l

WD

f

-*WDL

mmJ

c:

13;

Read operation with Wait Cycle (Typical) — same READY timing applies to WRITE operation.

NOTE 1: READY MUST REMAIN STABLE DURING SETUP AND HOLD TIMES.

Figure 11. 8085A Bus Timing, With and Without Wait

6-13

8085A/8085A-2
8085A INSTRUCTION SET SUMMARY BY FUNCTIONAL GROUPING
Table 6-1
Instruction Code (1)

Instruction Code (1)

Mnemonic

Description

07

06

05

04

03

02

Ol

Do

Page

Mnemonic

Description

07

06

°5

04

03

02

Di

Do

Page

MOVE, LOAD, AND STORE
0

D

s

S

54

CZ

Call

on zero

1

0

0

0

0

5-14

s

1

1

D

1

Move register to register

0

1

MOVrl r

Move register to memory

0

S

54

CNZ

Call on no zero

1

1

0

0

0

5-14

MOVM.r

s

0

1

s

1

1

0

0

1

MOV r.M

D

54

CP

Call on positive

1

1

0

0

0

1

0

1

1

1

1

D

1

0

D

5*14

Move memory to register

0

5-14

1

0

Call

0

1

CM

1

0

1

0

54

1

0

D

1

Move immediate register

D

1

MVI r

0

0

0

5-14

0

1

0

1

0

Call on parity even

1

Move immediate memory

CPE

1

MVI M

54

1

1

0

1

1

CPO

Call on parity odd

1

1

1

0

0

1

0

0

5-14

RET

Return

1

1

0

0

1

0

0

1

5-14

RC

Return on carry

1

1

0

1

1

0

0

0

5-14

RNC

Return on no carry

1

1

0

1

0

0

0

0

5-14

RZ

Return on zero

1

1

0

0

1

0

0

0

5-14

RNZ

Return on no zero

1

1

0

G

0

0

0

0

5-14

RP

Return on positive

1

1

1

1

0

0

0

0

5-14

RM

Return on minus

1

1

1

1

1

0

0

0

5 14

RPE

Return on parity even

1

1

1

0

1

0

0

0

5-14

RPO

Return on parity odd

1

1

1

0

0

0

0

0

5-14

Restart

1

1

A

A

A

1

1

1

5-14

LXIB

Load immediate register
Pair B &

0

0

0

0

0

0

0

5-5

1

RETURN

C

Load immediate register

LXI D

1

0

0

0

0

0

1

0

5-5

1

Pair 0 & E

Load immediate register

LXI H

on minus

0

0

0

0

0

0

1

5-5

1

Pair H & L

0

5-6

0

5-6

1

0

55

1

0

5-5

0

5-5

STAX B

Store A indirect

0

0

0

0

0

0

STAX D

Store A indirect

0

0

0

1

0

0

1

LOAX B

Load A indirect

0

0

0

0

1

0

LDAX D

Load A indirect

0

0

0

1

1

0

STA

Store A direct

0

0

1

1

0

0

1

LDA

Load A direct

0

0

1

1

1

0

1

0

5-5

SHLO

Store H & L direct

0

0

1

0

0

0

1

0

5-6

LHLO

Load H & L direct

0

0

1

0

1

0

1

0

5-5

XCHG

Exchange D & E. H & L

1

1

1

0

1

0

1

1

5-6

RESTART
RST

INPUT/OUTPUT
IN

Input

1

1

0

1

1

0

1

1

5 16

OUT

Output

1

1

0

1

0

0

1

1

5-16

Registers

STACK OPS
Push register Pair B &

PUSH B

0

1

1

0

0

0

1

INCREMENT AND DECREMENT

5-15

1

C on stack
Push register Pair D &

PUSH D

0

1

1

0

1

0

1

5-15

1

E on stack

Push register Pair H &

PUSH H

1

0

1

1

0

0

1

5-15

1

L on stack

PUSH PSW

Push A and Flags

POP B

Pop register Pair B &

POP D

Pop register Pair 0 &

POPH

Pop register Pair H &

1

1

1

1

0

1

0

1

5-15

1

1

0

0

0

0

0

1

5-15

1

1

0

1

0

0

0

1

5-15

1

1

1

0

0

0

0

1

5 15

Pop A and Flags

0

f

1

1

1

0

0

DCX SP

D

1

0

0

5-8

D

0

1

0

1

5-8

Increment memory

0

0

1

1

0

1

0

0

5-8

OCR M

Decrement memory

0

0

1

1

0

1

0

1

5-8

INX B

Increment B & C

0

0

0

0

0

0

1

t

5-9

0

0

0

1

0

0

1

1

5-9

0

0

1

0

0

0

1

1

5-9

Increment D & E

Increment H & L

OCX B

Decrement B & C

0

0

0

0

1

0

1

1

5-9

DCX 0

Decrement D & E

0

0

0

1

1

0

1

1

59

OCX H

Decrement H & L

0

0

1

0

1

0

1

1

59

5 15

1

ADD

Exchange top of

1

0

1

1

0

0

1

5 16

1

& L

H & L to stack pointer

1

1

1

1

1

0

0

1

5-16

Load immediate stack

0

0

1

1

0

0

0

1

5-5

Increment stack pointer

0

0

1

1

0

0

1

1

59

Decrement stack

0

0

1

1

1

n

1

1

5-9

ADD r

Add register to A

1

0

0

0

0

s

S

s

56

ADC r

Add register to A

1

0

0

0

1

S

S

S

5-6

Add memory to A

1

0

c

0

0

1

1

0

5-6

Add memory to A

1

0

0

0

1

1

1

0

57

with carry

ADD M
ADC M

pointer

INX SP

D

D

registers

off stack

LXI SP

0

0

INX H

L off stack

SPHL

0

0

registers

E off stack

stack. H

0

Decrement register

INX D

C off stack

XTHL

Increment register

OCR r
INR M

registers

do stack

POP PSW

INR r

with carry

pointer

ADI

Add immediate to A

1

1

0

0

0

1

1

0

56

ACI

Add immediate to A

1

1

0

0

1

1

1

0

5-7

5-9

with carry

JUMP
0

0

0

513

JMP

Jump unconditional

1

JC

Jump on carry

1

JNC

Jump on no carry

1

1

0

1

0

0

1

0

5-13

JZ

Jump on zero

1

1

0

0

l

0

1

0

5-13

1

1

0
0

1

1

0

1

1

1

0

Jump on no zero

1

t

0

0

0

0

1

0

5 13

Jump on positive

1

1

1

1

0

0

1

0

5-13

JM

Jump on minus

1

JPE

Jump on parity even

JPO

Jump on parity odd
H & L to program

1

PCHL

0

1

0

5-13

0

1

0

1

0

5 13

0

0

0

1

0

513

0

1

0

0

1

5-15

1

1

1

1

1

1

1

1

0

0

0

1

0

0

1

0

0

0

1

1

0

0

1

59

DAU H

Add H & Ho H & L

Q

0

1

0

1

0

0

1

5-9

DAO SP

Add stack pointer to

0

0

1

1

1

0

0

1

0

0

1

0

S

S

S

5-7

l

0

0

1

1

S

s

s

5-7

1

Q

0

1

0

1

1

0

5 7

1

0

0

1

1

1

1

Q

5-8

1

1

0

1

0

1

1

0

57

SUB

r

Subtract register

Irom A

SBBr

Subtract register from

A with borrow

SUB M

Suhtract memory

from A

counter

SBB M

CALL
1

1

0

1

5-13

1

1

1

0

0

5 14

1

0

1

0

0

5 14

CALL

Call unconditional

1

1

c

0

cc

Call

on carry

1

1

0

CNC

Call on no carry

1

1

0

'All

59

SUBTRACT

1

1

0

Add D & E to H & L

H & L

JNZ

1

Add B & C to H & L

DAD D
5-13

JP

1

DAD B

mnemonics copyrighted

Intel

Subtract memory from

A with borrow
SUI

Suhtract immediate

from A

Corporation 1976.

6-15

i

8085A/8085A-2
8085A INSTRUCTION SET SUMMARY (Cont’d)
Table 6-1
Instruction Code (1)

Mnemonic

Description

SBI

D7

06

05

04

1

1

0

1

Subtract immediate

Instruction Code (1)

03 _02
1

1

Dl

o0

Page

Mnemonic

Description

07

06

05

04

03

02

Oi

Do

1

0

5-8

RRC

Rotate A right

0

0

0

0

1

1

1

1

5-12

Rotate A left through

0

0

0

1

0

1

1

1

5-12

0

0

0

1

1

1

1

1

5 12

5 12

from A with borrow

LOGICAL
ANAr
XRAr

RAL

Page

carry
Anri register with A

1

0

1

0

0

s

s

s

59

Exclusive OR register

1

0

1

0

1

s

s

s

5-10

1

0

1

1

0

s

s

s

5 10

RAR

Rotate A right through
carry

with A

ORA

OR register with A

(

SPECIALS

CMP i

Compare register with A

1

0

1

1

1

s

s

s

511

CMA

Complement A

0

0

1

0

1

1

1

1

ANA M

And memory with A

1

0

1

0

0

1

1

0

5-10

STC

Set carry

0

0

1

1

0

1

1

1

5-12

XRAM

Exclusive OR memory

1

0

1

0

1

1

1

0

5-10

CMC

Complement carry

0

0

1

1

1

1

1

1

5-12

DAA

Decimal adjust A

0

0

t

0

0

1

1

1

5-9

1

0

1

1

0

1

1

0

511
5-11

5-17

with A

ORA M

OR memory with A

CMPM

Compare memory with A

1

0

1

1

1

1

1

0

ANI

And immediate with A

1

1

1

0

0

1

1

0

5-10

XRI

Exclusive OR immediate

1

1

1

0

1

1

1

0

5-10

with A

ORI

OR immediate with A

1

1

1

1

0

1

1

0

511

CPI

Compare immediate

1

1

1

1

1

1

1

0

5-11

will)

Rotate A left

0

0

NOTES: 1. DOS or SSS: B 000 C 001, D 010, E01

*

All

0

0

0

1

1

1

5-11

H 100, L 101, Memory 110, A 111.
Two possible cycle times. (6/12) indicate instruction cycles dependent on condition flags.
r

2.

El

Enable Interrupts

1

1

1

1

1

0

1

1

Dl

Disable Interrupt

1

1

1

1

0

0

1

1

5-17

NOP

No-operation

0

0

0

0

0

0

0

0

5-17

HIT

Halt

0

1

1

1

0

1

1

0

5-17

NEW 8085A INSTRUCTIONS

A

ROTATE
RLC

CONTROL

mnemonics copyrighted

'

1

Intel

Corporation 1976.

RIM

Read Interrupt Mask

0

0

1

0

0

0

0

0

5-17

SIM

Set Interrupt Mask

0

0

1

1

0

0

0

0

5 18

intgl
81 55/81 56/81 55-2/81 56-2
RAM WITH I/O PORTS AND TIMER
2048 BIT STATIC

MOS

Programmable 6-Bit I/O Port

256 Word x 8 Bits

1

Single +5V Power Supply

Programmable 14-Bit Binary Counter/
Timer
Compatible with 8085A and 8088 CPU

Completely Static Operation
Internal Address Latch

Multiplexed Address and Data Bus

2 Programmable 8 Bit I/O Ports

40 Pin DIP
The 8155 and 89156 are RAM and I/O chips to be used in the 8085A and 8088 microprocessor systems. The
RAM portion is designed with 2048 static cells organized as 256 x 8. They have a maximum access time of 400 ns
to permit use with no wait states in 8085A CPU. The 8155-2 and 8156-2 have maximum access times of 330 ns for use
with the 8085A-2 and the full speed 5 MHz 8088 CPU.
The I/O portion consists of three general purpose I/O ports. One of the three ports can be programmed to be status
pins, thus allowing the other two ports to operate in handshake mode.

A 1 4-bit programmable counter/timer is jalso included on chip to provide either a square wave or terminal count pulse
for the

CPU system depending on timer mode.

6-17

8 1 55/81 56/8155-2/81 56-2

8155/8156 PIN FUNCTIONS
S ymbol

Function

S ymbol

Function

RESET

Pulse provided by the 8085A to ini-

ALE

input

tialize the system

(input)

Address Latch Enable: This control
signal latches both the address on the

I

i

(connect to 8085A
RESET OUT). Input high on this line
resets the chip and initializes the

three I/O ports to input mode. The
width of RESET pulseshouldtypically

be two 8085A clock cycle times.

ADo-7
i

face with the

Enable and IO/M into the chip at the
edge of ALE.

falling

IO/M
(input

3-state Address/Data lines that inter-

input

ADo- 7 lines and_the state of the Chip

CPU lower 8-bit Ad-

i

PAo-7(8i
input/output)
I

dress/Data Bus. The 8-bit address is
latched into the address latch inside
the 8155/56 on the falling edge of
ALE. The address can be either for
the memory section or the I/O section

:

input

i

•

input'

These 8 pins ape general purpose I/O

input/output)

pins. The in/out direction is selected

i

PCo-5(6:
(input/output)

Chip Enable: On the 8155, this pin is
CE and is ACTIVE LOW. On the 8156,

i

the

command

These 6 pins can function as either
input port, output port, or as control
signals for PA and PB. Programming
is

CE and is ACTIVE HIGH.

done through the command regWhen PCo-sare used as control

ister.

signals,

Read control: Input low on this line
with the Chip Enable active enables

Write control: Input low on this line
with the Chip Enable active causes

they

will

provide the fol-

lowing:

PCo — A INTR (Port A Interrupt)
PCi — ABF (P ort A Buffer Full)

PC 2 — A STB (Port A Strobe:
PC 3 — B INT R (Port B Interrupt)
PC 4 — B BF (Port B Buffer Full)
PCs — B STB (Port B Strobe

status registers will be read to the
AD bus.

input

programming

register.

either written into the

of the selected I/O port or command/

i

command

PBo-7(8;

by

is

the

register.

and ADo- 7 buffers. If IO/M pin is low,
the RAM content will be read out to
the AD bus. Otherwise the content

WR

programming

by

8-bit data

this pin is

RD

These 8 pins are general purpose I/O
pins. The in/out direction is selected

depending on the IO/M input. The
chip or read from thechip, depending
on the WR or RD input signal.

CEor CE

Selects memory if low and I/O and
command/status registers if high.

1

TIMER IN

Input to the counter-timer.

(input)

the data on the Address/Data bus to

TIMER OUT

Timer output. This output can be

be written to the RAM or I/O ports and
command/status register depending
on IO/M.

(output)

either a square wave or a pulse de-

6-18

pending on the timer mode.

Vcc

+5 volt supply.

Vss

Ground Reference.

8155 / 8156 / 8155 - 2/ 8156-2

DESCRIPTION
The 8155/8156 contains the following:
•

2k Bit Static RAM organized as 256 x 8

•

Two 8-bit I/O ports PA & PB and one 6-bit I/O port PC

•

14-bit timer-counter

(

(

)

The IO/M (lO/Memory Select) pin selects either the five
registers (Command, Status, PAo-7, PBo-7, PCo-5) or
the memory (RAM) portion. (See Figure 1.)

The 8-bit address on the Acldress/Data lines, Chip Enable
input CE or CE, and IO/M are all latched on-chip at the
falling edge of ALE. (See Figure 2.)

Figure 1. 8155/8156 Internal Registers

Y_

/

CE (8155)

OR
CE (8156)

/

IO/M

^
-

mu
/

ALE

B
B

-J

1

ADDRESS

\

^

DATA VALID

^

_/

\

Y_

RD OR WR

/

NOTE: FOR DETAILED TIMING INFORMATION, SEE FIGURE 12 AND A.C. CHARACTERISTICS

Figure 2. 8155/8156 On-Board Memory Read/Write Cycle

6-19

81 55 / 8156 / 81 55 - 2 / 81 56-2

PROGRAMMING OF THE

READING THE STATUS REGISTER

The command

The status register consists of seven latches, one for each
bit; six (0-5) for the status of the ports and one
(6) for the

COMMAND REGISTER

register consists of eight latches. Four
bits (0-3) define the mode of the ports, two bits (4-5)

enable or disable the interrupt from port C when it acts
as control port, and the last two bits (6-7) are for the timer.

The command register contents can be altered at any
time by using the I/O address XXXXX000 during a WRITE
operation with the Chip Enable active and IO/M = 1. The
meaning of each bit of the command byte is defined in
Figure 3. The contents of the command register may

status of the timer.

The status of the timer and the I/O section can be polled
by reading the Status Register (Address XXXXX000).
Status word format is shown in Figure 4. Note that you

may never write to the status register since the command
register shares the same I/O address and the command
register is selected when a write to that address is issued.

never be read.

[TMi TMi

ieb| iea

3.

2,

PC 2

PCi

0,

PB

HI
AD 7

DEFINES PA0.7

E

0 - INPUT

DEFINES PB0.7

1

= OUTPUT

11 = ALT 2
01 - ALT 3

ENABLE PORT B
INTERRUPT

B

1

8
BF

INTR INTE
B

A

A

INTR

BF

A

PORT A INTERRUPT REQUEST
PORT A BUFFER FULL/EMPTY

10 - ALT 4

ENABLE PORT A
INTERRUPT

ad 5 ad 4 ad 3 ad 2 ADi ADq

L-

00 - ALT 1

DEFINES PCo-5

ad 6

TIMFR INTE

(INPUT/OUTPUT)

PORT A INTERRUPT ENABLE
1

ENABLE
PORT B INTERRUPT REQUEST

0 * DISABLE

PORT B BUFFER FULL/EMPTY
(INPUT/OUTPUT)

NOP - DO NOT AFFECT COUNTER
OPERATION
01
STOP - NOP IF TIMER HAS NOT STARTED
STOP COUNTING IF THE TIMER IS
RUNNING
STOP AFTER TC - STOP IMMEDIATELY
AFTER PRESENT TC IS REACHED (NOP
IF TIMER HAS NOT STARTED)
START - LOAD MODE AND CNT LENGTH
AND START IMMEDIATELY AFTER
LOADING (IF TIMER IS NOT PRESENTLY
RUNNING). IF TIMER IS RUNNING, START
THE NEW MODE AND CNT LENGTH
IMMEDIATELY AFTER PRESENT TC
00 =

TIMER COMMAND-

PORT B INTERRUPT ENABLED
TIMER INTERRUPT (THIS BIT
IS LATCHED HIGH WHEN
TERMINAL COUNT IS
REACHED. AND IS RESET TO
LOW UPON READING OF THE
C/S REGISTER AND BY
HARDWARE RESET).

IS REACHED.

Figure 3.

Command Register Bit Assignment

Figure 4. Status Register Bit Assignment

6-20

8155 / 8156 / 8155 - 2 / 8156-2

INPUT/OUTPUT SECTION
The I/O section of the 8155/8156 consistsof five registers:
I/O ADDRESS*

(See Figure 5.)
• Command/Status Register (C/S) — Both registers are

assigned the address XXXXX000. The C/S address
serves the dual purpose.

When the C/S registers are selected during WRITE
operation, a command is written into the command
register. The contents of this register are not accessible

X

X

X

X

X

0

0

0

Interval Command/Status Register

X

X

X

X

X

0

0

1

General Purpose 1-0 Port A

X

X

X

X

X

0

1

0

X

X

X

X

X

0

1

1

X

X

X

X

1

0

0

X

X

X
X

X

X

1

0

1

J

through the pins.

When the C/S (XXXXXOOO) is selected during a READ

SELECTION

A7 A6 A5 A4 A3 A2 A1 AO

General Purpose I/O Port B
General Purpose
Port C

—

- 0 81 55 and IO/M - 1 in order
I/O Address must be qualified by CE - 1 81 56 or CE
to select the appropriate register
«

1

operation, the status information of the I/O ports and

0 or Control

—

X: Don’t Care.
t:

1

Low-Order 8 bits of Timer Count
High 6 bits of Timer Count and 2 bits
of T.mer Mode

the timer becomes available on the ADo-7 lines.
•

PA Register — This register can be programmed to be
either input or output ports depending on the status of
the contents of the C/S Register. Also depending on

the command, this port can operate in either the basic
mode or the strobed mode (See timing diagram). The
I/O pins assigned in relation to this register are PAo-7.

Figure 5. I/O port and Timer Addressing Scheme

Figure 6 shows how I/O PORTS A and B are structured
within the 8155 and 8156:

The address of this register is XXXXX001.
•

PB Register — This register functions the same as PA

8155/8156

Register. The I/O pins assigned are PBo-7. The address

ONE BIT OF PORT A OR PORT B

of this register is XXXXX010.
•

PC Register — This register has the address XXXXX01
and contains only 6 bits. The 6 bits can be programmed to be either input ports, output ports or as control
signals for PA and PB by properly programming the
AD 2 and AD 3 bits of the C/S register.

When PC 0-5 is used as a control

port,

3 bits are

assigned for Port A and 3 for Port B. The first bit is an
interrupt that the 8155 sends out. The second is an
output signal indicating whether the buffer is full or
empty, and the third is an input pin to accept a strobe
for the strobed input mode. :See Table 1.)

When the 'C* port is programmed to either ALT3 or ALT4,
the control signals for PA and PB are initialized as follows:
NOTES:
(1)

CONTROL

INPUT MODE

OUTPUT MODE

BF

Low

INTR

Low
Low

High

STB

Input Control

Input Control

(2)
(31

OUTPUT MODE

1 MULTIPLEXER

h CONTROL
SIMPLE INPUT
STROBED INPUT J

(4)

* 1 FOR OUTPUT MODE
=

OFOR INPUT MODE

READ PORT = (IO/M=1) • (RD-OI • (CE ACTIVE) • (PORT ADDRESS SELECTED)
WRITE PORT = (I0/M=1) • (WR=0) • (CE ACTIVE) • (PORT ADDRESS SELECTED)

Figure 6. 8155/8156 Port Functions

)

6-21

81 55 / 81 56 / 81 55 - 2 / 81 56-2

TABLE 1. TABLE OF PORT CONTROL ASSIGNMENT.
Pin

ALT 1

ALT 2

ALT 3

ALT 4

PC0

Input Port
Input Port

Output Port
Output Port
Output Port
Output Port
Output Port
Output Port

A INTR (Port A Interrupt)
A BF Port A Buffer Full
A STB (Port A Strobe)

A INTR :Port A Interrupt)
A BF Port A Buffer Full
A STB Port A Strobe
B INTR Port B Interrupt)
B BF Port B Buffer Full)
B STB Port B Strobe

PCI

PC2
PC3
PC4
PC5

Input Port
Input Port
Input Port
Input Port

;

)

(

Output Port
Output Port
Output Port

i

i

j

Note in the diagram that when the I/O ports are programmed to be output ports, the contents of the output
ports can still be read by a READ operation when appropriately addressed.

The outputs of the 8155/8156 are "glitch-free" meaning
that you can write a "1" to a bit position that was previously “1” and the level at the output pin will not change.

J.

PORT A

OUTPUT > PORT A
A INTR (SIGNALS DATA RECEIVEO)

r

Note also that the output latch is cleared when the port
enters the input mode. The output latch cannot be loaded

A BF (SIGNALS DATA READY)

8155/8156
|

by writing to the port if the port is in the input mode. The
result is that each time a port mode is changed from input

1

_

A STB (ACKNOWL. DATA RECEIVED)
i

PORT C -|

_ 8 STB (LOADS PORT B LATCH)

B BF (SIGNALS BUFFER IS FULL)

to output, the output pins will go low. When the 8155/56

u/ rnuw

-PERIPHERAL
INTERFACE

|

J

B INTR (SIGNALS BUFFER

RESET, the output latches are all cleared and all 3 ports
enter the input mode.
is

L

A
PORT 8 C

When in the ALT 1 or ALT 2 modes, the bits of PORT C

READY FOR READING)
INPUT

|

TO 8085 INPUT PORT (OPTIONAL)
TO 8085 RST INPUT

are structured like the diagram above in the simple input
or output mode, respectively.

Reading from an input port with nothing connected to the
pins will provide unpredictable results.
Figure 7 shows how the 8155/8156 I/O ports might be
configured in a typical MCS-85 system.

Figure 7. Example: Command Register = 00111001

6-22

8155/8156/8155-2/8156-2

TIMER SECTION
The timer is a 14-bit down-counter that counts the TIMER
IN pulses and provides either a square wave or pulse
when terminal count (TC) is reached.
The timer has the I/O add ress XXXXX1 00 for the low order
byte of the register and the I/O address XXXXX101 for
the high order byte of the register. (See Figure 5).

To program the timer, the COUNT LENGTH REG is
loaded first, one byte at a time, by selecting the timer
addresses. Bits 0-13 of the high order count register will
specify the length of the next count and bits 14-15 of the
high order register will specify the timer output mode
(see Figure 8). The value loaded into the count length
register

Note that while the counter is counting, you may load a
new count and mode into the count length registers.
Before the new count and mode will be used by the
counter, you must issue a START command to the
counter. This applies even though you may only want to
change the count and use the previous mode.
In case of an odd-numbered count, the first half-cycle
of the squarewave output, which is high, is one count
longer than the second (low) half-cycle, as shown in

Figure 10.

I

can have any value from 2H through 3FFH in

I

Bits 0-13.

7

6

F

4

Ti 3

Ti2

2

1

0

TiO

T.

3
J

MSB OF CNT LENGTH

TIMERMODE
6

7

3

L

1

1

5

4

5

2

3

FFF F
T.

[jL

L

1

0

NOTE: 5 AND 4 REFER TO THE NUMBER OF CLOCKS IN THAT TIME PERIOD

F

Figure 10. Asymmetrical Square-Wave Output Resulting
from Count of 9

1

LSB OF CNT LENGTH

Figure 8. Timer Format

There are four modes to choose from: M2 and Ml define
the timer mode, as shown in Figure 9.

The counter in the 8155 is not initialized to any particular
mode or count when hardware RESET occurs, but RESET
does stop the counting. Therefore, counting cannot begin
following RESET until a START command is issued via
the C/S register.

TIMER OUT WAVEFORMS:

MODE

START

TERMINAL

BITS

COUNT

COUNT

M2

m

0

0

1

1.

SINGLE

SQUARE WAVE

2.

0

3.

0

1

Please note that the timer circuit on the 8155/8156 chip
designed to be a square-wave timer, not an event
counter. To achieve this, it counts down by twos twice
in completing one cycle. Thus, its registers do not contain values directly representing the number of TIMER IN
is

pulses received. You cannot load an initial value of 1 into
the count register and cause the timer to operate, as its
terminal count value is 10 (binary) or 2 (decimal). (For
the detection of single pulses, it is suggested that one
of the hardware interrupt pins on the 8085A be used.)

CONTINUOUS
SQUARE WAVE
SINGLE
PULSE ON

\r~

TERMINAL COUNT
,
1

,

4.

CONTINUOUS

\J

PULSES

After the timer has started counting down, the values
residing in the count registers can be used to calculate
the actual number of TIMER IN pulses required to com-

U

plete the timer cycle if desired. To obtain the remaining

Figure 9. Timer Modes

count, perform the following operations in order:

Bits 6-7 (TM 2 and TMi) of command register contents
are used to start and stop the counter. There are four
commands to choose from:

TM 2

TMi

0

0

0

1

NOP — Do not affect counter operation.
STOP — NOP timer has not started;

1.

Stop the count

2.

Read in the 16-bit value from the count length registers

3.

Reset the upper two mode bits

4.

if

stop counting if the timer is running.
1

0

STOP AFTER TC — Stop immediately
TC is reached (NOP timer

after present

5.

Reset the carry and rotate right one position all 16 bits
through carry
If

carry is set, add 1/2 of the full original count (1/2 full
1 if full count is odd).

count

if

—

has not started)
1

1

—

Load mode and CNT length
START
and start immediately after loading (if

Note: If you started with an odd count and you read the
count length register before the third count pulse occurs,

timer is not presently running). If timer
is running, start the new mode and CNT
length immediately after present TC is

you will not be able to discern whether one or two counts
has occurred. Regardless of this, the 8155/56 always
counts out t he right number of pulses in generating the
TIMER OUT waveforms.

reached.
6-23

8155 / 8156 / 8155 - 2 / 8156-2

EXAMPLE PROGRAM
Following is an actual sequence of program steps that adjusts the 8155/56 count register
contents to obtain the count, extracted from Intel® Application Note AP38. "Application
Techniques for the Intel 8085A Bus.” First store the value of the full original count in register
HL of the 8085A. Then stop the count to avoid getting an incorrect count value. Then sample
the timer-counter, storing the lower-order byte of the current count register in register C and
the higher-order count byte in register B. Then, call the following 8080A/8085A subroutine:

ADJUST, 78

MOV A,B

;Load accumulator with upper half
;

of count.

E63F

ANI 3F

;Reset upper 2 bits and clear carry

IF

RAR

;Rotate right through carry.

47

MOV B,A

;Store shifted value back in B.

79

MOV A,C

;Load accumulator with lower half.

IF

RAR

;Rotate right through carry.

4F

MOV C,A

;Store lower byte in C.

D0

RNC

;lf

in

;lf

in 1st half,

3F

CMC

7C

MOV A,H

2nd half of count, return.

go on.

;Clear carry.
;Divide full count by 2.
;is

(If

HL

odd, disregard remainder.)

IF

RAR

67

MOV H,A

7D

MOV A,L

IF

RAR

6F

MOV L,A

09

DAD B

;Double-precision add HL and BC.

44

MOV B,H

;Store results back in BC.

4D

MOV C.L

C9

RET

;Return.

After executing the subroutine, BC will contain the remainin g count in the current count cycle.

8155/8156/8155-2/8156-2

8085A MINIMUM SYSTEM CONFIGURATION
Figure 1 la shows a minimum system using three chips,
containing:

•

256 Bytes RAM
2K Bytes ROM
38 I/O Pins
Interval Timer
1

•

4 Interrupt Levels

•
•

•

8085 MINIMUM SYSTEM CONFIGURATION

Figure 11a. 8085A Minimum System Configuration. (Memory Mapped I/O)

6-25

8155/8156/8155-2/8156-2

8088 FIVE CHIP SYSTEM
Figure 1 1b shows a five chip system containing:
• 1.25K Bytes RAM
•

2K Bytes ROM

•

38 1/0 Pins

•

1

Interval Timer

• 2 Interrupt Levels

V cc

Vss

I

1

port]

ci
Wfi

PORT
RD

B
8155

ALE

C

3

06

PORT
DATA/
C

ADDR
IN

IO/M

TIMER

OUT

RESET

As — Ai9

<A>

R5W
RD

ad 0 -ad,

c

ALE

a

8088

READY

MN/MX

n

-v cc

Xi

READY

1

READY

ML

I

GND
(Vss)

Vcc
IOR

RESET

V ss V,
v cc V DD

VC c

GND
MANUAL
RESET

B

0/M

8284

JL

PORT

RESET

RES

RDY1

/

IO/M

WR

CLK

8355/8755A

ADDR

RD

q

A 8-10

DATA

ALE
RST

PORT
A

CE

WR
-(5

0

RO

6-

ce,
81 £

ALE
Cs,

CE 2

a8 a9
.

<

3

ADq-7

FT

Vss

Figure 11b. 8088 Five Chip System Configuration
6-26

Vcc

81 55 / 81 56 / 81 55 - 2/ 81 56-2

ABSOLUTE MAXIMUM RATINGS*

*

COMMENT Stresses above those listed under "Absolute
:

Maximum Ratings" may cause permanent damage to the
device.

Temperature Under Bias
StorageTemperature
Voltage on Any Pin
With Respect to Ground

D.C. CHARACTERISTICS

those indicated in the operational sections of this specifi-

-65°Cto +150°C

cation

is

not implied. Exposure

to absolute

maximum

rating conditions for extended periods may affect device

-0.5V to +7V

Power Dissipation

This is a stress rating only and functional opera-

tion of the device at these or any other conditions above

0°Cto+70°C

1.5W

reliability.

<ta = o°c to 70°C; Vcc = 5V ± 5%)

TEST CONDITIONS

SYMBOL

PARAMETER

MIN.

MAX.

UNITS

VlL

Input Low Voltage

-0.5

0.8

V

V,H

Input High Voltage

2.0

Vol

Output Low Voltage

0.45

V

Iol = 2mA

VOH

Output High Voltage

V

Ioh = -400/iA

IlL

Input Leakage

±10

MA

V in = Vcc to 0V

•lo

Output Leakage Current

±10

mA

0.45V < V0U T < Vcc

!CC

Vcc Supply Current

180

mA

Iil(CE)

Chip Enable Leakage

+100
-100

aA

8155
8156

V

2.4

6-27

/uA

V|n ~ Vcc to ov

81 55 / 81 56 / 8155 - 2/ 81 56-2

A.C. CHARACTERISTICS

(ta = o°c to 70°C; vcc = 5V ± 5%)

8155/8156

SYMBOL

PARAMETER

tAL

Address to Latch Set Up Time

50

tLA

Address Hold Time after Latch

80

LC

Latch to READ/WRITE Control

100

*RD

Valid Data Out Delay from READ Control

*AD

Address Stable to Data Out Valid

X

8155-2/8156-2
(Preliminary)

30

ns
ns

40

ns

170

140

ns

400

330

ns

80

ns

ill

Latch Enable Width

100

tRDF

Data Bus Float After READ

0

CL

READ/WRITE Control to Latch Enable

20

10

ns

tcc

READ/WRITE Control Width

250

200

ns

*DW

Data In to WRITE Set Up Time

150

100

ns

two

Data In Hold Time After WR ITE

0

0

ns

tRV

Recovery Time Between Controls

300

Wp

WRITE to Port Output

X

t

70

100

0

ns

200
400

ns

300

ns

tpR

Port Input Setup Time

70

*RP

Port Input Hold Time

50

*SBF

Strobe to Buffer Full

tss

Strobe Width

*RBE

READ to Buffer Empty

400

300

ns

t SI

Strobe to INTR On

400

300

ns

tRDI

READ to INTR Off

400

tpss

Port Setup Time to Strobe Strobe

50

tPHS

Port Hold Time After Strobe

120

*SBE

Strobe to Buffer Empty

400

300

ns

tWBF

WRITE to Buffer Full

400

300

ns

*wi

WRITE to INTR Off

400

300

ns

tTL

TIMER-IN to TIMER-OUT Low

400

300

ns

400

300

ns

50
10

400
200

tTH

ns
ns

300
150

ns

ns

300

ns

0

ns

100

ns

Data Bus Enable from READ Control

10

10

ns

fi

TIMER-IN Low Time

80

40

ns

»2

TIMER-IN High Time

120

70

t

RDE

Input Waveform for A.C. Tests:

6-28

ns

8155 / 8156 / 8155 - 2/ 8156-2

8155 / 8156 / 8155 - 2 / 8156-2

81 55 / 81 56 / 81 55 - 2 / 81 56-2

a.

Basic Input Mode
*rp

—
t

INPUT

OATA BUS*

b.

“
F!
7

S

pr

>

%

1

t

J

<

DC

Basic Output Mode

Figure 14. Basic I/O Timing Waveform

I2lllsl4l3l2lllsl
LOAD COUNTER FROM CLR

RELOAD COUNTER FROM CLR

Figure 15. Timer Output Waveform Countdown from 5 to 1

6-31

!

The Intel® 8185 is an 8192-bit static random access memory (RAM) organized as 1024 words by 8-bits using
N-channel Silicon-Gate MOS technology. The multiplexed address and data bus allows the 8185 to interface directly
to the 8085A and 8088 microprocessors to provide a maximum level of system integration.

The low standby power dissipation minimizes system power requirements when the 8185 is disabled.
The 8185-2 is a high-speed selected version of the 8185 that is compatible with the 5 MHz 8085A-2 and the full speed
5 MHz 8088.

BLOCK DIAGRAM

PIN CONFIGURATION

PIN NAMES
AD0 AD 7
Ag. Ag

cs
CE,

ce 2

ALE

RD

WR

ADDRESS/DATA LINES
ADDRESS LINES
CHIP SELECT
CHIP ENABLE (IO/MI
CHIP ENABLE

ADDRESS LATCH ENABLE
READ ENABLE
WRITE ENABLE

6-32

8185/8185-2

OPERATIONAL DESCRIPTION
The 8185 has been designed to provide for direct interface
to the multiplexed

bus structure and bus timing of the

8085A microprocessor.
At the beginning of an 8185 memory access cycle, the 8bit address on ADo-7, As and Ag, and the status of CEi and
CE 2 are all latched internally in the 8185 by the falling edge

ALE. If the latched status of both CEi and CE 2 are
active^he 8185 powers itself up, but no action occurs until
the CS line goes low and the appropriate RD or WR control
of

signal input is activated.

The CS input is not latched by the 8185 in order to allow
the maximum amount of time for address decoding in
selecting the 8185 chip.

Maximum po wer c onsumption

savings will occur, however, only when CEi and CE 2 are
activated selectively to power down the 81 85 when it is not
in use. A possible connec tion would be to wire the 8085A’s
O/M line to the 8185’s CEi input, thereby keeping the
8185 powered down during I/O and interrupt cycles.
I

TABLE 1.

TRUTH TABLE FOR
POWER DOWN AND FUNCTION ENABLE
CE,

ce 2

CS

(CS*)' 21

1

X

X

0

X

0

X

0

Power Down and

0

1

1

0

Powered Up and

0

1

0

1

8185 Status

Power Down and
Function Disableiij

Function Disable! i

i

Function Disable^)

Powered Up and
Enabled

Notes:
X: Don't Care.

Function Disable implies Data Bus in high impedance state
and not writing.
2: CS* — (CEi = Oi • (CE 2 = 1 • (CS = 0)
CS* = 1 signifies all chip enables and chip select active
1:

)

TABLE 2.
TRUTH TABLE FOR
CONTROL AND DATA BUS PIN STATUS

AD 0 _7 During Data
(CS*)

RD

WR Portion of Cycle

8185 Function

0

X

X

Hi-lmpedance

No Function

1

0

1

Data from Memory Read

1

1

0

Data to Memory

Write

1

1

1

Hi-lmpedance

Reading, but not
Driving Data Bus

Figure 1. 8185 In an MCS-85 System.
4 Chips:

2K Bytes ROM
1.25K Bytes RAM
38 I/O Lines
1 Counter/Timer

Note:

2 Serial I/O Lines

X: Don’t Care.

5 Interrupt Inputs

6-33

Figure 2. 8088 Five Chip System Configuration

8185 / 8185-2

ABSOLUTE MAXIMUM RATINGS*

-0.5V to +7V

1.5W

D.C. CHARACTERISTICS
Symbol

it a = o°c to 70°C; Vcc = sv ± 5%.

Parameter

Max.

Units

0.8

V

Vcc+0.5

V

0.45

V

Min.

VlL

Input Low Voltage

-0.5

VlH

Input High Voltage

2.0

VOL

Output Low Voltage

VOH

Output High Voltage

Test Conditions

lOL = 2mA

Ioh = 400/iA

2.4

IlL

Input Leakage

r10

mA

Vin = Vcc to OV

Ilo

Output Leakage Current

±10

mA

0.45V < VoUT ^ Vcc

lee

Vcc Supply Current
Powered Up
Powered Down

100

mA
mA

A.C. CHARACTERISTICS

Symbol

25

(Ta = o°c to 70°C; Vcc = 5V ± 5%.

Parameter

1

8185

8185*2

Preliminary

Preliminary

Min.

Max.

Min.

Max.

Units

tAL

Address to Latch Set Up Time

50

30

ns

tLA

Address Hold Time After Latch

80

30

ns

100

tLC

Latch to READ/WRITE Control

tRD

Valid Data Out Delay from READ Control

170

140

ns

tLD

ALE to Data Out Valid

300

200

ns

40

ns

tLL

Latch Enable Width

100

tRDF

Data Bus Float After READ

0

tCL

READ/WRITE Control to Latch Enable

20

10

ns

tee

READ/WRITE Control Width

250

200

ns

tDW

Data In to WRITE Set Up Time

150

150

ns

two

Data In Hold Time After WRITE

20

20

ns

tsc

Chip Select Set Up to Control Line

10

10

ns

tcs

Chip Select Hold Time After Control

10

10

ns

tALCE

Chip Enable Set Up to ALE Falling

30

10

ns

tLACE

Chip Enable Hold Time After ALE

50

30

ns

Notes:
1.

^>0,

Stresses above those listed under Absolute MaximdttfBafltiQs
,
permanent damage to the device This is a stress rating only ^ndrfuncttait
operation of the device at these or any other condition¥lab6v^;thpsi
indicated in the operational sections of this specification is n6£j
Exposure to absolute maximum rating conditions for extended pi
may affect device reliability

-65°C to +150°C

Power Dissipation

K

’COMMENT

0°Cto+70°C

Temperature Under Bias
Storage Temperature
Voltage on Any Pin
with Respect to Ground

AC parameters are referenced at
2.4V and 45V for inputs
bi 2.0V and 8V for outputs.

All

a)

Input Waveform for A.C. Tests:

6-35

ns

70
100

0

80

ns

6-36

iiry
8355/8355-2
16, 384-BIT

ROM WITH I/O

Each I/O Port Line Individually
Programmable as Input or Output

2048 Words x 8 Bits
Single

+ 5V Power Supply
Multiplexed Address and Data Bus

Directly compatible with 8085A

and 8088 Microprocessors

Internal Address Latch

2 General Purpose 8-Bit I/O Ports

40-Pin DIP

The Intel® 8355 is a ROM and I/O chip to be used in the 8085A and 8088 microprocessor systems. The ROM portion is organized as 2048 words by 8 bits. It has a maximum acess time of 400 ns to permit use with no wait states in

the 8085A CPU.

The I/O portion consists of 2 general purpose I/O ports. Each I/O port has 8 port lines and each I/O port line is
individually programmable as input or output.
The 8355-2 has a 300ns access time for compatibility with the 8085A-2 and full speed 5 MHz 8088 microprocessors.

BLOCK DIAGRAM

PIN CONFIGURATION

CE,C 1

40

ce 2 c 2

39

PB 7

CLK C

3

38

DP8 6

RESET C 4

37

pb 5

36

pb 4

N.C. (NOT CONNECTED!

C 5
READY C 6
IO/M C 7
IOR C 8

3 Vcc

35

DpBj

34

3pb 2

33

pb,

rdC 9 8355/8355 2 32 Dpb 0
iowC 10
aleC 11
AD 0 C 12
AD, C 13
ad 2 C 14
ad 3 C 15
ad 4 C 16
ad 5 C 17
AD 6 C 18
ad 7 C 19
VssC

20

31

pa 7

30

PAfi

29

PAs

3pa 4
27 Dpa 3

CLK

READY *
AD 0~

7

A8'10

—

y|

l\

\N

zC>
V

^

=i>
V

P

A

ce 3

2KX8

CE 1

ROM

10 /M

ALE

-

B

28

26

pa 2

25

3 PA,

24

>A

23

3A 0

22

3a 9
3a 8

21

RD
lOW
RESET

^

ion

0

i

-Vcc

(+5V)

-vss (0VI

6-37

V

8355 / 8355-2

Symbol

Function

Symbol

Function

ALE

When ALE (Address Latch

CLK

The CLK is used to force the READY
into its high impedance state after it

(Input)

Enable is
high, ADo-7, IO/M, Ab-io. CE, and CE
enter address latched. The signals
(AD, IO/M, As-io, CE, CE) are latched
in at the trailing edge of ALE.

ADo -7

Bidirectional

(Input)

lower 8-bits of the ROM or I/O address
are applied to the bus lines when ALE
is

Address/Data

bus.

(Input)

has been forced low by
high and ALE high.

READY

The

(Output)

remains low until the rising edge of the

PAo-7

These are general purpose I/O

Input/

Their input/output direction is determined by the contents of Data Direction
Register (DDR). Port A is selected for
write operations when the Chip Enables

I

Output:

These are the high order bits of the ROM
address. They do not affect I/O oper-

are active and

CE 2
(Input)

O/M

.

ables are active at the time the ALE
signal latches them up. If either Chip

PB0-7

Enable input

(Input/

(Input)

If

not active, the ADo -7
outputs will be in a high

Output)

high when RD is

(Input)

is

RESET

the latched IO/M

low,

is

comes from an
low the output data

the output data

I/O port.

If

it

is

TOR
(Input:

comes from the ROM.

RD

If

(Input)

when RD goes low, the AD0-7 output

the latched Chip Enables are active

buffers are enabled

the selected

and output either

ROM lo catio n or I/O port.

AD0-7 output buffers are 3-state.

:

Input)

If

the latched Chip Enables are active,

a low

This

purpose I/O port
A except that it
selected by a 1 latched from ADo.
general

identical

to

Port

on IOW causes the output port

pointed to by the latched value of ADo
on AD0-7.
The state of IO/M is ignored.
to be written with the data

6*38

is

is

An input high on RESET causes all pins
in Port A and B to assume input mode.
Whervthe Chip Enables are active, a low
on IOR will outpu the selected I/O port
onto the AD bus. IOR low performs the
same function as the co mbin ation IO/M
high and RD low. When IOR is not used
in a system, IOR should be tied to Vcc
t

("I”).

When both RD and IOR are high, the
IOW

IOW is low and a 0 was

Rea d operation is selected by either
IOR low and active Chip Enables and
ADo low, or IO/M high, RD low, active
chip enables, and ADo low.

Chip Enable Inputs: CEi is active low
and CE 2 is active high The 8355 can be
accessed only when BOTH Chip En-

and READY
impedance state.
I

pins.

previously latched from ADo-

ations.

CEi

,

next CLK (see Figure 6).

buffers present data on the bus.

Ae-io

Rea dy is a 3-state output controlled by
CEi, CE 2 ALE and CLK. READY is
forced low when the Chip Enables are
active during the time ALE is high, and

high.

During an I/O cycle, Port A or B are
selected based on the latched value of
ADo. If RD or IOR is low when the latched
chip enables are active, the output

(Input)

CE low, CE

Vcc

+5 volt supply.

Vss

Ground Reference.

8355/8355-2

8355

FUNCTIONAL DESCRIPTION
ROM Section

ONE BIT OF PORT A AND ODR A:

The 8355 contains an 8 -bit address latch which allows it
to interface directly to MCS-48 and MCS-85 Microcomputers without additional hardware.

The ROM section of the chip is addressed by an 11 -bit
address and the Chip Enables. The address and levels on
the Chip Enable pins are latched into the address latches
on the falling edge of ALE. If the latched Chip Enables
are active and IO/f3 is low when RD goes low, the contents
of the

ROM location addressed by the latched address

are put out through ADo -7 output buffers.

I/O Section

The I/O section of the chip is addressed by the latched
value of ADo-i. Two 8 -bit Data Direction Registers (DDR)
in

8355 determine the input/output status of each pin in

the corresponding ports. A "0” in a particular bit position
of a DDR signifies that the corresponding I/O port bit is
in the input mode. A “1” in a particular bit position signifies that the

corresponding I/O port bit is in the output

mode. In this manner the I/O ports of the 8355 are bit-bybit programmable as inputs or outputs. The table summarizes port and DDR designation. DDR’s cannot be

WRITE PA - |I0W=DI • (CHIP ENABLES ACTIVE) • (PORT A ADORESS SELECT ED
WRITE DDR A - (IO_W=OI (CHIP ENABLES ACTIVE) • (DDR A ADORESS SELECTED)
READ PA * {[(I0/M=1) • (RD=0)] (iO)S»0) } • (CHIP ENABLES ACTIVE) • (PORT A ADDRESS SELECTED)
I

NOTE: WRITE PA IS NOT QUALIFIED BY 10/M.

System Interface with 8085A and 8088
A system using the 8355 can use either one of the two
I/O Interface techniques:

read.

ADi

ADo

Selection

0

0

Port A
Port B
Port A Data Direction Register (DDR A)
Port B Data Direction Register (DDR B)

0

1

1

0

1

1

•

Standard I/O

•

Memory Mapped I/O

If a standard I/O technique isused, the system can use
the feature of both CE and CE. By using a combination
of unused address lines Ay 1-15 and the Chip Enable
inputs, the system can use up to 5 each 8355’s without
requiring a CE decoder. See Figure 2 a and 2 b.

a memory mapped I/O approach is used the 8355 will
be selected by_the combination of both the Chip Enables and IO/M using the AD 8 _ 15 address lines. See

If

When IOW goes low and the Chip Enables are active, the
data on the ADo -7 is written into I/O port selected by the

Figure 1.

latched value of ADo-i. During this operation all I/O bits
of the selected port are affected, regardless of their I/O
mode and the sta te of IO/M. The actual output level does
not change until IOW returns high (glitch free output).

A port can be read out when the latched Cjiip Enables are

RD goes low with IO/M high, or IOR
goes low. Both input and output mode bits of a selected
port will appear on lines ADo- 7

active and either

.

To clarify the function of the I/O ports and Data Direction
Registers, the following diagram shows the configuration
of one bit of PORT A and DDR A. The same logic applies
to PORT B and DDR B.
Note that hardware RESET or writing a zero to the DDR
latch will cause the output latch’s output buffer to be
disabled, preventing the data in the output latch from
being passed through to the pin. This is equivalent to
putting the port in the input mode. Note also that the data
can be written to the Output Latch even though the Output Buffer has been disabled. This enables a port to be
initialized with a value prior to enabling the output.

Figure 1. 8355 In 8085A System (Memory-Mapped I/O)

The diagram also shows that the contents of PORT A and
PORT B can be read even when the ports are configured
as outputs.

6-39

8355/8355-2

8088 FIVE CHIP SYSTEM
Figure 2a shows a five chip system containing:
•

1.25 K Bytes RAM

• 2 K Bytes

ROM

•

38 I/O Pins

•

1

Internal Timer

• 2 Interrupt Levels

8-A19

ad 0 -ad 7 K

addr
ador/oata

8088

READY
MN/MX

Vc

ALE
RST

RD

@

WR
I

O/M

8284

RESET

MANUAL
RESET

V SS

Figure 2a. 8088 Five Chip System Configuration

Vcc

8355/8355-2

ABSOLUTE MAXIMUM RATINGS*

*

COMMENT Stresses above those listed under "Absolute
.

Maximum Ratings " may cause permanent damage to the
device.

Temperature Under Bias
Storage Temperature
Voltage on Any Pin
With Respect to Ground
Power Dissipation

0°CtcW0°C

is

a stress rating only and functional opera

cation

-0.5V to +7V

is

not implied. Exposure to absolute

maximum

rating conditions for extended periods may affect device

1.5W

reliability.

<ta = 0°C to 70°C; Vcc = 5V ± 5%)

SYMBOL PARAMETER

MIN.

MAX.

UNITS

V|L

Input Low Voltage

-0.5

0.8

V

Vcc = 5.0V

V|H

Input High Voltage

2.0

Vcc +0.5

V

VCC = 5.0V

V0 L

Output Low Voltage

0.45

V

Iol = 2mA

VOH

Output High Voltage

V

Iqh = -400/iA

a*a

V|n - Vcc to OV

0.45V ^Vqut ^Vcc

2.4

I.L

Input Leakage

10

*LO

Output Leakage Current

110

AiA

cc

Vcc Supply Current

180

mA

A.C. CHARACTERISTICS

TEST CONDITIONS

crA = o°cto 70°c,- vcc = 5V ± 5%)

8355-2

8355

Symbol

Parameter

Min.

(Preliminary)

Max.

Min.

Max.

Units

tCYC

Clock Cycle Time

320

200

T

i

CLK Pulse Width

80

40

ns

t2

CLK Pulse Width

120

70

ns

ns

tf.tr

CLK Rise and Fall Time

tAL

Address to Latch Set Up Time

50

30

tLA

Address Hold Time after Latch

80

30

ns

tLC

Latch to READ/WRITE Control

100

40

ns

tRD

Valid Data Out Delay from READ Control

170

140

ns

tAD

Address Stable to Data Out Valid

400

330

ns

tLL

Latch Enable Width

100

tRDF

Data Bus Float after READ

0

85

ns

30

30

ns

70
100

0

ns

ns

tCL

READ/WRITE Control to Latch Enable

20

10

tcc

READ/WRITE Control Width

250

200

ns

tDW

Data In to Write Set Up Time

150

150

ns

tWD

Data In Hold Time After WRITE

10

10

twp

WRITE to Port Output

400

ns

ns

400

ns

tPR

Port Input Set Up Time

50

50

ns

tRP

Port Input Hold Time

50

50

ns

tRYH

0

tARY

READY HOLD Time
ADDRESS (CE) to READY

tRV

Recovery Time Between Controls

300

200

ns

tRDE

READ Control to Data Bus Enable

10

10

ns

Input Waveform for A.C. Tests:

0.45

20

160

0

160

Note: Cload = 150pF

2.4

*

those indicated in the operational sections of this specifi-

-65°Cto +150°C

D.C. CHARACTERISTICS

This

tion of the device at these or any other conditions above

^

0B^ TEST POINTS
6-42

160

ns

160

ns

8355/8355-2

Figure 3. Clock Specification for 8355

Figure 4. ROM Read and I/O Read and Write

6-43

8355 / 8355-2
a.

Input Mode

DATA*
BUS

b.

Output Mode

*wp

PORT
OUTPUT

L

GLITCH FREE

S' OUTPUT

.3 =

DATA*
BUS

*DATA BUS TIMING IS SHOWN IN FIGURE 4.

Figure 5. I/O Port Timing

Figure 6. Wait State Timing (Ready = 0)

6-44

Intel*
8755A/8755A-2
16,384-BIT EPROM WITH I/O
2 General Purpose 8-Bit I/O Ports

2048 Words x 8 Bits
Single

+5V Power Supply (V cc

Each I/O Port Line Individually
Programmable as Input or Output

)

Directly Compatible with 8085A

and 8088 Microprocessors

Multiplexed Address and Data Bus

U.V. Erasable and Electrically

40-Pin DIP

Reprogrammable
Internal Address Latch

The Intel® 8755A is an erasable and electrically reprogrammable ROM (EPROM) and I/O chip to be used in the 8085A
and 8088 microprocessor systems. The EPROM portion is organized as 2048 words by 8 bits. It has a maximum
access time of 450 ns to permit use with no wait states in an 8085A CPU.
The I/O portion consists of 2 general purpose I/O ports. Each I/O port has 8 port lines, and each I/O port line is
individually programmable as input or output.
The 8755A-2 is a high speed selected version of the 8755A compatible with the 5 MHz 8085A-2 and the full speed 5

MHz 8088.

BLOCK DIAGRAM

PIN CONFIGURATION

6-45

8755A/8755A-2

8755A FUNCTIONAL PIN DEFINITION
Symbol

Function

Symbol

Function

ALE

When Address

READY

READY is a 3-state output controlled
by CE 2 CEi, ALE and CLK. READY

(input)

Latch Enable goes
high, ADo-7, IO/M, As-io, CE 2 and
CEi enter the address latches. The
signals (AD, IO/M, As-io, CE) are
latched in at the trailing edge of ALE.

(Output)

,

ADo -7

Bidirectional Address/Data bus. The

(input/output)

lower 8-bits of the PROM or I/O
address are applied to the bus lines

low when the Chip Enables
are active during the time ALE is high,

and remains low until the rising edge
of the next CLK. (See Figure 6.)
PA0-7
(input/output)

(input)

mined by the contents of Data Direc-

During an I/O cycle, Port A or B are
selected based on th e latched value of
ADo. If RD or IOR is low when the
latched Chip Enables are active, the
output buffers present data on the

tion Register (DDR). Port A is selected
for write operations

(input)

IO/M
(input)

Read operation is selected by either
IOR low and active Chip Enables and
ADo and ADi low, or IO/M high, RD
low, active Chip Enables, and ADo
and ADi low.

Chip Enable Inputs: CEi is active low
and CE 2 is active high. The 8755A
can be accessed only when BOTH
Chip Enables are active at the time
the ALE signal latches them up If
either Chip Enable input is not active,
the ADo- 7 and READY outpu ts w ill
be in a high impedance state. CiTi is
also used as a programming pin. (See
section on programming.)

PB 0-7
(input/output)

the latched IO/M is high when RD
low, the output data comes from
an I/O port. If it is low the output data

In normal operation, an input high on

(input)

RESET causes all pins in Ports A and
B to assume input mode (clear DDR

IOR

When t he C hip Enables are active, a

(input!

low on IOR will output the selected
I/O port onto the AD bus. iOR low
performs the same Junction as the
combination of IO/M high and RD
low. When IOR is not used in a system,
IOR should be tied to Vcc ("I”).

Vcc

+5 volt supply.

comes from the PROM.
if

the latched Chip Enables are active

buffers are enabled and output either
the selected PROM lo catio n or I/O
port. When both RDand lORare high,
the AD0-7 output buffers are 3-stated

IOW

If

(input)

a low on IOW causes the output port

the latc hed C hip Enables are active,

(input)

Vss

Ground Reference.

Vdd

Vdd is a programming voltage, and
must be tied to +5V when the 8755A
is

being read.

ADo to be written with__the data on

For programming, a high voltage is
supplied with Vdd = 25V, typical. (See

AD0-7. The state of IO/M is ignored.

section on programming.)

pointed to by the latched value of

CLK

purpose I/O port is
A except that it is
selected by a 1 latched from ADo and
a 0 from ADi.
identical to Port

register).

If

when RD goes low, the AD 0-7 output

This general

RESET

is

(input)

IOW is low

and a 0 was previously latched from
ADo, ADi.

These are the high order bits of the
PROM address. They do not affect

RD

wh en th e Chip

Enables are active and

I/O operations.

PROG/CE7
ce 2

These are general purpose I/O pins.
Their input/output direction is deter-

when ALE is high.

bus.

A8-10

,

is forced

The CLK is used to force the READY
into its high impedance state after it
has been forced low by CEi low, CE 2
high, and ALE high.

6-46

8755A/8755A-2
8755A

FUNCTIONAL DESCRIPTION
PROM Section

ONE 8IT OF PORT A AND DDR A

The 8755A contains an 8-bit address latch which allows

MCS-48 and MCS-85 Microit to interface directly to
computers without additional hardware.
The PROM section of the chip is addressed by the 11 -bit
address and CE. The address, CEi and CE 2 are latched
into the address latches on the falling edge of ALE. If the
latched Chip Enables are active and IO/M is low when RD
goes low, the contents of the PROM location addressed

by the latched address are put out on the AD 0-7 lines.

I/O Section
The I/O section of the chip is addressed by the latched
value of AD 0 - Two 8-bit Data Direction Registers (DDR)
in 8755A determine the input/output status of each pin
1 .

"0" in a particular bit posiin the corresponding ports. A
tion of a

DDR signifies that the corresponding I/O port bit

WRITE FA * (IOW-O) • (CHIP ENABLES ACTIVE) • (PORT A ADDRESS SELECTEO)
WRITE DDR A (IOW»0) • (CHIP ENABLES ACTIVE) • (DDR A ADDRESS SELECTED)
READ PA • { [(10 AM) • («*0)] (IOR=0)} • (CHIP ENABLES ACTIVE) • (PORT A ADDRESSSELECTEO)
NOTE: WRITE PA IS NOT QUALIFIED BY 10/M.

"1” in a particular bit position signiis in the input mode. A
fies that

the corresponding I/O port bit is in the output

mode. In this manner the I/O ports of the 8755A are bit-byprogrammable as inputs or outputs. The table
bit
summarizes port and DDR designation. DDR’s cannot be
read.

ADi

ADo

0
0

0

Port A

1

Port B

1

0

1

1

Selection

Port A Data Direction Register (DDR A)
Port B Data Direction Register (DDR B)

When IOW goes low and the Chip Enables are active, the
data on the AD is written into I/O port selected by the
latched value of AD 0 - 1 During this operation all I/O bits

Note that hardware RESET or writing a zero to the DDR
cause the output latch’s output buffer to be
disabled, preventing the data in the Output Latch from
being passed through to the pin. This is equivalent to
putting the port in the input mode. Note also that the data
can be written to the Output Latch even though the Output
Buffer has been disabled. This enables a port to be initialized with a value prior to enabling the output.
latch will

The diagram also shows that the contents of PORT A and
PORT B can be read even when the ports are configured
as outputs.

TABLE 1. 8755 A PROGRAMMING MODULE CROSS
REFERENCE

MODULE NAME

USE WITH

mode and the sta te of IO/M. The actual output level does
not change until IOW returns high, (glitch free output)

UPP 955
UPP UP2(2)

UPP 855

A port can be read out when the latched Chip E nable s are
active and either RDgoes low with IO/M high, or lORgoes
low. Both input and output mode bits of a selected port

PROMPT 975
PROMPT 475

PROMPT 80/85(3)
PROMPT 48(1)

.

of the selected port are affected, regardless of their I/O

will appear on lines

AD 0 - 7

UPP(4)

NOTES:

.

To clarify the function of the I/O Ports and Data Direction
Registers, the following diagram shows the configuration
of one bit of PORT A and DDR A. The same logic applies
to PORT B and DDR B.

1.

Described on p. 13-34 of 1978 Data Catalog.

2.

Special adaptor socket.

3.

Described on p. 13-39 of 1978 Data Catalog.
Described on p. 13-71 of 1978 Data Catalog.

4.

6-47

8755A/8755A-2

ERASURE CHARACTERISTICS

SYSTEM APPLICATIONS

The erasure characteristics of the 8755A are such that
erasure begins to occur when exposed to light with
wavelengths shorter than approximately 4000 Angstroms
A . It should be noted that sunlight and certain types of

System Interface with 8085A and 8088
A system using the 8755A can use either one of the two I/O
Interface techniques:

*

fluorescent lamps have wavelengths in the 3000-4000A
range. Data show that constant exposure to room level
fluorescent lighting could erase the typical 8755A in
approximately 3 years while it would take approximately 1

•

Standard I/O

•

Memory Mapped I/O

week to cause erasure when exposed to direct sunlight.
If the 8755A is to be exposed to these types of lighting
conditions for extended periods of time, opaque labels

If a standard I/O technique js_used, the system can use
the feature of both CE 3 and CEi. By using a combination

are available from Intel which should be placed over the

inputs, the 8085A system can use up to 5 each 8755A’s

of

unused address lines A n _, 5 and the Chip Enable

8755 window to prevent unintentional erasure.

without requiring a CE decoder. See Figure 2 a and 2 b.

The recommended erasure procedure for the 8755A is

a memory mapped I/O approach is used the 8755A will be
selected by the combination of both the Chip Enables and
If

exposure to shortwave ultraviolet light which has a wavelength of 2537 Angstroms *A The integrated dose <i.e.,
UV intensity X exposure time for erasure should be a
minimum of 15W-sec/cm2. The erasure time with this
dosage is approximately 15 to 20 minutes using an ultraviolet lamp with a 12000juW/cm2 power rating. The
8755A should be placed within one inch from the lamp
tubes during erasure. Some lamps have a filter on their
tubes and this filter should be removed before erasure.

IO/M using the ADs-is address lines. See Figure 1

.

.

-

PROGRAMMING
and after each erasure, all bits of the EPROM
portions of the 8755A are in the “1" state. Information is
introduced by selectively programming “ 0 M into the
desired bit locations. A programmed “O" can only be
Initially,

changed to a “ 1 ” by UV erasure.
The 8755A can be programmed on the Intel® Universal
PROM Programmer UPPi, and the PROMPT™ 80/85 and
PROMPT-48™ design aids. The appropriate programming
modules and adapters for use in programming both
8755A’s and 8755's are shown in Table 1
.

The program mode

consists of programming a
single address at a time, giving a single 50 msec pulse
for every address. Generally, it is desirable to have a
verify cycle after a program cycle for the same address
as shown in the attached timing diagram. In the verify

cycle

(i.e.,

itself

normal memory read cycle

j

‘Vdd

should

be at +5V.
Preliminary timing diagrams and parameter values pertaining to the

8755A programming operation are con-

tained in Figure 7

Figure 1. 8755A in 8085A System (Memory-Mapped I/O)

.

6-48

87 55 A / 87 55 A-2

8088 FIVE CHIP SYSTEM
Figure 1b shows a five chip system containing:
• 1.25 K Bytes
• 2 K Bytes

RAM

ROM

•

38 I/O Pins

•

1

Interval Timer

• 2 Interrupt Levels

Figure 2a. 8088 Five Chip System Configuration

6-49

8755A/8755A-2

6-50

8755 A/8755 A-2
'COMMENT: Stresses above those listed under "Absolute
Maximum Ratings " may cause permanent damage to the

ABSOLUTE MAXIMUM RATINGS*

device.

0°Cto + 70°C
-65°Cto +150 C C

Temperature Under Bias
Storage Temperature
Voltage on Any Pin
With Respect to Ground

cation

1.5W

D.C. CHARACTERISTICS

(ta = o°c to 70°c

;

a stress rating only and functional opera-

is

is

not implied. Exposure

to absolute

reliability.

vcc = sv ± 5%)
TEST CONDITIONS

SYMBOL

PARAMETER

MIN.

MAX.

UNITS

V|L

Input Low Voltage

-0.5

0.8

V

Vcc - 5.0V

V, H

Input High Voltage

2.0

VCC -K).5

V

Vcc = 5.0V

0.45

V

Iol = 2mA

V

Iqh = -4-00pA

V0 L

maximum

rating conditions for extended periods may affect device

-0.5V to +7V

Power Dissipation

This

of the device at these or any other conditions above
those indicated in the operational sections of this specifition

Output Low Voltage
l

VoH

Output High Voltage

2.4

Input Leakage

10

pA

V in = Vcc to 0V

>LO

Output Leakage Current

110

JUA

0.45V <Vqut <V C C

cc

Vcc Supply Current

180

mA

JlL

J

A.C. CHARACTERISTICS

<ta = o°c to 70°c. vcc = 5v ± 5%)

8755 A-2
(Preliminary)

8755A
Parameter

Symbol

Min.

Max.

Min.

Max.

Units

tCYC

Clock Cycle Time

320

200

ns

T

CLK Pulse Width

80

40

ns

CLK Pulse Width
CLK Rise and Fall Time

120

i

T2
tf.tr

ns

70
30

30

ns

50

30

ns

ns

tAL

Address to Latch Set Up Time

tLA

Address Hold Time after Latch

80

45

tLC

Latch to READ/WRITE Control

100

40

tRD

Valid Data Out Delay from READ Control

170

tAD

Address Stable to Data Out Valid

450

tLL

Latch Enable Width

100

tRDF

Data Bus Float after READ

0

tCL

READ/WRITE Control to Latch Enable

ns

140

ns

330

ns
ns

70
100

0

85

ns

20

10

ns

tcc

250

200

ns

tow

150

150

ns

30

10

ns

two

Data In Hold Time After WRITE

twp

WRITE to Port Output

tPR

Port Input Set Up Time

50

tRP

Port Input Hold Time

50

tRYH
tARY

READY HOLD Time
ADDRESS iCE to READY

0

300

tRV

Recovery Time Between Controls

tRDE

READ Control to Data Bus Enable

^LD

ALE to Data Out Valid

Note. Cload

400

400

0

350

6-51

160
160

160

150pF

ns

50
160

ns
ns

50

ns
ns

200

ns

10

ns

270

ns

8755A/8755A-2
Input Waveform for A.C. Tests:

WAVEFORMS

Figure 3. Clock Specification for 8755A

Figure 4. PROM Read, I/O Read and Write Timing

6-52

A.

INPUT MODE

\

RD OR
IOR

PORT
INPUT

I3C

DATA BUS

B.

3C

OUTPUT MODE
low

GLITCH FREE
<1

PORT
OUTPUT

DATA BUS

•DATA BUS TIMING IS SHOWN IN FIGURE 4.

Figure 5. I/O Port Timing

Figure 6. Wait State Timing (READY = 0)

6-53

OUTPUT

8755A/8755A-2
D.C. SPECIFICATION PROGRAMMING
(Ta = 0°C to 70° C: Vcc = 5V ± 5%; Vss = 0V)

1

Symbol

Parameter

Min.

Typ.

24

25

26

V

15

30

mA

Typ.

Max.

Max.

Unit

j
i

Vdd
|

Programming Voltage (during Write
to EPROM)

Idd

Prog Supply Current

A.C. SPECIFICATION FOR PROGRAMMING
(Ta = 0°C to 70° C; Vcc = 5V ± 5%; Vss = 0V)

Symbol

Parameter

Min.

—
Unit

tPS

Data Setup Time

10

tPD

Data Hold Time

0

ns

ts

Prog Pulse Setup Time

2

MS

tH

Prog Pulse Hold Time

2

tPR

Prog Pulse Rise Time

0.01

tPF

Prog Pulse Fall Time

tPRG

Prog Pulse Width

j

ns

1

6-54

MS
2

MS

0.01

2

MS

45

50

msec

into!

8080A/8080A-1/8080A-2
8-BIT N-CHANNEL MICROPROCESSOR
The 8080A is functionally and electrically compatible with the Intel® 8080.

i

i

TTL Drive Capability

16-Bit Stack Pointer and Stack

Manipulation Instructions for Rapid
Switching of the Program Environment

2 fus (-1:1.3 /us, -2:1.5 /us) Instruction

Cycle
Powerful Problem Solving Instruction
Set

Decimal, Binary, and Double Precision
Arithmetic

6 General Purpose Registers and an
Accumulator

Ability to Provide Priority Vectored

16-Bit Program Counter for Directly
Addressing up to 64K Bytes of

Interrupts

Memory

512 Directly Addressed I/O Ports

The Intel® 8080A is a complete 8-bit parallel central processing unit (CPU). It is fabricated on a single LSI chip using
Intel’s n-channel silicon gate

MOS process. This offers the user a high performance solution to control and processing

applications.

The 8080A contains 6 8-bit general purpose working registers and an accumulator. The general purpose
6
registers
may be addressed individually or in pairs providing both single and double precision operators. Arithmetic and logical
instructions set or reset 4 testable flags. A fifth flag provides decimal arithmetic operation.

The 8080A has an external stack feature wherein any portion of memory may be used as a last in/first out stack to
store/retrieve the contents of the accumulator, flags, program counter, and all of the 6 general purpose registers.
The
16-bit stack pointer controls the addressing of this external stack. This stack gives the 8080A the ability
to easily handle multiple level priority interrupts by rapidly storing and restoring processor status. It also provides almost
unlimited
subroutine nesting.
This microprocessor has been designed to simplify systems design. Separate 16-line address and 8-line
bidirectional
data busses are used to facilitate easy interface to memory and I/O. Signals to control the interface to memory and
I/O
are provided directly by the 8080A. Ultimate control of the address and data busses resides with the HOLD
signal. It
provides the ability to suspend processor operation and force the address and data busses into a high impedance
state. This permits OR-tying these busses with other controlling devices for (DMA) direct memory
access or multiprocessor operation.

8080A CPU FUNCTIONAL BLOCK DIAGRAM
°0

BIDIRECTIONAL

DATA BUS
OATA BUS
BUFF E R 'L ATCH I
I

KBIT)
internal data bus

(8 BIT}

INTERNAL DATA BUS

ACCUMULATC

ACCUMULATOR
LATCH <8

REGISTER

ARRAY

POWER
SUPPLIES

DATA BUS INTERRUPT HOLD
WAIT
WRITE CONTROL CONTROL CONTROL CONTROL SYNC CLOCKS

WR

DBIN

INTE

INT

HOLO HOLD WAIT
SYNC
ACK
READY
I

6-56

01

>2

RESET

*15

*0

ADDRESS BUS

8080A/8080A-1 /8080A-2

PIN DESCRIPTION
The following describes the function of all of the 8080A I/O pins.
Several of the descriptions refer to internal timing periods.

A 15 .A 0 (output three-state)
ADDRESS BUS; the address bus provides the address to memory
(up to 64K 8-bit words) or denotes the I/O device number for up
to 256 input and 256 output devices. A0 is the least significant
address bit.

D 7 -D 0 (input/output three-state)

DATA BUS; the data bus provides bi-directional communication
between the CPU, memory, and I/O devices for instructions and
data transfers. Also, during the first clock cycle of each machine
cycle, the 8080A outputs a status word

on the data bus that de-

Dq is the least significant bit.

scribes the current machine cycle.

SYNC (output)
SYNCHRONIZING SIGNAL; the SYNC pin provides a signal to
indicate the beginning of each

machine cycle.

DBIN (output)
DATA BUS IN; the DBIN signal indicates to external circuits that
the data bus is in the input mode. This signal should be used to

enable the gating of data onto the 8080A data bus from memory
or I/O.

Figure 1. Pin Configuration

READY (input)
READY; the READY signal indicates to the 8080A that valid

will go to the high impedance state.

memory or input data is available on the 8080A data bus. This
signal is used to synchronize the CPU with slower memory or I/O
devices. If after sending an address out the 8080A does not receive a READY input, the 8080A will enter a WAIT state for as
long as the

The HLDA signal begins

at:

• T3 for READ memory or input.
• The Clock Period following T3 for WRITE memory or OUT-

PUT operation.
In either case, the

HLDA signal appears after the rising edge of

<t>*\

and high impedance occurs after the rising edge of 02 -

READY line is low. READY can also be used to single
INTE (output)

step the CPU.

INTERRUPT ENABLE; indicates the content of the internal inter-

WAIT (output)
WAIT; the WAIT signal acknowledges that the CPU is in a WAIT

able and Disable

state.

from being accepted by the CPU when

rupt enable flip/flop. This flip/flop may be set or reset by the EnInterrupt instructions and inhibits interrupts
it

is

reset.

It

is

auto-

matically reset (disabling further interrupts) at time T1 of the in-

WR (output)

struction fetch cycle (Ml)

WRITE; the WR signal is used for memory WRITE or I/O output

also reset by the RESET signal.

The data on the data bus is stable while the WR signal is

control.

active low

(WR = 0).

INT (input)

HOLD (input)
HOLD; the HOLD signal requests the CPU to enter the HOLD
state. The HOLD state allows an external device to gain control
of the 8080A address and data bus as soon as the 8080A has completed

when an interrupt is accepted and is

its

use of these buses for the current machine cycle.

It is

recognized under the following conditions:

• the CPU is in the HALT state.
• the CPU is in the T2 or TW state and the R EAD Y signal is active.
As a result of entering the HOLD state the CPU ADDRESS BUS
(A 15 A 0 and DATA BUS (D 7 -D 0 will be in their high impedance
The CPU acknowledges its state with the HOLD ACstate.
)

)

INTERRUPT REQUEST; the CPU recognizes an
halted.

If

flip/flop

the CPU is in the HOLD state or if the Interrupt Enable

is

reset

it will

not honor the request.

RESET (input) HI
RESET; while the RESET signal is activated, the content of the
program counter is cleared. After RESET, the program will start
at location 0 in memory. The INTE and HLDA flip/flops are also
reset. Note that the flags, accumulator, stack pointer, and registers

are not cleared.

VDD

Ground Reference.
+12 + 5% Volts.

Vqc

+5 ± 5% Volts.

VBB

-5 ±5% Volts (substrate bias).

Vss

KNOWLEDGE (HLDA) pin.
HLDA (output)
HOLD ACKNOWLEDGE; the HLDA signal appears in response
to the HOLD signal and indicates that the data and address bus

interrupt re-

quest on this line at the end of the current instruction or while

01

6-57

,

02

2 externally supplied clock phases, (non TTL compatible)

8080 A/8080 A- 1 /8080A-2

ABSOLUTE MAXIMUM RATINGS*
Temperature Under Bias

*
COMMENT Stresses above those listed under "Absolute Maximum Ratings" may cause permanent damage to the device

0°C to +70° C
-65°C to +150°C

Storage Temperature

:

This is a stress rating only and functional operation of the de-

All Input or Output Voltages

With Respect to V BB

vice at these or any other conditions above those indicated in

-0.3V to +20V

v CCr V DD and V$ s With Respect to V BB

the operational sections of this specification is not implied. Exposure to absolute maximum rating conditions for extended

-0.3V to +20V

Power Dissipation

7 .

5

W

periods may affect device reliability.

D.C. CHARACTERISTICS
Ta = 0 C to 70 C, Vqq - +12V ± 5%, Vcc * +5V ± 5%, V BB = -5V ± 5%, V 55 = 0V, Unless Otherwise Noted.
Symbol

Parameter

Min.

Max.

Typ.

Unit

v iLC

Clock Input Low Voltage

Vss-1

Vss+0.8

V

V|HC

Clock Input High Voltage

9.0

Vqq +

1

V

Vss-1

Yss+0.8

V

3.3

Vcc + 1

V

0.45

V

V|L

Input Low Voltage

V(H

Input High Voltage

>O

_l

Output Low Voltage

VOH

Output High Voltage

r

1,1,1

r™ 1

Avg. Power Supply Current (Vqq)

40

70

CC (AV)

Avg. Power Supply Current (V cc )

60

80

bB (AV)

Avg. Power Supply Current (V BB

.01

1

)

Iol = 1.9mA on all outputs.

V

'lOH-- 150juA.

mA
mA
mA

Operation
= .48 psec
T

3.7

DD (AV)

!

!

Test Condition

cy

IlL

Input Leakage

±10

M

vss < V| N < vcc

!

cl

Clock Leakage

±10

pA

Vss < VcLOCK < Vqq

I

dl [2]

Data Bus Leakage in Input Mode

-100

=*

<

E<

V$s ^V|m <Vss+0.8V

-2.0

Address and Data Bus Leakage
•fl

+ 10

During HOLD

-100

UA

Vss +0.8V<V, N <Vcc
VaDDR/DATA = Vcc

VaDDR/DATA = Vss + 0.45V

1

CAPACITANCE
Ta = 25°c
Symbol

Vcc = Vqq = Vss = 0V, V BB = -5V
Parameter

Typ.

Max.

Unit

17

25

pf

pf

Unmeasured Pins

Pf

Returned to Vgs

c0

Clock Capacitance

C IN

Input Capacitance

6

10

CquT

Output Capacitance

10

20

Test Condition
fc

= 1 MHz

NOTES:
The R ESET signal must be active for a minimum of 3 clock cycles.
1
2. When DBIN is high and Vjn > Vm an internal active pull up will
.

3.

Figure 2. Typical Supply Current vs.

be switched onto the Data Bus.
A1 supply / AT a = -0.45%/°C.

Temperature, Normalized^

Figure 3. Data Bus Characteristic

During DBIN
6-58

8080 A/8080 A-1 /8080 A-2
A.C. CHARACTERISTICS (8080A)
=
Otherwise Noted
Ta = 0°C to 70° C, V DD = +12V ± 5%, Vcc = +5V ± 5%, V BB = -5V ± 5%. Vgs 0V, Unless
Parameter

Symbol
3
.CY* '

Clock Period
Clock Rise and Fall Time

tf. tf

1

-1

-2

•2

Min.

Max.

Min.

Max.

Min.

Max.

Unit

0.48

2.0

0.32

2.0

0.38

2.0

Msec

0

50

0

25

0

50

nsec

1

nsec

0*1

60

50

*01

Pulse Width

60

02 Pulse Width

220

145

175

nsec

*02

0

nsec

0

*D1

Delay &-\ to 02

0

Delay 02 to 0-|

70

60

70

nsec

*D2

80

60

70

nsec

*D3

Delay 0^ to 02 Leading Edges

*DA [21

Address Output Delay From 02

200

150

175

nsec

180

200

nsec

110

120

nsec

140

nsec

*DF

nsec

Data Output Delay From 02

220

2'

Signal Output Delay From 02 or 02 (SYNC, WR, WAIT, HLDA)

120

2'

DBIN Delay From 02

1*

Delay for Input Bus to Enter Input Mode

*DD [21
t

oc

i

'OF*
'oi*

*DS1

25

Data Setup Time During 0-j and DBIN

WAVEFORMS

140

_ C|_= 100 pF

_

25

130

25

*DF

tDF
30

Test Condition

10

C L = 50 pF

nsec

20
1

(Note: Tinning measurements are made at the following reference voltages: CLOCK
"0" = 1.0V; INPUTS “1" = 3.3V, "0" = 0.8V; OUTPUTS "1" = 2.0V, "0" = 0.8V.)
1

8.0V

4

8080 A/8080 A- 1 /8080A-2
A.C. CHARACTERISTICS (8080A)
Ta = 0°C to 70°C, V DD = +12V ± 5%, V

Symbol

cc = +5V ± 5%, V BB = -5V ± 5%, Vss = 0V, Unless Otherwise Noted

Parameter

Min.

*DS2

Data Setup Time to 0 2 During DBIN

150

DH^

Data Holt time From 0 2 During DBIN

[1]

t

Max.

INTE Output Delay From 0 2

-1

•1

-2

Min.

Max.

Min.

2
Max.

Unit

120

130

nsec

HI

m

nsec

200

200

200

120

90

90

*HS

HOLD Setup Time to 02

140

120

120

nsec

tis

INT Setup Time During 0 2

120

100

100

nsec

<H

Hold Time From 0 2 (READY, INT, HOLD)

0

0

0

nsec

!

FD

Delay to Float During Hold (Address and Data Bus)

t

A w121

Address Stable Prior to WR

D w J21

WD^
WA

t

t

t

f2J

120

tAH®

[6]

[6]

nsec

[7]

[7]

nsec

[7]

[71

nsec

[6]

Output Data Stable From WR

[7]

Address Stable From WR

[7]

Address Hold Time After DBIN During HLDA

[8]

[8]

[8]

nsec

[9]

[9]

[9]

nsec

-20

-20

-20

nsec

notes: (Parenthesis gives

f

J

A

.

Cl= 100 pF: Address, Data
C l = 50 pF: WR, HLDA, DBIN

,

Load Circuit.

2.

+5V

f—\

\

)

"

1 -2 specifications, respectively)
Data input should be enabled with DBIN status. No bus conflict can then occur
and data hold time is assured.
*DH “ 50 ns or tDF* whichever is less.

1.

*/\_

nsec
nsec

Output Data Stable Prior to WR

WR to Float Delay

tw^l

120
[5]

[5]

HLDA to Float Delay

nsec

120

[5]

C L = 50 pF

nsec

READY Setup Time During 0 2

•rs

Test Condition

8080A

OUTPUT

—!

|

A
15

A
”0

U.

j"

—__
|“

~r

h-

FD

j

1—

1

—

*1 *WA

I

D 7 -D 0

r

pr-

r

3

tCY = *03 + V+2 +

-

1

ty2

+

4*2

+ *D2 + t r^ > 480 ns {- 1:320 ns, -2:380 ns).

TYPICAL A OUTPUT DELAY VS. A CAPACITANCE

H %D
SYNC
;

—

1

1

DBIN

1
WE

l

AM

V

X
i

—

i

f—_
\

^

l

_

^VF
*j

*D(

REAOY

A CAPACITANCE (pf)

— —

(C

F

ACTUAl - CSPEC

f

WAIT
4.

The following are relevant when interfacing the 8080A to devices having

HOLD

b)
c)

'w
HLDA

“l

INT

t

6.

tp

7.

If

8.

tHF “ tD3 + tr0

9.

tWF * *D3 + tr<*>2 -10ns

10.
1 1 .

1

*

INTE

«- t,E-^

Y~

AW

5.
|

12.

V|H * 3.3V:

Maximum output rise time from .8V to 3.3V = 100ns @ Cl = SPEC.
Output delay when measured to 3.0V = SPEC +60ns @ Cl = SPEC.
If Cl* SPEC, add .6ns/pF if C >
L C$PEC' subtract .3ns/pF (from modified delay) if Cl < Cep
= 2 t CY - t D3 - t r 2 - 140 ns (- 1:110 ns, -2:130 ns).

a)

W = tQY - tD3 ”

not HLDA, tWD e tWA

!

^
r*2 “

170 ns (- 1:150 ns, -2:170 ns).
*D3 4 *r<$2 + 10ns. If HLDA, tWD == »WA ” tWF-

2 -50ns.

Data in must be stable for this period during DBIN

T 3 Both t DS1 and t DS2 must be satisfied.
Ready signal must be stable for this period during T or T^. (Must be externally
synchronized.)
2
Hold signal must be stable for this period during T or T when
entering hold mode, and
2

.

w

during T3

and TyyH when in hold mode. (External synchronization is not required.)
13.

14.

Interrupt signal must be stable during this period of the last clock

,

T 4 T5

cycle of any instruction in order to be

recognized on the following instruction. (External synchronization is
not required.)
This timing diagram shows timing relationships only; it does not represent

any specific machine cycle.

6-60

,

8080 A/8080 A- 1 /8080A-2

INSTRUCTION SET
The accumulator group instructions include arithmetic and
logical

operators with direct, indirect, and immediate ad-

dressing modes.

Move, load, and store instruction groups provide the ability
move either 8 or 16 bits of data between memory, the

to

working registers and the accumulator using direct, indirect, and immediate addressing modes.

increment and decrement memory, the six general registers
and the accumulator is provided as well as extended incre-

ment and decrement instructions to operate on the register
pairs and stack pointer. Further capability is provided by
the ability to rotate the accumulator left or right through

or around the carry bit.

six

The ability to branch to different portions of the program
computed
is provided with jump, jump conditional, and
jumps. Also the ability to

call

to and return from sub-

Input and output may be accomplished using memory addresses as I/O ports or the directly addressed I/O provided
for in the 8080A instruction set.

The following special instruction group completes the 8080A
the

NOP instruction, HALT to stop pro-

routines is provided both conditionally and unconditionally.

instruction set:

The RESTART (or single byte call instruction) is useful for

cessor execution and the

interrupt vector operation.

arithmetic capability.

Double precision operators such as stack manipulation and
double add instructions extend both the arithmetic and
interrupt handling capability of the 8080A. The ability to

rectly set, and the

DAA instructions provide decimal

STC allows the carry flag to be di-

CMC instruction allows

it

to be comple-

mented. CM A complements the contents of the accumulator

and

XCHG exchanges the contents of two 16-bit register

pairs directly.

Data and Instruction Formats

Data in the 8080A is stored in the form of 8-bit binary integers. All data transfers to the

system data bus will be in the

same format.

DATA WORD
must be stored
The program instructions may be one, two, or three bytes in length. Multiple byte instructions
operation
particular
on
the
depend
then
formats
instruction
The
in successive words in program memory.
executed.

TYPICAL INSTRUCTIONS

One Byte Instructions

Register to register, memory refer-

OP CODE

ence, arithmetic or logical, rotate,
return, push, pop, enable or disable

Interrupt instructions

OP CODE

OPERAND

Immediate mode or I/O instructions

OP CODE

Jump, call or direct load and store

Three Byte Instructions

LOW ADDRESSOR OPERAND

instructions
1

HIGH ADDRESSOR OPERAND 2
For the 8080A a logic "1" is defined as a high level and a logic "0" is defined as a low level.

6-61

8080 A/8080 A- 1/8080 A-2
8080 INSTRUCTION SET
Summary of Processor Instructions
Instruction Code(i|

Mnemonic

Description

07

D5

06

O4

D?

O3

Clock!?;

Op

0|

Instruction Code(i]

Mnemonic

Cycles

Description

P7

p6

p5

p4

p?

p3

Clock|?|

q0

p,

cycles

MOVE. LOAD. AND STORE
M0Vr1.r2

Move register to register

0

1

0

0

0

s

s

s

5

JP0

Jump on parity odd

MOV M
MOVr.M

Move register to memory

0

1

1

1

0

s

s

s

7

PCHL

H & L to program

r

Move memory to register

0

1

D

D

D

1

MVI r

Move immediate register

0

0

D

D

D

1

1

0

7

MVI M

Move immediate memory

0

0

1

1

0

1

1

0

10

CALL

Call unconditional

LXI B

Load immediate register

0

0

0

0

0

0

0

1

10

cc

Call on carry

CNC

Call on no carry

0

0

0

1

10

CZ

Call on zero

0

0

0

1

10

Load immediate register

0

0

0

1

Load immediate register
Pair H & L

0

0

1

0

Store A indirect

0

Pair D

LXI H

STAX B

& E

0

0

0

0

0

0

1

7

STAX 0

Store A indirect

LDAX B

Load A indirect

0

0

0

0

1

0

1

0

7

LDAX D

Load A indirect

0

0

0

1

1

0

t

0

7

STA

Store A direct

0

0

1

1

c

0

1

0

13

0

0

0

0

1

0

0

1

7

Load A direct

0

0

1

1

1

0

1

0

13

SHLD

Store H & L direct

0

0

1

0

0

0

1

0

16

LHLD

Load H & L direct

0

0

1

0

1

0

1

0

16

XCHG

Exchange D & E H & L

1

1

1

0

1

0

1

1

4

Registers

STACK OPS
PUSH B

Push register Pair B &

0

0

1

1

0

c

1

11

1

C on stack

PUSH D

Push register Pair D &

PUSH H

Push register Pan H &

1

1

0

1

0

1

0

1

11

1

1

1

0

0

1

0

1

11

J

1

1

1

0

1

0

1

11

Push A and Flags

Pop register Parr B &

1

1

0

0

0

0

0

1

10

1

1

0

1

0

0

0

1

10

C off stack

POP 0

Pop register Pair D &

Call

CM

Call on minus
Call on parity even

CP0

Call on parity odd

XTHL

1

LXI SP

1

1

0

0

0

0

Pop A and Flags

Return

Return on carry

1

0

RNC

Return on no carry

1

RZ

Return on zero

1

RNZ

Return on no zero

1

RP

Return on positive

RM

Return on minus

RPE

RP0

1

1

1

0

0

1

0

1

1

Load immediate stack

1

1

0

0

0

1

18

1

0

0

5/11

0

0

5/11

0

0

5/11

0

0

0

5/11

0

0

0

5/11

1

0

0

0

5/11

0

0

0

0

0

5/11

A

A

A

1

1

1

11

5

0

1

0

0

0

0

1

0

0

0

0

0

1

1

1

0

1

1

1

1

Return on parity even

1

1

0

Return on parity odd

1

1

1

1

Increment register

0

0

0

0

D

1

0

0

DCR r

Decrement register

0

0

D

0

D

1

0

1

5

INR M

Increment memory

0

0

1

1

0

1

0

0

10

DCR M

Decrement memory

0

0

1

1

0

1

0

1

10

INX B

Increment B & C

0

0

0

0

0

0

1

1

5

0

0

0

1

0

0

1

1

5

0

0

1

0

0

0

1

1

5

Increment D & E

Increment H & L

DCX B

Decrement B & C

0

0

0

0

1

0

1

1

5

OCX D

Decrement D & E

0

0

0

1

1

0

1

1

5

Decrement H & L

0

0

1

0

1

0

1

1

5

0

1

5

DCX H

0

0

1

1

0

0

0

1

10

ADD
r

Add register to A

1

0

0

0

0

s

s

s

4

0

0

1

1

0

0

1

1

5

ADC r

Add register to A

1

0

0

0

1

s

s

s

4

ADD
0

1

1

JNC

Jump on no carry

JZ

JNZ

NOTES

5/11

0

0

Jump unconditional

0

1

0

1

1

1

5

1

with carry

ADD M

Add memory to A

1

0

0

0

0

1

1

0

7

ADC M

Add memory to A

1

0

0

0

1

1

1

0

7

with carry

1

0

0

0

0

1

1

0

1

1

0

1

0

10

1

0

1

0

0

1

0

10

Jump on zero

10

0

10 10

10

DAD B

Jump on no zero

1

0

0

0

10

DAD D

Jump on parity even

10

0

1

1

Jump on carry

Jump on minus

11/17

11/17

1

JMP

JPE

11/17

1

JC

JM

0

11/17

11/17

1

JUMP

Jump on positive

0

11/17

11/17

INR r

INX H

10

1

pointer

JP

0

17

11/17

registers

H & L to stack pointer

Decrement stack

0

1

Restart

stack

Increment slack pointer

OCXSP

1

0

RET

INX D

10

1

pointer

INX SP

110

registers

Exchange top of
slack H & L

SPHL

5

registers

Pop register Pan H &

off

0

0

1

RC

L off stack

POP PSW

10

1

1011100
1010100
1001100
10
1110100
111110
1101100
1100100
1001001

on positive

CPE

E off stack

POPH

0

INCREMENT AN0 DECREMENT

on stack

POP B

Call on no zero

CP

RST

L on stack
.

1

0

RESTART

E on stack

PUSH PSW

CNZ

10

RETURN

LDA

0

0

CALL

Pair B & C

LXI 0

0

1

counter

7

0

1

11

1110 10

1

0

1

10

1

0

1110 10
11110 10
0

Add immediate to A

1

1

0

0

0

1

1

0

7

ACI

Add immediate to A

1

1

0

0

1

1

1

0

7

Add B & C to H & L

0

0

0

0

1

0

0

1

10

Add D & E to H & L

0

0

0

1

1

0

0

1

10

DAO H

Add H & L to H & L

0

0

1

0

1

0

0

1

10

DAD SP

Add stack pointer to
H & L

0

0

1

1

1

0

0

1

10

with carry

10
10

110 10 10

ADI

10

1

DDDorSSS B 000 C 001

0 010 E 011. H

2

Two possible cycle times

16/12) indicate instruction cycles dependent on condition flags

100

L

101

Memory

110

A

6-62

111

’All
c

mnemonics copyright
Intel

Corporation 1977

8080 A/8080 A-1/8080A-2

Summary of Processor Instructions (Cont.)
Clock|2]

Instruction Code|i|

Mnemonic

OL 04_ 0L£l_ 0|_iL Cycles

0?

Description

SUBTRACT
SUB

Subtract register

r

1

0

0

1

0

S

s

s

4

1

0

0

1

1

s

s

s

4

1

0

0

1

0

1

1

0

7

1

0

0

1

1

1

1

0

7

1

1

0

1

0

1

1

0

7

1

1

0

1

1

1

1

0

7

from A
Subtract register from

SBB r

A with borrow
Subtract memory

SUB M

from A
Subtract memory from

SBB M

A with borrow
Subtract immediate

SUI

from A
Subtract immediate

SBI

from A with borrow

LOGICAL

ANA r

And register with A

1

0

1

0

0

s

s

s

4

XRA

Exclusive Or register

1

0

1

0

1

s

s

s

4

Or register with A

1

0

1

1

0

s

s

s

4

Compare register with A

1

0

1

1

1

s

s

s

4

And memory with A

1

0

1

0

0

1

1

0

7

Exclusive Or memory

1

0

1

0

1

1

1

0

7

r

with A

ORA

i

CMP
ANA M
XRA M
r

with A

ORA M
CMP M

Or memory with A

1

0

1

1

0

1

1

0

7

Compare memory with A

1

0

1

1

1

1

1

0

7

ANI

And immediate with A

1

1

1

0

0

1

1

0

7

XRI

Exclusive Or immediate

1

1

1

0

1

1

1

0

7

1

1

1

1

0

1

1

0

7

1

1

1

1

1

1

1

0

7

with A

ORI

Or immediate with A

CPI

Compaie immediate
with A

ROTATE
RLC

Rotate A left

0

0

0

0

0

1

1

1

4

RRC

Rotate A right

0

0

0

0

1

1

1

1

4

RAL

Rotate A left through

0

0

0

1

0

1

1

1

4

0

0

0

t

1

1

1

1

4

carry
Rotate A right through

RAR

carry

SPECIALS

CMA

Complement A

0

0

1

0

1

1

1

1

4

STC

Set carry

0

0

1

1

0

1

1

1

4

CMC

Complement carry

0

0

1

1

1

1

1

1

4

DAA

Decimal adjust A

0

0

1

0

0

1

1

1

4

INPUT/OUTPUT
IN

Input

1

1

0

1

t

0

1

1

10

OUT

Output

1

1

0

1

c

0

1

1

10

El

Enable Interrupts

1

1

1

1

1

0

1

1

4

01

Disable Interrupt

1

1

1

1

0

0

1

1

4

NOP

No-operation

0

0

0

0

0

0

0

0

4

HLT

Halt

0

1

1

1

0

1

1

0

7

CONTROL

NOTES

1.

DOD or SSS B=000 C=001 0=010 E=011 H= 100 L=101 Memory*110 A=1

2.

Two possible cycle times

.

1

(6/12) indicate instruction cycles dependent on condition flags

6-63

'All
1

mnemonics copyright
Intel

Corporation 1977

intel
8224

CLOCK GENERATOR AND DRIVER
FOR 8080A CPU
Single Chip Clock Generator/Driver for

Oscillator Output for External System

8080A CPU

Timing

Power-Up Reset for CPU

Ready Synchronizing Flip-Flop

Crystal Controlled for Stable System
Operation

Advanced Status Strobe

Reduces System Package Count

The Intel® 8224 is a single chip clock generator/driver for the 8080A CPU. It is controlled by a crystal,
selected by the
designer to meet a variety of system speed requirements.
Also included are circuits to provide power-up reset, advance status strobe, and synchronization
of ready.
The 8224 provides the designer with a significant reduction of packages used to generate clocks and timing

for 8080A.

PIN CONFIGURATION

W

RESET

1

16

BLOCK DIAGRAM

ZD vcc

RESIN

|

2

15

1

XTAL 1

RDYIN

|

3

14

1

XTAL 2

READY

f

4

13

Itank

SYNC

|

5

12

lose

6

ii

Q?>

XTAL1 -

[55>

XTAL2

[l3>

TANK

—

OSCILLATOR

CLOCK
GEN.
+9

'

->

-osc

[l?>

-«i

E>

-°2

E>

d 2 ITTLl[6>

8224

2

fTTU

STSTB|

gnd|

7

8

10

9

zi*.

(F>

SYNC -

ZK

[T>

RESIN -

ZD VDD

v.
—
Lyj"^°-$t§rB E>
[7

SCHMITT
INPUT

[F>

RDYIN -

u
n

-RESET (T>
-

PIN NAMES
RESIN

RESET
RDYIN

READY
SYNC
STSTB

RESET INPUT
RESET OUTPUT

XTAL 1
XTAL 2
TANK

READY INPUT
READY OUTPUT

OSC

SYNC INPUT
STATUS STB

Vcc

8080

<t>2

CLOCKS

\

Wio
^

QND

6-64

CONNECTIONS
FOR CRYSTAL
USED WITH OVERTONE XTAL
OSCILLATOR OUTPUT
02 CLK (TTL LEVEL)

01 (TTL)

(ACTIVE LOW)
Ol

(

5V
i

12V

OV

^

READY [£>

8224
*

ABSOLUTE MAXIMUM RATINGS*

COMMENT Stresses above those listed under "Absolute
:

Maximum Ratings" may cause permanent damage to the
device

0 C to 70^C
—65 C to 150 C

Temperature Under Bias
Storage Temperature
Supply Voltage, Vcc
Supply Voltage, V DD

—0.5V to +7V
-0.5V to +13.5V
—1.5V to +7V

Input Voltage

cation

This

is

a stress rating only and functional opera

not implied. Exposure

is

to absolute

maximum

rating conditions for extended periods may affect device

100mA

Output Current

.

of the device at these or any other conditions above
those indicated in the operational sections of this specifi-

tion

reliability .

D.C. CHARACTERISTICS
Ta = 0°C to 70°C; V CC = +5.0V +5%; V DD = +12V ±5%.
Limits

Parameter

Symbol

f

Typ.

Min.

Max.

Units

Test Conditions

-.25

mA

V F = .45V

F

Input Current Loading

•r

Input Leakage Current

10

vc

Input Forward Clamp Voltage

1.0

V

1

V| L

Input "Low" Voltage

.8

V

Vcc = 5.0V

V| H

Input "High" Voltage

i

|

VR = 5.25V

HA

V

2.6

RESIN Input Hysteresis

V0 L

Output "Low" Voltage

= -5mA

Reset Input
All Other Inputs

2.0

V|H-V IL

c

.25
.45

V

Vcc = 5.0V

V

(01.02). Ready, Reset, ST STB

Iql = 2.5mA
.45

V

All Other Outputs

Iql = 15mA

Output "High" Voltage

VoH

01

,

9.4

02

READY, RESET

3.6

All Other Outputs

2.4

Isc^

Output Short Circuit Current
(All Low Voltage Outputs Only)

-10

•cc

Power Supply Current

115

•dd

Power Supply Current

12

Note:

1.

Caution, <t>\ and <t>

-60

Crystal Requirements

Tolerance: 0.005% at 0°C-70°C
Resonance: Series (Fundamental)*

Load Capacitance: 20-35 pF
Equivalent Resistance: 75-20 ohms
.

•With tank circuit use 3rd overtone mode.

6-65
I

Ioh = -100m A
= -100#i A
•oh
=
OH -1mA

mA

£ 0>

l

11

Vcc = 5.0V

output drivers do not have short circuit protection

Power Dissipation (Min): 4 mW

V
V
V

mA
mA

8224
A.C. CHARACTERISTICS

VCC = +5.0V ± 5%; VDD = +1 2.0V ± 5%; TA = 0°C to 70°C
Limits

Symbol
*01

Parameter
01 Pulse Width

Min.

^

Test

Typ.

Max.

Units

Conditions

- 20ns

9

02 Pulse Width

|

*D1

01 to 02 Delay

0

*02

02 to 0i Delay

2^- 14ns

ns

Cl = 20pF to 50pF

9
*03

2tcy

01 to 02 Delay

+ 20ns

9

9

*R

01 and 02 Rise Time

20

*F

01 and 02 Fall Time

20

*D02

02 to 02 (TTL) Delay

-5

+15

^-30ns

6tcy

ns

02TTL,CL=3O
R i =300f2
R 2 =600n

toss

02 to STSTB Delay

9

*PW

STSTB Pulse Width

STSTB, CL=15pF

15ns

9

*DRS

*DRH
*DR

RDYIN Setup Time to

R! = 2K

R 2 = 4K

50ns

Status Strobe

RDYIN Hold Time
After STSTB

RDYIN or RESIN to
02 Delay

9
4tcy

9

^2
-25ns
9

Ready & Reset

CL=10pF

Rl=2K
R 2 =4K
*CLK

CLK Period

tcy

V

Maximum Oscillating
*max

Cin

Frequency

27

MHz

Input Capacitance

8

pF

VCC =+5.0V
Vdd =+ 12V
V bias =2.5V
f=1MHz

8224

WAVEFORMS

RESET OUT

VOLTAGE MEASUREMENT POINTS:

<t>y, <t>

2 Logic

"0" » 1.0V, Logic "1" - 8.0V.

All other signals measured at 1.5V.

EXAMPLE:
A.C. CHARACTERISTICS

(For icy ~ 488.28 ns)

Ta = 0°C to 70°C; V DD = +5V ±5%; V DD = +12V ±5%.
Limits

Symbol

Parameter

Min.

Typ.

Max.

Units

Test Conditions
t C y=488.28ns

t0i

01 Pulse Width

89

ns

x

02 Pulse Width

236

ns

<t>2

*D1

Delay 0i to 0 2

0

ns

*D2

Delay 02 to 0i

95

ns

*D3

Delay 0i to 02 Leading Edges

109

tr

-

_ 0i & 02 Loaded to
C L = 20 to 50pF

129

ns

Output Rise Time

20

ns

tf

Output Fall Time

20

ns

toss

02 to STSTB Delay

296

326

ns

tD02

02 to 02 (TTL) Delay

-5

+15

ns

tpw

Status Strobe Pulse Width

40

ns

*DRS

RDYIN SetupTimeto STSTB

-167

ns

to 2mA/10pF

tDRH

RDYIN Hold Time after STSTB

217

ns

All measurements

tDR

READY or RESET

192

ns

MAX

referenced to 1.5 V
unless specified

to 02 Delay
f

Ready & Reset Loaded

otherwise.

18.432

Oscillator Frequency

6-67

MHz

intel
8228/8238

SYSTEM CONTROLLER AND BUS DRIVER
FOR 8080A CPU
Single Chip System Control for

MCS-80™ Systems

User Selected Single Level Interrupt
Vector (RST 7)

Built-In Bidirectional Bus Driver for

28-Pin Dual In-Line Package

Data Bus Isolation

Reduces System Package Count
Allows the Use of Multiple Byte
Instructions (e.g. CALL) for Interrupt

*8238 Has Advanced IOW/MEMW for
Large System Timing Control

Acknowledge

The Intel® 8228 is a single chip system controller and bus driver for MCS-80. It generates all signals required to
directly interface MCS-80 family RAM, ROM, and I/O components.

A bidirectional bus driver is included to provide high system TTL fan-out. It also provides isolation of the 8080 data bus
from memory and I/O. This allows for the optimization of control signals, enabling the systems designer to use slower
memory and I/O. The isolation of the bus driver also provides for enhanced system noise immunity.

A user selected single level interrupt vector (RST 7) is provided to simplify real time, interrupt driven, small system
requirements. The 8228 also generates the correct control signals to allow the use of multiple byte instructions (e.g.
CALL) in response to an interrupt acknowledge by the 8080A. This feature permits large, interrupt driven systems to
have an unlimited number of interrupt levels.

t

The 8228 is designed to support a wide variety of system bus structures and also reduce system package count for
cost effective, reliable design of the MCS-80 systems.
Note: The specifications for the 3228/3234 are identical with those for the 8228/8238

PIN CONFIGURATION

BLOCK DIAGRAM

CPU

DATA
BUS

wttrw
S7&1*

iTow
STTfB

DBIN

SUSTKi

Wfi

HLDA

iNTA

PIN NAMES

n'li'JM
l/OR

DATA BUS (8080 SIDE)
DATA BUS (SYSTEM SIDE)
I/O READ

UsLSIH

I/O WRITE

WlllJM

MEMORY READ
MEMORY WRITE

txJB
DBIN

ESEM !H>? 1U-M '!
USDS

!«—

BUS ENABLE INPUT

wuum STATUS STROBE (FROM
Vcc

5V

EIuH 0 VOLTS

DBIN (FROM 8080)

6-68

8224)

8228/8238

*

ABSOLUTE MAXIMUM RATINGS*

:

Maximum Ratings" may cause permanent damage to the

— 0°C to 70 °C

Temperature Under Bias
Storage Temperature
Supply Voltage, V cc

device.

-0.5V to +7V
- 1.5V to + 7V

is

a stress rating only and functional opera-

those indicated in the operational sections of this specifi-

cation

100 mA

Output Current

This

tion of the device at these or any other conditions above

-65°C to 150°C

Input Voltage

COMMENT Stresses above those fisted under "Absolute

not implied. Exposure

is

to absolute

maximum

rating conditions for extended periods may affect device
reliability.

D.C. CHARACTERISTICS

ta = o°c to 70°c vcc = 5 V ±5%.
;

Limits

Parameter

Symbol

vc

Min. Typ.ll)

II

Max.

mm

STSTB

V

VC c = 4 -75V; lc“-5mA

PA

Vcc = 5.25V

H

D 2 & Dg
Do, Di

.

D 4 D5
,

,

& d7
All Other Inputs

L

V F = 0.45 V

EQH

Input Leakage Current

Ir

100

DBq-DB 7

20

pA

All Other Inputs

100

pA

2.0

V

VCC =5V

190

mA

VCC =5.25 V

.45

V

Vcc = 4 7 5V; 0 L=2mA

V

Iql = 10mA

V

VCC =4.75V; Ioh = ~ 0/iA

Input Threshold Voltage, All Inputs

CC

Power Supply Current

V0 L

Output Low Voltage,

0.8

140

d 0 -d 7
All

V0 H

Other Outputs

.45

All Other Outputs

3.8

3.6

V

2.4
1

•os

Short Circuit Current, All Outputs

'o(oft)

Off State Output Current,

15

All Control Outputs

:

V R = 5.25V

-

l

Output High Voltage,

d0 d 7

l|NT

VCC = 5.25 V

HA

STSTB

Vth

Note 1

Test Conditions

Input Load Current,

'f

l

Unit

INTA Current
Typical values are for T/\ = 25°C and nominal supply voltages.

6-69

1

I

0h

= - 1 mA

90

mA

VCC =5V

100

mA

VCc = 5.25V;V0 =5.25

-100

mA

V0 = .45V

5

mA

(See Figure below)

Limits

Symbol

Parameter

Min.

Condition

tpw

Width of Status Strobe

22

tss

Setup Time, Status Inputs D 0 -D 7

8

ns

tSH

Hold Time, Status Inputs D 0 *D 7

5

ns

20

DC

Delay from STSTB to any Control Signal

60

ns

C L = lOOpF

*RR

Delay from DBIN to Control Outputs

30

ns

C L = lOOpF

*RE

Delay from DBIN to Enable/Disable 8080 Bus

45

ns

C L = 25pF

*RD

Delay from System Bus to 8080 Bus during Read

WR

Delay from WR to Control Outputs

WE

Delay to Enable System Bus DB 0 -DB 7 after STSTB

WD

Delay from 8080 Bus Dq-D 7 to System Bus

X

l

l

l

5

DB 0 -DB 7 during Write

5

30

ns

C L = 25pF

45

ns

C L - lOOpF

30

ns

C[_ =

ns

C L = lOOpF

C L = lOOpF

40

«E

Delay from System Bus Enable to System Bus DB 0 -DB 7

30

ns

tHD

HLDA to Read Status Outputs

25

ns

tos

Setup Time, System Bus Inputs to HLDA

10

ns

*DH

Hold Time, System Bus Inputs to HLDA

20

ns

6-70

lOOpF

C L = lOOpF

8228/8238

CAPACITANCE
This parameter is periodically sampled and not 100% tested.

Limits

Symbol

Parameter

Min.

Input Capacitance

Cin

Typ.lU

Max.

Unit

8

12

pF

7

15

pF

8

15

PF

Output Capacitance
Control Signals
I/O Capacitance

/0

(Dor DB)

Test Conditions: MS:

V BIAS = 2.5V, Vcc = 5.0V, TA = 25°C, f = 1 MHz.

Note 2: For D 0 -D 7 R*| = 4Kft, R 2 ~ “ft,
Cl = 25pF. For all other outputs:
:

R-|

= 500 n. R 2 = IKn, Cl= IOOpF.

Figure 1. INTA Test Circuit (for RST 7)

Figure 2.

CPU Standard Interface
6-71

irrtel
8801

CLOCK GENERATOR CRYSTAL
FOR 8224/8080A
Specifically Selected for Intel® 8224

Frequency Deviation ± 0.005%

18.432 MHz for 1.95 fjs 8080A Cycle

Fundamental Frequency Mode

Simple Generation of all Standard
Communication Baud Rates

0°C to 70°C Operating Temperature

The Intel® 8801 Is a quartz crystal specifically selected to operate with the 8224 clock generator and the 8080A CPU. It
resonates in the fundamental frequency mode at 18.432 MHz. This frequency allows the 8080A at full speed (T
C y = 488
ns) to have a cycle of 1.95 ns and also simplifies the generation of all standard communication baud rates. The 8801
crystal is exactly matched to the requirements of the 8080A/8224 and provides both high performance and system
flexibility for the microcomputer designer.

6-72

8801

APPLICATIONS

j~

8801
i

i

The selection of 18.432 MHz provides the 8080A with clocks
whose period is 488ns. This allows the 8080A to operate at
very close to its maximum specified speed (480 ns). The
8224, when used with the 8801 outputs a signal on its OSC
pin that is an approximately symetrical square wave at a
frequency of 18.432 MHz. This frequency signal can be
easily divided down to generate an accurate, stable baud
,

:}

2 (TTL)

TO 8251
7 048 MH/

8274

rate clock that can be connected directly to the transmitter

or receiver clocks of the 8251

TO 8080A

USART. This feature allows

18 432 MH>

the designer to support most standard communication
interfaces with a minimum of extra hardware.

The chart below (Fig. 1) shows the equivalent baud rates

1

that are generated with the corresponding dividers.

BASIC OlVIDfcR
9600

30

BAUD

!64XI

TO 82b
RXC IXC
1

—-«
"**

DIVIDER

Figure 1. Block Diagram

BAUD RATE

BAUD RATE

64x

16x

9600

FREQUENCY

BASIC
DIVIDER

614.4 KH

+30

4800

19.2K

307.2 KH

-•30

:2

2400

9600

153.6 KH

-1-30

+4

1200

4800

76.8 KH

-130

+8

600

2400

38.4 KH

+30

M6

300

1200

19.2 KH

130

+32

600

9.6 KH

+30

+64

4.8 KH

+30

+128

6.982 KH

+30

-l- 00 00

300
"109.1

"For 109.1 (64x) Baud rate divide 1200 Baud Frequency (76.8 KH) by 11.

Figure 2. Baud Rate Chart

ELECTRICAL CHARACTERISTICS
Recommended

Drive Level

Type of Resonance
I

PLUS TRIM
DIVIDER

Equivalent Resistance

Maximum Shunt Capacity
Maximum Frequency Deviation
0° - 70° C
-55°— 125°C

5mW
Series

20 ohms

7pF

±.005%
±.002%

6-73

OTHFR
- BAUD
RATES

inte<
8205

HIGH SPEED 1 OUT OF 8 BINARY DECODER
—

Low Input Load Current
0.25 mA
Max, 1/6 Standard TTL Input Load

I/O Port or Memory Selector

Simple Expansion

— Enable Inputs

Minimum Line Reflection — Low
Voltage Diode Input Clamp

High Speed Schottky Bipolar
18 ns Max Delay
Technology

—

Outputs Sink 10 mA Min

Directly Compatible with TTL Logic

16-Pin Dual In-Line Ceramic or Plastic

Circuits

Package

The Intel® 8205 decoder can be used for expansion of systems which utilize input ports, output ports, and memory
components with active low chip select input. When the 8205 is enabled, one of its 8 outputs goes “low”, thus a single
row of a memory system is selected. The 3-chip enable inputs on the 8205 allow easy system expansion. For very large
systems, 8205 decoders can be cascaded such that each decoder can drive 8 other decoders for arbitrary memory
expansions.

The 8205 is packaged in a standard 16-pin dual in-line package, and its performance is specified over the temperature
range of 0°C to +75°C, ambient. The use of Schottky barrier diode clamped transistors to obtain fast switching speeds
results in higher performance than equivalent devices made with a gold diffussion process.

PIN

CONFIGURATION

W

LOGIC SYMBOL

1

16

XL >v

2

15

moo

3

14

ZHo,

13

Z]o

5

12

o3

6

11

Z|o4

7

10

8

9

4

—

A0

O0

Ai

Oi

A2

02
o3

?

8205

8205

o4

0 El

o5

E?

o6

e3

o7

ZK
UK
ADDRESS

ENABl F

OUTPUTS

|

PIN
A 0 A2
E i

©0

E~3

NAMES

ADDRESS INPUTS
ENABLE INPUTS
DECODED OUTPUTS

6-74

Ao

A,

A*

E

*2

Ej

0

1

?

3

4

5

C

/

L

L

L

L

L

H
H
H
H

L

H

H

L

H

H
H
H
H
M
H

H
H
H

H
H
H
M
H

H
H
H
H

H
H
H
H
H

H
H
H
M

H
H
H
H
H
H
H

H

L

L

L

L

L

H
H

L

L

L

H

L

L

L

L

L

hi

L

H

L

L

L

l

L

H

H
H

H
H

L
L

H

L

X

X

L
L

H
H
H
H

L

l

X
X
X
X
X
X

X
X
X
X
X
X

H

L

L

H
H

L
L

X
X
X

X
X
X
X

H
H

L

L

H

H

H

L

H
H
H

H
H
H
H
H

H
H
H
H
H
H
H
H
H

H
H
H
H
H
H

H

L

H
H
H
H
H
H
H

L

H
H
H
H
H
H
H
H
H
H
H

L

H

H
H
hi

H
H
H
H
H
H

L

H
H
H
H
H
H
H

H
M

H
H
L
hi

L

H
H
M
H
H
H
H

H
hi

M

H
M
H
H

8205

FUNCTIONAL DESCRIPTION
Decoder
The 8205 contains a one out of eight binary decoder. It accepts a three bit binary code and by gating this input, creates

an exclusive output that represents the value of the input
code.

For example, if a binary code of 101 was present on the AO,

A1 and A2 address input lines, and the device was enabled,
an active low signal would appear on the 05 output line.

Note that all of the other output pins are sitting at a logic
high, thus the decoded output is said to be exclusive. The

o

o6

o

o6

o

o7

decoders outputs will follow the truth table shown below in
the same manner for all other input variations.

Enable Gate
ENABLE GATE

When using a decoder it is often necessary to gate the out-

(E1E2E3)

puts with timing or enabling signals so that the exclusive

output of the decoded value is synchronous with the overall
system.

Figure 1. Enable Gate

The 8205 has a built-in function for such gating. The three
enable inputs (El, E2, E3) are ANDed together and create
a single enable signal for the decoder. The combination of

ADDRESS

both active '"high" and active "low" device enable inputs

>o

Ai

A2

E

E2

e3

0

1

2

3

4

5

6

7

provides the designer with a powerfully flexible gating func-

L

L

L
L
L

L
L
L

L

H

L

H

H

H
H

H
H

H

L

H

H
H
H

L
L
L
L
L
L

L

H

H

L

H

L

H
H

H
H
H
H
H

H
H
H

H

L

H
H

H
H

L

H

H
H
H
H
H
H
H
H
H
H

H
H
H
H
H
H
H

H

H

tion to help reduce package count in his system.

6-75

H

L

L

H

H

H

L

L

L

H

H

L

H

L

H

H
X
X
X
X
X
X
X

H

H
H
X
X
X
X
X
X
X

X

X
X
X

X
X
X

ENABLE

L

OUTPUTS

L

L
L

H

H
H
H
H

L

H

H

H

L

L

H

L

L

L

H
H

L

H
H
H

L

H

H
H
H
H
H

H

H
H

H

H
H

H
H

H
H
L

H

L

H

H

H
H
H
H
H
H
H

H
H
H
hi

H
H
H
H
H
H

H
H
H
H

H

L

H
H

H
H
H
H
H
H
H

H
H
H
H
H
H

H
H

L

H
H

L

H
H
H
H
H
H
H

8205

ray of

APPLICATIONS OF THE 8205

8205s can be used to create a simple interface to a

24 K memory system.

The 8205 can be used in a wide variety of applications in

The memory devices used can be either ROM or RAM and
are IK in storage capacity. 8308s and 8102s are the devices

microcomputer systems. I/O ports can be decoded from the
address bus, chip select signals can be generated to select

typically used for this application. This type of memory de-

memory devices and the type of machine state such as in

vice has ten (10) address inputs and an active

8008 systems can be derived from a simple decoding of the

select (CS). The lower order address bits A0-A9 which come

state lines (SO, SI, S2) of the 8008 CPU.

from the microprocessor are "bussed" to all memory ele-

ments and the chip select to enable a specific device or group

I/O Port Decoder

of devices comes from the array of 8205s. The output of

Shown in the figure below is a typical application of the

the 8205

8205, Address input lines are decoded by a group of 8205s

memory components.

(3).

Each input has a binary weight. For example, A0 is as-

signed a value of

1

"low" chip

is

active low so

it is

directly compatible with the

Basic operation is that the CPU issues an address to identify

and is the LSB; A4 is assigned a value of

a specific

16 and is the MSB. By connecting them to the decoders as

memory location in which it wishes to "write" or

"read" data. The most significant address bits A10-A14 are

shown, an active low signal that is exclusive in nature and

decoded by the array of 8205s and an exclusive, active low,

represents the value of the input address lines, is available at

chip select is generated that enables a specific memory de-

the outputs of the 8205s.

vice.

This circuit can be used to generate enable signals for I/O

The least significant address bits A0-A9

identify a

specific location within the selected device. Thus,

ports or any other decoder related application.

dresses throughout the entire

Note that no external gating is required to decode up to 24

in

all

ad-

memory array are exclusive

nature and are non-redundant.

exclusive devices and that a simple addition of an inverter

or

This technique can be expanded almost indefinitely to sup-

two will allow expansion to even larger decoder net-

port even larger systems with the addition of a few inverters

works.

and an extra decoder (8205).

Chip Select Decoder
Using a very similar circuit to the I/O port decoder, an ar-

PORT

NUMBERS

Figure 3. 32K Memory Interface

Figure 2. I/O Port Decoder

6-76

8205

Logic Element Example
Probably the most overlooked application of the 8205

and T2 decoded strobes can connect directly to devices like

is

that of a general purpose logic element. Using the ''on-chip"

8212s for latching the address information. The other de-

8205 can be configured to gate its de-

coded strobes can be used to generate signals to control the

enabling gate, the

coded outputs with system timing

signals

and generate

memory timing functions and interrupt
RESET is connected to the enable gate so that

system data bus,

strobes that can be directly connected to latches, flip-flops

structure.

and one-shots that are used throughout the system.

strobes are not generated during system reset, eliminating

An excellent example of such an application is the "state

accidental loading.

decoder" in an 8008 CPU based system. The 8008 CPU issues three bits of information (SO, SI, S2) that indicate the

The power of such a circuit becomes evident when a single
decoded strobe is logically broken down. Consider TT out-

nature of the data on the Data Bus during each machine

put, the boolean equation for it would be:

state.

Decoding of these signals is vital to generate strobes

fi = (S0-S1 -S2)- (SYNC -Phase 2-Re^t)

that can load the address latches, control bus discipline and
general machine functions.
In the figure

A six input NAND gate plus a few inverters would be need-

below a circuit is shown using the 8205 as the

ed to implement this function. The seven remaining outputs
would need a similar circuit to duplicate their function,

"state decoder" for an 8008 CPU that not only decodes the

SO, SI,

S2 outputs but gates these signals with the clock

obviously

(phase 2) and the SYNC output of the 8008 CPU. TheTT

a

substantial

savings

in

achieved when using such a technique.

Figure 4. 8205 State Decoder Circuit

6-77

components can be

8205

ABSOLUTE MAXIMUM RATINGS*
Plastic

Stresses above those listed under

any other condition above those indicated

-0.5 to +7 Volts

All Output or Supply Voltages

Input Voltages

Maximum

Rat-

in

the operational

sections of this specification is not implied. Exposure to absolute
maximum rating conditions for extended periods may affect

-1.0 to +5.5 Volts
125 mA

Output Currents

"Absolute

ing” may cause permanent damage to The device. This is a stress
rating only and functional operation of the device at these or at

— 65°C to +160°C

Storage Temperature

All

^COMMENT

-65°C to +125°C
-65°C to +75°C

Ceramic

Temperature Under Bias:

device reliability.

D.C. CHARACTERISTICS
T a = 0°C to + 75°C, V cc = 5V ±5%
8205
LIMIT

PARAMETER

SYMBOL

f
•r

Vcc * 5.25V, V F = 0.45V

-0.25

mA

10

pA

Vcc = 5.25V, V R = 5.25V

-1.0

V

0.45

V

Vcc = 4.75V, c » -5.0 mA
Vcc = 4.75V, QL = 10.0 mA

V

Vcc- 4.76V.

V

Vcc - 5.0V

V

Vcc - 5.0V

mA

Vcc = 6.0V. VOUT = 0V

V

VCC = 50V

mA

Vcc - 5.25V

VOL

OUTPUT LOW" VOLTAGE
'

<o X

OUTPUT HIGH VOLTAGE

V ,L

INPUT "LOW" VOLTAGE

V ,H

INPUT "HIGH" VOLTAGE

*sc

OUTPUT HIGH SHORT
CIRCUIT CURRENT

2.4

0.85
2.0

-120

40

OUTPUT "LOW" VOLTAGE
@> HIGH CURRENT
POWER SUPPLY CURRENT

cc

TEST CONDITIONS

INPUT LEAKAGE CURRENT

INPUT FORWARD CLAMP VOLTAGE

vox

UNIT

INPUT LOAD CURRENT

vc

!

MAX.

MIN.

0.8

70

l

l

-

(

!

- -1.5 mA

OH

OX

=

40mA

TYPICAL CHARACTERISTICS
OUTPUT CURRENT VS.
OUTPUT "HIGH” VOLTAGE

OUTPUT CURRENT VS.
OUTPUT "LOW” VOLTAGE

DATA TRANSFER FUNCTION

MMMj — rA n
i
mmm30;

0

fft

-10

smnmAmam
¥/.

<
E

z

20

r

'

ui
tr
cc

Fk
'A

h “30
o
CL

D
°

m

m

Ft

-40

A

r

_
0

2

6

4

8

OUTPUT ‘LOW VOLTAGE IV)
*

1.0

0

F/M
1.0

2 0

__
3.0

4.0

OUTPUT "HIGH" VOLTAGE IV)

6-78

5.0

0

.2

.4

6

8

1.0

1.2

1.4

INPUT VOLTAGE IV)

1.6

1.8

2.0

8205

SWITCHING CHARACTERISTICS
v cc

Conditions of Test:
Input pulse amplitudes:

2.5V

Input rise and fall times:
between IV and 2V

5 nsec

Measurements are made at 1.5V

Test Waveforms
ADDRESS OR ENABLE
INPUT PULSE

OUTPUT

A.C. CHARACTRISTICS
T a = 0°Cto +75°C, Vqc = 5V ±5% unless otherwise specified.

PARAMETER

SYMBOL
U*

ADDRESS OR ENABLE TO
OUTPUT DELAY

t_ +

4-

t„
C IN ID
U
1.

INPUT CAPACITANCE

P8205
C8205

MAX. LIMIT

UNIT

18

ns

18

ns

18

ns

!L_

ns

4(typ.)

PF
PF

5{typ.)

TEST CONDITIONS

=
MHz, V CC = 0V
V BIAS " 2.0V, T A - 25°C

f

1

This parameter is periodically sampled and is not 100% tested.

TYPICAL CHARACTERISTICS
ADDRESS OR ENABLE TO OUTPUT
DELAY VS. LOAD CAPACITANCE

ADDRESS OR ENABLE TO OUTPUT
DELAY VS. AMBIENT TEMPERATURE

o

—

t.

1

.

VCC

-

5.0V

CL

-

30 pF

t

,

t*.

<

0

50

100

150

0

200

LOAD CAPACITANCE <pF»

25

50

AMBIENT TEMPERATURE l°CI

6-79

75

©

8212
8-BIT INPUT/OUTPUT PORT
Fully Parallel 8-Bit Data Registerand Buffer

Service Request Flip-Flop for

3.65V Output High Voltage for
Direct Interface to 8008, 8080A, or

Interrupt Generation

8085A CPU

Low Input Load Current — .25mA Max.

Asynchronous Register Clear

Three State Outputs

Replaces Buffers, Latches and
Multiplexers in Microcomputer Systems

Outputs Sink 15mA

Reduces System Package Count

The 8212 input/output port consists of an 8-bit latch with 3-state output buffers along with control and device selection
logic. Also included

is

a service request flip-flop for the generation and control of interrupts to the microprocessor.

The device is multimode in nature. It can be used to implement latches, gated buffers or multiplexers. Thus, all of the
principal peripheral and input/output functions of a microcomputer system can be implemented with this device.

LOGIC DIAGRAM

PIN CONFIGURATION

SERVICE REQUEST FF

PIN NAMES
Oh Die
DO, 00*

DATA IN
DATA OUT

55 ds 2
MD

MODE

STB
INT

CLR

DEVICE SELECT

STROBE
INTERRUPT (ACTIVE LOW)
CLEAR (ACTIVE LOWi

6-80

8212

FUNCTIONAL DESCRIPTION

Service Request Flip-Flop

Data Latch

The (SR)

flip-flop

The 8 flip-flops that make up the data latch are of a "D”
type design. The output (Q) of the flip-flop will follow the
data input (D) while the clock input (C) is high. Latching
will occur when the clock (C) returns low.

is

used to generate and control
It is asynchron-

m icro computer systems.

interrupts in

ously set by the CLR input (active low). When the (SR) flipflop is set it is in the non-interrupting state.

The output of the (SR) flip-flop (Q) is connected to an
inverting input of a "NOR” gate. The other input to the
"NOR” gate is non-inv ertin g and is connected to the
DS2). The output of the
device selection logic (DS1
"NOR” gate (I NT) is active low (interrupting state) for

The la tche d data is cleared by an asynchrono us re set
input (CLR). (Note: Clock (C) Overrides Reset (CLR).)

•

connection to active low input priority generating circuits.

Output Buffer
The outputs of the data latch
non-inverting

output

(

SERVICE REQUEST FF

Q are connected to 3-state,
)

buffers.

These buffers have a

common control line (EN); this control line either enables
the buffer to transmit the data from the outputs of the data
latch (Q) or disables the buffer, forcing the output into a

high impedance state. (3-state)

The high-impedance state allows the designer to connect
the 8212 directly onto the microprocessor bi-directional

data bus.

I
|

BUFFER

Control Logic
The 8212 has control inputs DS1, DS2, MD and STB.
These inputs are used to control device selection, data
latching, output buffer state and service request flip-flop.

DS1, DS2 (Device Select)
These 2 inputs are used for device selection. When DS1 is
low and DS2 is high (DS1 DS2) the device is selected. In
the selected state the output buffer is enabled and the
•

service request flip-flop (SR)

is

asynchronously set.

MD (Mode)
This input is used to control the state of the output buffer
and to determine the source of the clock input (C) to the
data latch.

When MD is high (output mode) the output buffers are
enabled and the source of cloc k (C to the data latch is
from the device selection logic (DS1 DS2).
)

•

When MD is low (input mode) the outpu t buf fer state is
determined by the device selection logic (DS1 DS2) and
the source of clock (C) to the data latch is the STB
(Strobe) input.
•

STB (Strobe)
This input is used as the clock (C) to the data latch for the
input

STB

MO

(OS, DS 7

0

o
o

0

1

0

1

0
0

1

1

0

0

0
0

1

1

0

1

1

i

1

1

1

l

OAT A OUT EQUALS
3 STATE
...3

state

OATA LATCH
DATA LATCH
DATA LATCH
DATA IN
DATA IN
DATA IN

CLR - RESETS DATA LATCH
SETS SR FLIP FLOP
(NO EFFECT ON OUTPUT BUFFER)

mode MD = 0) and to synchronously reset the

service request flip-flop (SR).

Note that the SR flip-flop is negative edge triggered.

6-81

CLR

ioSi DS 2

0
0

0

1

1

1

)

INT

STB

•SR

0
0

1

1

1

0

—

1

1

6

1

0

0

1

1

0
1

0
0

1

t

1

0

•INTERNAL SR FLIP FLOP

8212
Applications of the 8212

— For

Microcomputer Systems
II

Basic Schematic Symbol
Gated Buffer

III

Bi-Directional

IV

Interrupting Input Port

1.

Basic Schematic Symbols

I

Bus Driver

Interrupt Instruction Port

VI

Output Port

VII

8080A Status Latch
8085A Address Latch

VIII

Two examples of ways to draw the 8212 on system

—

V

showing the system input or output as a system bus (bus
containing 8 parallel lines). The output to the data bus is

schematics
(1 the top being the detailed view showing
pin numbers, and (2) the bottom being the symbolic view
)

symbolic in referencing 8 parallel lines.

BASIC SCHEMATIC SYMBOLS
INPUT DEVICE

OUTPUT DEVICE

(DETAILED!

(SYMBOLIC)

GND

II.

DATA BUS

GATED BUFFER

Gated Buffer (3-State)

The simplest use of the 8212 is that of a gated buffer. By
tying the mode signal low and the strobe input high, the
data latch is acting as a straight through gate. The output
buff ers are then enabled from the device selection logic

DS1 and DS2.

DATA

OUTPUT
DATA

(250 mA)

(15mA)

INPUT

When the device selection logic is false, the outputs are 3-

(3.65V MIN)

state.

When the device selection logic is true, the input data from
the system is directly transferred to the output. The input

GATING

data load is 250 micro amps. The output data can sink 15

CONTROL

amps. The minimum high output is 3.65 volts.

(DSV0S2)

milli

6-82

GND

8212

III.

BI-DIRECTIONAL BUS DRIVER

Bi-Directional Bus Driver

A pair of 821 2’s wired (back-to-back) can be used as a
symmetrical drive, bi-directional bus driver. The devices
are controlled by the data bus input control which is
connected to DS1 on the first 8212 and to DS2 on the
second. One device is active, and acting as a straight
through buffer the other is in 3-state mode. This is a very
useful circuit in small system design.

IV.

INTERRUPTING INPUT PORT

Interrupting Input Port

This use of an 8212 is that of a system input port that
accepts a strobe from the system input source, which in
turn clears the service request flip-flop and interrupts the
processor. The processor then goes through a service
routine, identifies the port, and causes the device
enabling the system input data
selection logic to go true

—

onto the data bus.

V. Interrupt Instruction Pori

The 8212 can be used to gate the interrupt instruction,
normally RESTART instructions, onto the data bus. The
device is enabled from the interrupt acknowledge signal
from the microprocessor and from a po rt se lection signal.
This signal is normally tied to ground. (DS1 could be used
to multiplex a variety of interrupt instruction ports onto a

common bus).

6-83

8212
VI.

OUTPUT PORT (WITH HAND-SHAKING)

Output Port (With Hand-Shaking)

The 8212 can be used to transmit data from the data bus to
a system output. The output strobe could be a hand-

DATA
BUS

OUTPUT STROBE

shaking signal such as “reception of data” from the device
that the system is outputting to. It in turn, can interrupt the
system signifying the reception of data. The selection of
the port comes from the device selection logic.( DS1 DS2)
•

SYSTEM OUTPUT

SYSTEM RESET
1

SYSTEM
INTERRUPT

VII.

PORT SELECTION

H (LATCH CONTROL)
J (DS1.DS2)

8080A Status Latch

Here the 8212 is used as the status latch for an 8080A
microcomputer system. The input to the 8212 latch is
directly from the 8080A data bus. Timing shows that when
the SYNC signal is true, which is connected to the DS2
input and the phase 1 signal is true, which is a TTL level
coming from the clock generator; then, the status data will
be latched into the 8212.

Note: The mode signal istied high so thatthe output on the
latch is active and enabled all the time.
It

is

shown that the two areas of concern are the bi-

directional data bus of the microprocessor and the control

bus.

6-84

8212

VIII.

8085A Low-Order Address Latch

The 8085A microprocessor uses a multiplexed address/
data bus that contains the low order 8-bits of address
information during the first part of a machine cycle. The
same bus contains data at a later time in the cycle. An
address latch enable (ALE: signal is provided by the
8085A to be used by the 8212 to latch the address so that it
may be available through the whole machine cycle. Note:
In this configuration, the MODE input istied high, keeping
the 8212’s output buffers turned on at all times.

Do
Di

D2
d3
d4

DATA BUS

d5
d6
d7

A0
i

Ai

A2

a3
A4
A5
a6
a7

6-85

.

i

LOW ORDER
ADDRESS BUS

8212

ABSOLUTE MAXIMUM RATINGS*
Temperature Under Bias Plastic
Storage Temperature
All Output or Supply Voltages
All

’COMMENT

0°C to +70°C

Stresses above those listed under "Absolute Maximum Ratings" may cause
permanent damage to the device. This is a stress rating only and functional
operation of the device at these or any other conditions above those

-65° C to +1 60° C
-0.5 to +7 Volts

Input Voltages

indicated in the operational sections of this specification is not implied.

-1.0 to 5.5 Volts

Output Currents

Exposure to absolute maximum rating conditions for extended periods
may affect device reliability.

100mA

D.C. CHARACTERISTICS Ta = o°c to +75°C, Vcc = +5V ±5%
Limits

Symbol

Parameter

Unit

Min.
If

Typ.

Input Load Current, ACK, DS 2 CR,
,

If

Input Load Current

MD Input

-.75

If

Input Load Current DSi Input

-1.0

mA
mA
mA

10

MA

DI 1 -DI 8 Inputs

—
Ir

Test Conditions

Max.

-.25

Input Leakage Current, ACK, DS, CR

Vf = 45V
Vf = .45V

Vf = .45V

f

Vr

< Vcc

Ir

Input Leakage Current

MO Input

30

Vr

< Vcc

Ir

Input Leakage Current DSi Input

40

Vr

< Vcc

Vc

Input Forward Voltage Clamp

-1

lc =

-5mA

Vil

Input "Low” Voltage

VlH

Input "High” Voltage

VOL

Output “Low" Voltage

VOH

Output "High” Voltage

3.65

isc

Short Circuit Output Current

-15

Mol

Output Leakage Current High

lee

Power Supply Current

DI 1 -DI 8 Inputs

.85

V

.45

V

Iol = 15mA

V

Ioh = -1mA

mA

Vo = 0V. Vcc = 5V

20

mA

Vo = .45V/5.25V

130

mA

V

2.0

4.0

-75

Impedance State
90

6-86

TYPICAL CHARACTERISTICS
INPUT CURRENT VS. INPUT VOLTAGE

OUTPUT CURRENT VS. OUTPUT “LOW” VOLTAGE

8212
A.C. CHARACTERISTICS Ta = o°c to +70°c, Vcc = +5V ± 5%
Symbol

Limits

Parameter

Unit

Min.

tpw

Pulse Width

Typ.

30

tPD

Test Conditions

Max.
ns

30

ns

Note 1

40

ns

Note 1

Reset to Output Delay

40

ns

Note 1

ts

Set to Output Delay

30

ns

Note 1

tE

Output Enable/Disable Time

45

ns

Note 1

tc

Clear to Output Delay

55

ns

Note 1

tWE

Write Enable to Output Delay

tSET

Data Set Up Time

15

tH

Data Hold Time

20

tR

CAPACITANCE*

f = i MHz, Vbias = 2.5V, Vcc = +5V, t a = 25°c
Limits

Symbol

Test

Typ. Max.
ClN

DSi MD Input Capacitance

ClN

DS 2 CK, ACK, Dli-Dle

9pF 12pF

,

COUT

Input Capacitance

5pF

DOi-DOs Output Capacitance

8pF 12pF

9pF

'This parameter is sampled and not 100% tested.

SWITCHING CHARACTERISTICS
Conditions of Test
Input Pulse Amplitude = 2.5V

Test Load
15mA & 30 pF

Input Rise and Fall Times 5ns

Between IV and 2V Measurements made at 1.5V
with 15mA and 30pF Test Load

VCC

Note 1:
R1
Test

CL*

Ri

«2

6000

tPD. tWE, tR, ts. tc

30pF

30011

tE.

ENABLE!

30pF

10KO

1KO

tE.

ENABLE

30pF

3oon

6000

i

tE.

DISABLE!

5pF

3oon

6000

tE.

DISABLE!

5pF

ioko

1

^R 2

KO
^INCLUDING JIG & PROBE CAPACITANCE

•Includes probe and jig capacitance.

6-88

TIMING DIAGRAM

8218/8219

BIPOLAR MICROCOMPUTER BUS
CONTROLLERS FOR MCS-80" AND MCS-85" FAMILIES
8218 for Use in MCS-80™ Systems
8219 for Use in MCS-85™ Systems
Coordinates the Sharing of a Common

Bus Between Several CPU’s

Reduces Component Count in
Multimaster Bus Arbitration Logic
Single +5 Volt Power Supply
28 Pin Package

The 8218 and 8219 Microcomputer Bus Controllers consist of control logic which allows a bus master device
or DMA channel to interface with other masters on a common bus, sharing memory and

such as a CPU
I/O devices. The 8218 and 8219

consist of:
^ •

Bus Arbitration Logic which operates from the Bus Clock (BCLK) and resolves bus contention between devices sharing

a common bus.

Timing Logic which when initiated by the bus arbitration logic generates timing signals for the
memory and I/O
command lines to guarantee set-up and hold times of the address/data lines onto the bus. The timing logic also signals
to the bus arbitration logic when the current data transfer is completed and the bus is no
longer needed.
3 Output Drive Logic which contains the logic and output drivers for the memory and I/O command
lines.
2.

-

An external RC time constant is used with the timing logic to generate the guaranteed address set-up and hold times
on the
bus. The 8219 can interface directly to the 8085A CPU and the 8218 interfaces to the 8080A
CPU chip and the 8257 DMA
controller.

PIN CONFIGURATION

INITC

1

^

28

J VCC
OVRD

N.C.C 2

27

STRC 3
XCPC 4
XCYC 5

26 I]RSTB

<A)C 6

BLOCK DIAGRAM

25

DBCR1

24

Zl (E)

23 IIBPRO

<B)C

7

22

BPRN

(C)C

8

21

I^BREQ

(D)L 9

20

8218/8219

J BCLK
19 UADEN

ANYR C 10

RDDC 11
MRDCC 12

18
17

Dbusy
I

OWC

iORC£ 13

16

I]MWTC

GNDd 14

15

Udlyadj

A)

IOWR

JO/M

(B>

MWTR

WR

fC)

IORR

<D)

MRDR

RD
ASRQ

(E)

BCR2

BCR2

I

N.C. = NO CONNECT

6-90

8218/8219

8218/8219 PIN DEFINITIONS

%^

Signals Interfaced Directly to the System Bus

Request-Strobe latches the status of BCR1 an$$^R£

BREQ (TTL Output)
The Bus-Request is used with a central parallel priority
resolution circuit.

It

<r

RSTB (Input)

indicates that the device needs to

more data transfers.

access the bus for one or
synchronized with the Bus Clock.

It

is

the 8218/8219. The strobe is active low in the
negative edge triggered in the 8219.

ADEN (TTL Output)
Address-and-Data-Enable

BUSY (Input, O.C. Output)

indicates

the

has

Master

often used to enable Address
and Data Buffers on the bus. It is synchronous with Bus

control of the bus.

Bus-Busy indicates to all master devices on the bus that

'V

It

is

the bus is in use. It inhibits any other device from getting
the bus. It is synchronized with Bus Clock.

Clock.

BCLK (Input)

Read-Data controls the direction of the bi-directional data
bus drivers. It is asynchronous to the Bus Clock. A high on

The negative edge of Bus-Clock is used to synchronize
the bus contention resolution circuit asynchronously to
the CPU clock. It has 100ns min. period, 35%-65% duty
cycle. It may be slowed, single stepped or stopped.

BPRN (Input)
The Bus-Priority-In indicates to a device that no device of
a higher priority is requesting the bus. It is synchronous

RDD (TTL Output)

RDD indicates a read mode by the master.

OVRD (Input)
Override inhibits automatic deselect between transfers
caused by a higher priority bus request. May be used for
consecutive data transfers such as read-modify-write
operations. It is asynchronous to the Bus Clock.

with the Bus Clock.

XSTR (Input, Rising-Edge-Triggered)

BPRO (TTL Output)

Transfer-Start-Request indicates to the 8218/8219 that a
new data transfer cycle is requested to start. It is raised for
each new word transfer in a multiple data word transfer. It

The Bus-Priority-Out is used with serial priority resolution
circuits. Priority

may be transferred to the next lower in

is

priority as BPRN.

asynchronous to the Bus Clock.

XCP (Input, Falling-Edge-Triggered)

INIT (Input)

The Initialize resets the 8218/8219 to a known

internal

state.

MR DC (3-State Output)

Transfer-Complete indicates to the 8218/8219 that the
data has been received by the slave device in a write cycle
or transmitted by the slave and received by master in a
read cycle. It is asynchronous to the Bus Clock.

The Memory-Read-Control indicates that the Master is

XCY (TTL Output)

requesting a read operation from the addressed location.
It is asynchronous to the Bus Clock.

Indicates

that

a

data

transfer

is

in

progress.

It

is

asynchronous to the Bus Clock.

MWTC (3-State Output)
indicates that data and an

WR, RD, IO/M (8219 Only) (Inputs from 8085 to the 8219)

address have been placed on the bus by the Master and
the data is to be deposited at that location. It is

WRITE, READ, 10/Memory are the control request inputs
used by the 8085 and are inte rnally d ecoded bythe 8219to
produce the request signals MRDR, MWTR, IORR, IOWR.
They are asynchronous to the Bus Clock.

The Memory-Write-Control

asynchronous to the Bus Clock.

fORC (3-State Output)
The

ASRQ (8219 Only) (Input from 8085 System)

l/O-Read-Control indicates that the Master is
a read operation from the I/O device

requesting

Can be used for interrupt status from the 8085. Acts like a

addressed. It is asynchronous to the Bus Clock.

level

sensitive

asynchronous bus request

— no RSTB

IOWC (3-State Output)

needed. It is asynchronous to the Bus Clock.

The l/O-Write-Control indicates that Data and an I/O

MRDR, MWTR, IORR, IOWR (8218 Only) (Inputs from
8080 or 8257 to the 8218)

device address has been placed on the bus by the Master
and the data is to be deposited to the I/O device.

l/OMemory-Read-Request, Memory-Write-Request,
Read-Request, or l/O-Write-Request indicate that address and data have been placed on the bus and the
appropriate request 'is being made to the addressed
device. Only one of these inputs should be active at any

Signals Generated or Received by the Bus

Master

one time. They are asynchronous to the Bus Clock.

BCR1/BCR2 (Inputs)

ANYR (TTL Output)

Bus-Control-Request 1 or Bus-Control-Request 2 indicate to the 8218/8219 that the Master device is making
a request to control the bus. BCR2 is active low in the 821
(BCR2).

Any-Request is the logical OR of the active state of MRDR,
MWTR, IORR, IOWR. It may be tied to XSTR when the
rising edge of ANYR is used to initiate a transfer.

BCR2 is active high in the 8219.
6-91

8218/8219
*5

DLYADJ (Input)

/

outputs a bus request (BREQ) aiicFforbes Bij:
inactive (BPRO). See Figures la and'lto.^v,

Delay-Adjust is used for connection of an external
capacitor and resistor to ground to adjust the required
set-up and hold time of address to control signal.

BREQ is used for requesting the bus wW«^' (i^pniy,||§
decided by a parallel priority resolver circuit.
;

^
**

8218/8219 FUNCTIONAL DESCRIPTION
The 8218/8219 is a bipolar Bus Control Chip which
reduces component count in the interface between a

When prio rity is granted to the Master (a low on BPRN and
a high on BUSY) the Master outputs a BUSY signal on the
next falling edge of BCLK. The BUSY signal locks the

master device and the system Bus. (Master device: 8080,
8085, 8257 (DMA).) -

master onto the bus and prohibits the enable of any other
masters onto the bus.

The 8218 and 8219 serve three major functions:

At the same ti me BUSY goes active, Address and Data
Enable (ADEN) goe s activ e signifying that the Master has
control of the bus. ADEN is often used to enable the bus

1.

2.

Resolve bus contention.

Guarantee set-up and hold time of address/data lines
I/O and Memory read/write control signals
(adjustable by external capacitor).
Provide sufficient drive on all bus command lines.

drivers.

to

3.

I

BPRO is used to allow lower priority devices to gairf't^p % k
^
bus w hen a serial prior ity resolving structure is used.
BPRO would go to BPRN of the next lower priority Master.

The Bus will be released only if the master loses priority; is
not in the middle of a transfer, and Override is not active
or, if the Master stops requesting the bus, is not in the

middle of a data transfer, and Override is not active. ADEN
then goes inactive.

Bus Arbitration Logic

Provision has been made in the 8218 to allow bussynch ronous_requ este_Th is mode is activated when
BCR1, BCR2 and RSTB are all low. This action
asynchronously sets the synchronization flip flop (FF2) in

Bus Arbitration Logic activity begins when the Master
makes a request for use of the bu s on BCR1 or BCR2. The
request is strobed in by RSTB. Following the next two
falling edges of the bus clock (BCLK) the 8218/8219

Figure la.

BUSY

BREQ
BPRN

BPRO

BCLK
inTt

FIGURE la. 8218 BUS ARBITRATION LOGIC

6-92

8218/8219

FIGURE 1b. 8219 BUS ARBITRATION LOGIC

Timing Logic
Timing Logic activity begins with th e rising edge of XSTR
Request) or with ADEN going a ctive,
whichever occurs second. This action causes XCY
(T ransfer Cycle) to go active. 50-200ns later (depending on
resistance and capacitance at DLYADJ) the appropriate
Control Outputs will go active if the control input is active.
(Transfer Start

XSTR can be raised after the command goes active in the
current transfer cycle so that a new transfer can be
initiated
immediately after the current transfer is
complete.

A negative going edge on X CP (Tr ansfer Complete) will
cause the Control Outputs (MRDC, etc.) to go inactive.
50-20 0ns later (depending on capacitance at DLYADJ)
XCY will go inactive indicating the transfer cycle is
completed.
Additional logic within t he 82 18/8219 guarantees that if a
transfer cy cle is st arted (XCY is active), but the bus is not

requested (BREQ is inactive) and there is no command
request input (ANYR is output low), then the transfer cycle
will be cleared. This allows the bus to be released in
applications where advanced bus requests are generated
but the processor enters a HALT mode.

Control Logic
The control outputs are generated in the 8219 by decoding
the 8085 system control outputs (i.e., RD, WR, IO/M) or in
the 8218 by directly buffering the control inputs to the
control outputs for use in an 8080 or DMA system (see
Figures 2a and 2b). The control outputs may be held high
(inactive) by the Timing Logic. Also the control outputs are
enabled when the Master gains control of the bus and
disabled when control is relinquished.

The Control Logic also has two other outputs, ANYR (Any
Request) and RDD (Read Data). ANYR goes high (active) if
any control requests (IOWR, etc.) are active. RDD controls
the direction of the Masters Bi-directional Data Bus
Drivers. The Bus Driver will always be in the Write mode
(RDD = Low) except from the start of a Read Control
Request to 25 to 70ns after XCP is activated.

6-93

8218/8219

Ambient Temperature Under Bias
Storage Temperature
Supply Voltage (Vcc)
Input Voltage

Output Current

igti j,

r, w/
>».

ABSOLUTE MAXIMUM RATINGS*

#

COMMENT Stresses above thosqjfopp tm$(j$}fisolute
:

0°C to 70°
-65°C to +150°C
-0.5V to +7V
-1.0V to Vcc + 0.25V
100mA

Maximum Ratings " may cause permanent darna^U^the
device.

This

is

a

stress

rating

only' <apS^ju^(^MaM

operation of the device at these or any othenc^dUidn^

above those indicated in the operational section&otihis
specification

is

not

implied.

Exposure

to

absolute

maximum rating conditions for extended periods may
affect device reliability.

D.C. AND OPERATING CHARACTERISTICS TA = 0°C to 70°
C; Vcc = 5V ± 5%
Limits

Symbol

Parameter

Min.

Max.

Unit

-1.0

V

IORR/RD, IOWR/IO/M

-0.5

mA

Other

-0.5

mA

Input Leakage Current

100

mA

vC

Input Clamp Voltage

If

Input Load Current

Typ.

MRDR/INTA/MWTR/WR

Ir

Test Conditions

Vcc = 4.75V, lc = -5mA
Vcc = 5.25 V
Vf = 0.45V

Vcc = 5.25
Vr = 5.25

Vth

Input Threshold Voltage

Icc

Power Supply Current

VOL

Output Low Voltage

V0 H

0.8

200

2.0

V

240

mA

0.45

V
V
V
V

0.45

XCY, RDD, ADEN

0.45

BPRO, ANYR

0.45

Output High Voltage

All

Other Outputs

los

Short Circuit Output Current

lo (OFF)

Tri-State Output Current

Vcc = 5.25V
Vcc = 4.75

MRDC, MWTC, IORC, IOWC
BREQ, BUSY

MRDC, MWTC, IORC, IOWC
BUSY O.C.

^ Vcc = 5V

Iol = 32mA

Iol = 20mA
Iol = 16mA
Iol = 3.2mA

2.4

Vcc = 4.75V
Ioh = -2mA

2.4

lOH = -400/uA

-10

6-94

-90

mA

Vcc = 5.25V, Vo = 0V

-100

mA

Vcc = 5.25V, Vo = 0.45V

+100

„A

Vcc = 5.25V, Vo = 5.25V

?!

8218/8219
5
'<>/,,

"'f#'
•fauT'n

A.C. CHARACTERISTICS Ta = 0°C to 70° C; Vcc = 5V ± 5%
Limits

Symbol

Max.

Test Conditions

ns

35% to 65% Duty Cycfe

Min.

tBCY

Bus Clock Cycle Time

100

tpw

Bus Clock Pulse Width

35

tRQS

RSTB to BCLK Set-Up Time
BCRi and BCR 2 to RSTB

25

ns

15

ns

15

ns

tcss

Typ.

0.65 tBCY

***JZ*v.

Unit

Parameter

ns

Set-Up Time
tCSH

BCRi and BCR 2 to RSTB
Hold Time

tRQD
tPRNS

tBNO

BCLK to BREQ Delay
BPRN to BCLK Set-Up Time
BRPN to BPRO Delay

35

ns

30

ns

ns

23

tBYD

BCLK to BUSY Delay

55

ns

tCAD

MRDR, MWTR, IORR, IOWR

30

ns

40

ns

200

ns

to

ANVR Delay

tSXD

XSTR to XCY Delay

tSCD

XSTR to MRDC, MWTC, IORC.

50

Adjustable by External R/C

IOWC Delay
txsw

XSTR Pulse Width

tXCD

XCP to MRDC, MWTC, IORC,
IOWC Delay
XCP Pulse Width
XCP to XCY Delay
MRDR, MWTR, IORR. IOWR
to MRDC, MWTC, IORC, IOWC
MRDR, MWTR, IORR. IOWR

txcw
tCCD

tCMD
tCRD

to

50

ns

ns

35
50

200

ns

35

ns

25

ns

Adjustable by External R/C

RDD Delay

tRW

RSTB Min. Neg. Pulse Width

30

tCPD

BCLK to BPRO Delay
XCP to RDD Delay

25

tXRD

ns

30

ns

40

ns

70

ns

8218/19 XSTR TO OUTPUT COMMAND DELAY
ONESHOT DELAY VS. DELAY ADJUST CAPACITANCE AND RESISTANCE

6-95

V
,

8218/8219

FIGURE 4c. MCS-85 CPU WITH 8219 USING LOCAL MEMORY.

6-99

8218/8219

'*%':*?
TO/FROM HIGHEST
PRIORITY BUS MASTER

TO/FROM LOWEST "
PRIORITY BUS MASTER

,

t

REQUEST

BPRO

REQUEST

ABen

REQUEST

ADEN

8219

BCLK

8218

-

BUSY

BPRN

BPRO

BCLK

BUSY

BPRN

BCLK

"DAISY CHAIN" CONFIGURATION

REQUEST

ADEN

REQUEST

8219

BUSY

BREQ

BPRN

ADEN

^

1

BUSY

BREQ

BPRN

I

r REQUEST

8218

BCLK

f* •{•

<*v

p

8218

BUSY

’’

h.,

i

ADEN

W&

r* •?
»«.,

ADEN
8219

bclk|

BUSY

BREQ

BPRN

BCLK

BUS CLOCK

PRIORITY

RESOLVING
LOGIC

PARALLEL REQUEST CONFIGURATION

FIGURE 5. TWO METHODS OF CONNECTING MULTIPLE 8218/8219’s TO RESOLVE BUS CONTENTION
AMONG MULTIPLE MASTERS.

6-100

<

intel
8237 / 8237-2

HIGH PERFORMANCE

PROGRAMMABLE DMA CONTROLLER
DMA Requests

High Performance: Transfers up to 1.6M
Bytes/Second with 5 MHz 8237-2

Four Independent DMA Channels

Directly Expandable to any Number of

Enable/Disable Control of Individual

Channels
Independent Autoinitialization of all
Channels

End of Process Input for Terminating
Transfers

Memory-to-Memory Transfers
Software DMA Requests

Memory Block Initialization

Independent Polarity Control for DREQ
and DACK Signals

Address Increment or Decrement

The 8237 Multimode Direct Memory Access (DMA) Controller is a peripheral interface circuit for microprocessor systems. It is designed to improve system performance by allowing external devices to directly transfer information to or
from the system memory. Memory-to-memory transfer capability is also provided. The 8237 offers a wide variety of programmable control features to enhance data throughput and system optimization and to allow dynamic reconfiguration under program control.

The 8237 is designed to be used in conjunction with an external 8-bit address register such as the 8282. It contains
four independent channels and may be expanded to any number of channels by cascading additional controller chips.

The three basic transfer modes allow programmability of the types of DMA service by the user. Each channel can be
individually programmed to Autoinitialize to its original condition following an End of Process (EOP).
Each channel has a full 64K address and word count capability.

The 8237-2 is a 5 MHz selected version of the standard 3 MHz 8237.

reset

Cl
READY

CLOCK
AEN
AOSTS

aim

OREOO-

DREOS

MLOA

BLOCK DIAGRAM

Figure 1. Pin Configuration

6-101

8237 / 8237-2
PIN DEFINITIONS

IOR (I/O Read, Input/Output)

V cc

I/O Read is a bidirectional active low three-state line. In
the Idle cycle, it is an input control signal used by the

+ 5 volt supply

:

V ss Ground

CPU to read the control registers. In the Active cycle, it

:

is an output control signal used by the 8237 to access
data from a peripheral during a DMA Write transfer.

CLK (Clock, Input)
This input controls the internal operations of the 8237
and its rate of data transfers. The input may be driven at
up to 3 MHz for the standard 8237 and up to 5 MHz for
the 8237-2.

IOW (I/O Write, Input/Output)
I/O Write is a bidirectional active low three-state line. In
the Idle cycle, it is an input control signal used by the

CPU to load information into the 8237. In the Active
cycle, it is an output control signal used by the 8237 to

CS (Chip Select, Input)
Chip Select is an active low input used to select the
8237 as an I/O device during the Idle cycle. This allows
CPU communication on the data bus.

load data to the peripheral during a DMA Read transfer.

EOP (End of Process, Input/Output)

EOP is an active low bidirectional signal. Information
RESET (Reset, Input)

concerning the co mplet ion of DMA services is available

Reset is an asynchronous active high input which clears
the

Command, Status, Request and Temporary regis-

ters.

It

also clears the

first/last flip/flop

and sets the

Mask register. Following a Reset the device is in the Idle
cycle.

READY (Ready, Input)

Ready is an input used to extend the memory
read and write pulses from the 8237 to accommodate
slow memories or I/O peripheral devices.

at the bidirectional EOP pin. The 8237 allows an external
signal to terminate an act ive D MA service. This is accomplished by pulling the EOP input low with an exter-

nal EOP signal. The 8237 also generates a pulse when
the terminal c ount (TC) for any channel is reached. This

gene rates an EOP signal which is output through the
EOP Line. The reception of EOP, either internal or external, will cause the 8237 to terminate the service, reset
the request, and, if Autoinit ialize is enabled, to write the

base registers to the current registers of that channel.

The mask bit and TC bit in the s tatus word will be set for
the currently active channel by EOP unless the channel

HLDA (Hold Acknowledge, Input)

programmed for Autoinitialize. In that case, the mask
During memory-to-memory transfers,
EOP will be output when the TC for channel 1 occurs.
is

bit re mains clear.

The active high Hold Acknowledge from the CPU Indicates that control of the system buses have been relin-

EOP should be tied high with a pull-up resistor if it is not
used to prevent erroneous end of process inputs.

quished.

DREQ0-DREQ3 (DMA Request, Input)

A0-A3 (Address, Input/Output)

The DMA Request lines are individual asynchronous
channel request inputs used by peripheral circuits to
obtain DMA service. In Fixed Priority, DREQO has the
highest priority and DREQ3 has the lowest priority. A
request is generated by activating the DREQ line of a
channel. DACK will acknowledge the recognition of
DREQ signal. Polarity of DREQ is programmable. Reset
initializes these lines to active high. DREQ must be
maintained until the corresponding DACK goes active.

The four least significant address lines are bidirectional
three-state signals. In the Idle cycle they are inputs and
are used by the 8237 to address the control register to

be loaded or read. In the Active cycle they are outputs

and provide the lower 4 bits of the output address.

A4-A7 (Address, Output)
The four most significant address lines are three-state
outputs and provide 4 bits of address. These lines are

DB0-DB7 (Data Bus, Input/Output)

enabled only during the DMA service.

The Data Bus lines are bidirectional three-state signals
connected to the system data bus. The outputs are
enabled in the Program Condition during the I/O Read to
output the contents of an Address register, a Status
register, the Temporary register or a Word Count
register to the CPU. The outputs are disabled and the in-

HRQ (Hold Request, Output)
This is the Hold Request to the CPU and is used to re-

quest control of the system bus. If the corresponding
mask bit is clear, the presence of any valid DREQ
causes the 8237 to issue the HRQ. After HRQ goes

puts are read during an I/O Write cycle when the CPU is

active at least one clock cycle
occur before HLDA goes active.

programming the 8237 control registers. During DMA
cycles the most significant 8 bits of the address are output onto the data bus to be strobed into an external
latch by ADSTB. In memory-to-memory operations, data
from the memory comes into the 8237 on the data bus
during the read-from-memory transfer. In the write-to-

(TCY) must

DACK0-DACK3 (DMA Acknowledge, Output)

DMA Acknowledge is used to notify the individual
peripherals when one has been granted a DMA cycle.

memory transfer, the data bus outputs place the data in-

The sense of these lines is programmable. Reset initializes them to active low.

to the new memory location.

6-102

8237 / 8237-2
AEN (Address Enable, Output)

DMA OPERATION

This output enables the 8-bit latch containing the upper
8 address bits onto the system address bus. AEN can
also be used to disable other system bus drivers during

The 8237 is designed to operate in two major cycles.
These are called Idle and Active cycles. Each device
cycle is made up of a number of states. The 8237 can
assume seven separate states, each composed of one

DMA transfers. AEN is active HIGH.

(SI) is the inactive state. It is
full clock period. State
entered when the 8237 has no valid DMA requests pending. While in SI, the DMA controller Is inactive but may
be in the Program Condition, being programmed by the
processor. State O (SO) is the first state of a DMA service. The 8237 has requested a hold but the processor
has not yet returned an acknowledge. An acknowledge
from the CPU will signal that transfers may begin. SI,
S2, S3 and S4 are the working states of the DMA service.
If more time is needed to complete a transfer than is
available with normal timing, wait states (SW) can be inserted between S2 or S3 and S4 by the use of the Ready
line on the 8237.
I

ADSTB (Address Strobe, Output)
The active high Address Strobe is used to strobe the upper address byte into an external latch.

MEMR (Memory Read, Output)
The Memory Read signal is an active low three-state output used to access data from the selected memory location during a DMA Read or a memory-to-memory transfer.

MEMW (Memory Write, Output)
The Memory Write signal is an active low three-state
output used to write data to the selected memory location during a DMA Write or a memory-to-memory transfer.

Memory-to-memory transfers require a read-from and a
write-to-memory to complete each transfer. The states,
which resemble the normal working states, use two
digit

numbers

for identification.

Eight states are

re-

quired for a single transfer. The first four states (S1 1
S12, S13, S14) are used for the read-from-memory half
and the last four states (S21 S22, S23, S24) for the write-

FUNCTIONAL DESCRIPTION

,

The 8237 block diagram includes the major logic blocks
and all of the internal registers. The data interconnection paths are also shown. Not shown are the various
control signals between the blocks. The 8237 contains
344

bits of internal

memory in the form of registers.

Figure 2 lists these registers by name and shows the
size of each. A detailed description of the registers and
their functions can be found under Register Description.

Name

Size

Base Address Registers
Base Word Count Registers
Current Address Registers
Current Word Count Registers
Temporary Address Register
Temporary Word Count Register

16 bits

4

16 bits

4

16 bits

4

16 bits

4

16 bits
16 bits

1

Status Register
Command Register

Mode Registers
Mask Register

8 bits
8 bits
8 bits
6 bits
4 bits

Request Register

4 bits

Temporary Register

Number

1

to-memory half of the transfer.
IDLE CYCLE

When no channel is requesting service, the 8237 will
enter the Idle cycle and perform “SI” states. In this
cycle the 8237 will sample the DREQ lines every clock
cycle to determine if any channel is requesting a DMA
service. The device will also sample CS, looking for an

attempt by the microprocessor to_write or read the internal registers of the 8237. When CS is low and HRQ is
low, the 8237 enters the Program Condition. The CPU
can now establish, change or inspect the internal definition of the part by reading from or writing to the internal
registers. Address lines A0-A3 are inputs to the device
and sele ct w hich registers will be read or written. The
IOR and IOW lines are used to select and time reads or

1

writes. Due to the number and size of the internal regis-

1

ters,
1

an internal flip-flop is used to generate an addi-

tional bit of address. This bit is used to determine the

4

upper or lower byte of the 16-bit Address and Word
Count registers. The flip-flop is reset by Master Clear or

1
1

Reset. A separate software command can also reset this

Figure 2. 8237 Internal Registers

flip-flop.

The 8237 contains three basic blocks of control logic.
The Timing Control block generates internal timing and
external control signals for the 8237. The Program Command Control block decodes the various commands
given to the 8237 by the microprocessor prior to servic-

Special software commands can be executed by the
8237 in the Program Condition. These comm ands are
decoded as sets of addresses with the CS and IOW. The
commands do not make use of the data bus. Instructions include Clear First/Last Flip-flop and Master Clear.

ing a DMA Request. It also decodes the Mode Control
word used to select the type of DMA during the servicing. The Priority Encoder block resolves priority contention between DMA channels requesting service simul-

ACTIVE CYCLE

When the 8237 is in the Idle cycle and a channel requests a DMA service, the device will output an HRQ to
the microprocessor and enter the Active cycle. It is in

taneously.

this cycle that the

The Timing Control block derives internal timing from
the clock input. In 8237 systems this input will usually
be the <)>2 TTL clock from an 8224 or CLK from an 8085A.
However, any appropriate system clock will suffice.

DMA service will take place, in one of

four modes:

—

In Single Transfer mode the
Single Transfer Mode
device is programmed to make one transfer only. The

6-103

8237 / 8237-2
word count will be decremented and the address decremented or incremented following each transfer. When
the word count goes to zero, a Terminal Count (TC) will
cause an Autoinitialize if the channel has been programmed to do so.

DREQ must be held active until DACK becomes active in
order to be recognized. If DREQ is held active throughout the single transfer, HRQ will go inactive and release
the bus to the system. It will again go active and, upon
receipt of a new HLDA, another single transfer will be
performed. In 8080A/8085A systems this will ensure one

and Verify. Write transfers mov e data fr om an I/O device
to the memory by activating MEMW and IOR. Read
transfers move data from memory to an I/O device by activating MEMR and IOW. Verify transfers are pseudo
transfers. The 8237 operates as in Read or Write transfers generating addresses, and responding to EOP, etc.
However, the memory and I/O control lines all remain
inactive.

machine cycle execution between DMA transfers.
Details of timing between the 8237 and other bus con-

full

protocols will depend upon the characteristics of
the microprocessor involved.
trol

—

Block Transfer Mode
In Block Transfer mode the
device is activated by DREQ to continue making transfers during the service until a TC, caused by word count
going to zero, or an external End of Process (EOP) Is encountered. DREQ need only be held active until DACK
becomes active. Again, an Autoinitialization will occur
at the end of the service if the channel has been pro-

grammed for it.

—

Demand Transfer Mode
In Demand Transfer mode the
device is programm ed to continue making transfers until a TC or external EOP is encountered or until DREQ
goes inactive. Thus transfers may continue until the I/O
device has exhausted its data capacity. After the I/O
device has had a chance to catch up, the DMA service is

means of a DREQ. During the time
between services when the microprocessor is allowed
re-established by

to operate, the intermediate values of address and word
count are stored in the 8237 Curren t Add ress and Current Word Count registers. Only an E OP c an cause an
Autoinitialize at the end of the service. EOP is generated

either by TC or by an external signal.

Cascade Mode — This mode

is

used to cascade more

than one 8237 together for simple system expansion.

The HRQ and HLDA signals from the additional 8237
are connected to the DREQ and DACK signals of a channel of the initial 8237. This allows the DMA requests of
the additional device to propagate through the priority

network circuitry of the preceding device. The priority
chain is preserved and the new device must wait for its
turn to acknowledge requests. Since the cascade channel in the initial device is used only for prioritizing the
additional device, it does not output any address or control signals of its own. These would conflict with the
outputs of the active channel in the added device. The
8237 will respond to DREQ and DACK but all other outputs except HRQ will be disabled.

ADDITIONAL
DEVICES

Figure 3. Cascaded 8237s

Memory-to-Memory — To perform block moves of data
from one memroy address space to another with a minimum of program effort and time, the 8237 includes a
memory-to-memory transfer feature. Programming a bit
in the Command register selects channels 0 and 1 to
operate as memory-to-memory transfer channels. The
transfer is initiated by setting the software DREQ for
channel 0. The 8237 requests a DMA service in the normal manner. After HLDA is true, the device, using eightstate transfers in Block Transfer mode, reads data from
the memory. The channel 0 Current Address register is
the source for the address used and is decremented or
incremented in the normal manner. The data byte read
from the memory is stored in the 8237 internal Temporary register. Channel 1 then writes the data from the
Temporary register to memory using the address in its
Current Address register and incrementing or decrementing it in the normal manner. The channel 1 Current
Word Count is decremented. When the word count of
chan nel 1 goes to zero, a TC is generated causing an

EOP output, terminating the service.
Channel 0 may be programmed to retain the same address for all transfers. This allows a single word to be
written to a block of memory.

Figure 3 shows two additional devices cascaded into an
initial device using two of the previous channels. This
forms a two level DMA system. More 8237s could be
added at the second level by using the remaining channels of the first level. Additional devices can also be
added by cascading into the channels of the second
level devices, forming a third level.

The 8237 will respond to external EOP signals during
memory-to-memory transfers. Data comparators in
block search schemes may use this input to terminate
the service when a match is found. The timing of

memory-to-memory transfers is found in Diagram 4.
Memory-to-memory operations can be detected as

TRANSFER TYPES

an active AEN with no DACK outputs.

Each of the three active transfer modes can perform
three different types of transfers. These are Read, Write

Autoinitialize
ister,

6-104

— By programming a bit in the Mode reg-

a channel

may be set up as an Autoinitialize

8237 / 8237-2
channel. During Autoinitlalize initialization, the original
values of the Current Address and Current Word Count
registers are automatically restored from the Base Ad-

dress and Bas e Word Count registers of that channel
following EOP. The base registers are loaded simultaneously with the current registers by the microprocessor
and remain unchanged throughout the DMA service. The
mask bit is not set when the channel is in Autoinitialize.
Following Autoinitialize the channel is ready to perform

another service without CPU intervention.

During Block and Demand Transfer mode services,
which include multiple transfers, the addresses generated will be sequential. For many transfers the data held
in the external address latch will remain the same. This
data need only change when a carry or borrow from A7
to A8 takes place in the normal sequence of addresses.
To save time and speed transfers, the 8237 executes SI
states only when updating of A8-A15 in the latch is
necessary. This means for long services, SI states may
occur only once every 256 transfers, a savings of 255

clock cycles for each 256 transfers.
Priority — The 8237 has two types of priority encoding

available as software selectable options. The first is
Fixed Priority which fixes the channels in priority order
based upon the descending value of their number. The

channel with the lowest priority is 3 followed by 2, 1 and
the highest priority channel, 0. After the recognition of

any one channel for service, the other channels are prevented from interferring with that service until it is completed.

The second scheme is Rotating Priority. The last channel to get service becomes the lowest priority channel

1st

2nd

3rd

Service

Service

Service

—

initialized by an Autoinitialize back to ts ori ginal value.
i

Current Word Register

service

request

lowest

— Each channel has a 16-bit Cur-

rent Word Count register. This register holds the number of transfers to be performed. The word count is

decremented after each transfer. The intermediate value
of the word count is stored in the register during the
transfer. When the value in the register goes to zero, a

TC will be generated. This register is loaded or read in

With Rotating Priority in a single chip DMA system, any
device requesting service is guaranteed to be recognized after no more than three higher priority services
have occurred. This prevents any one channel from
monopolizing the system.

Compressed Timing — In order to achieve even greater
throughput where system characteristics permit, the
8237 can compress the transfer time to two clock
cycles. From Timing Diagram 3 it can be seen that state
S3 is used to extend the access time of the read pulse.
By removing state S3, the read pulse width

is

made

equal to the write pulse width and a transfer consists
only of state S2 to change the address and state S4 to
perform the read/write. SI states will still occur when
A8-A15 need updating (see Address Generation). Timing for compressed transfers is found in Diagram 6.

—

In order to reduce pin count, the
Address Generation
8237 multiplexes the eight higher order address bits on
the data lines. State SI is used to output the higher
order address bits to an external latch from which they
may be placed on the address bus. The falling edge of
Address Strobe (ADSTB) is used to load these bits from
the data lines to the latch. Address Enable (AEN) is used
to enable the bits onto the address bus through a threestate enable. The lower order address bits are output by
the 8237 directly. Lines A0-A7 should be connected to
the address bus. Timing Diagram 3 shows the time relationships between CLK, AEN, ADSTB, DB0-DB7 and

A0-A7.

—

Each channel has a 16-bit
Current Address Register
Current Address register. This register holds the value
of the address used during DMA transfers. The address
is automatically incremented or decremented after each
transfer and the intermediate values of the address are
stored in the Current Address register during the
transfer. This register is written or read by the microprocessor in successive 8-bit bytes. It may also be reAutoinitialize takes place only after an EOP.

with the others rotating accordingly.

highest

REGISTER DESCRIPTION

successive 8-bit bytes by the microprocessor in the Program Condition. Following the end of a DMA service it
may also be reinitialized by an Autoinitialization back to
its original value. Autoinitialize can occur only when an

EOP occurs.

—

Each
Base Address and Base Word Count Registers
channel has a pair of Base Address and Base Word

Count registers. These 16-bit registers store the original
value of their associated current registers. During Autoinitialize these values are used to restore the current
registers to their original values. The base registers are
written simultaneously with their corresponding current
register in 8-bit bytes in the Program Condition by the
microprocessor. These registers cannot be read by the

microprocessor.

Command Register — This 8-bit register controls the
operation of the 8237. It is programmed by the microprocessor in the Program Condition and is cleared by
Reset. The following table lists the function of the com-

mand bits. See Figure 6 for address coding.

Mode Register — Each channel has a 6-bit Mode register associated with it. When the register is being written
to by the microprocessor in the Program Condition, bits

0 and 1 determine which channel Mode register is to be
written.

—

The 8237 can respond to requests
Request Register
DMA service which are initiated by software as well
as by a DREO. Each channel has a request bit associated with it in the 4-bit Request register. These are nonfor

6-105

8237 / 8237-2
maskable and subject to prioritization by the Priority Encoder network. Each register bit Is set or reset separately under software contr ol or is cleared upon genera-

TC or external EOP. The entire register is

tion of a

cleared by a Reset. To set or reset a bit, the software
loads the proper form of the data word. See Figure 4 for

address coding.

Command Register
7

6

4

5

2

3

-Bit Number

0

1

Software requests will be serviced only if the channel is
in Block mode. When initiating a memory-to-memory
transfer, the software request for channel 0 should be
set.

Mask Register — Each channel has associated with it a
mask bit which can be set to disable the incoming
DREQ. Each mask bit is set when its associated channel
produces an EOP if the channel is not programmed for
Autoinitialize. Each bit of the 4-bit Mask register may
also be set or cleared separately under software control.

J 0
i

1

0
1

{ X
/

(

f

Channel 0 address hold disable
Channel 0 address hold enable
If bit 0 = 0

0

Controller enable

1

Controller disable

0

Normal timing

'

1

Compressed timing

X

If

bit

all DMA requests until a clear Mask register instruction
allows them to occur. The instruction to separately set
or clear the mask bits is similar in form to that used with
the Request register. See Figure 4 for instruction addressing.

6

7

5

4

3

2

0

1

00 Select channel 0 mask bit
Select channel 1 mask bit
10 Select channel 2 mask bit
1 1
Select channel 3 mask bit

0=1

0

Fixed priority

1

Rotating priority

0

Late write selection

I

The entire register is also set by a Reset. This disables

Memory-to-memory disable
Memory-to-memory enable

01

[

1

0

Clear mask bit

1

Set mask bit

Extended write selection

I

lx

If

bit

3=1
All four bits of the

[

0
1

0
1

DREQ sense active high
DREQ sense active low

Mask register may also be written

with a single command.
7

DACK sense active low
DACK sense active high

6

5

4

3

2

- Bit Number

0

1

Mode Register
7

6

5

4

3

2

1

0

Clear channel 0 mask bit

1

Set channel 0 mask bit

0

Clear channel 1 mask bit
Set channel 1 mask bit

0

1

00 Channel 0 select
01 Channel 1 select
10 Channel 2 select
11 Channel 3 select

0
1

0

00 Verify transfer
01

10

1

Write transfer

Clear channel 2 mask bit
Set channel 2 mask bit
Clear channel 3 mask bit
Set channel 3 mask bit

Read transfer
Illegal
If

Register

bits 6 and 7 = 11

Autoinitialization disable
Autoinitialization enable

Address increment select
Address decrement select

01

Demand mode select
Single mode select

10

Block mode select

11

Cascade mode select

6

5

4

3

2

CS

IOR

low

A3

A2

A1

A0

Command

Write

0

1

0

1

0

0

0

0
0

1

0
0
0

1

1

Mode

Write

0

1

Request

Write

1

Mask
Mask

Set/Reset
Write

0
0

Temporary

Read
Read

Status

1

0

1

1

0

0

1

0
0

1

1

1

0

0

1

1

1

0

0

1

1

0

0
0

1

1

1
1

0

Figure 4. Definition of Register Codes

—

Status Register
The Status register is available to
be read out of the 8237 by the microprocessor. It con-

Request Register
7

Signals

Operation

1

0

tains information about the status of the devices at this
point. This information includes

which channels have
reached a terminal count and which channels have
pending DMA requests. Bits 0-3 are set every time a TC
is reached by that channel or an external EOP
is applied. These bits are cleared upon
Reset
and on each Status Read. Bits 4-7 are set when-

00 Select channel 0
01 Select channel 1
10 Select channel 2
11 Select channel 3
0
1

Reset request bit
Set request bit

ever their corresponding channel is requesting service.

6-106

8237/ 8237-2
Master Clear: This software instruction has the same
effect as the hardware Reset. The Command, Status,
Request, Temporary, and Internal First/Last Flip-Flop
registers are cleared and the Mask register is set. The

Bit Number

Channel 0 has reached TC
Channel 1 has reached TC
Channel 2 has reached TC
Channel 3 has reached TC

8237 will enter the Idle cycle.
Figure 5 lists the address codes for the software com-

Channel 0 request
Channel 1 request
Channel 2 request
Channel 3 request

mands:
Signals

A3

Temporary Register — The Temporary register is used
to hold data during memory-to-memory transfers. Following the completion of the transfers, the last word
moved can be read by the microprocessor in the Program Condition. The Temporary register always contains the last byte transferred in the previous memoryto-memory operation, unless cleared by a Reset.

—

These are additional special
Software Commands
software commands which can be executed in the Program Condition. They do not depend on any specific bit
pattern on the data bus. The two software commands
are:

Clear First/Last Flip-Flop This command is executed
prior to writing or reading new address or word count
information to the 8237. This initializes the flip-flop to
a known state so that subsequent accesses to register contents by the microprocessor will address upper and lower bytes in the correct sequence.

AO

A1

A2

IOR

Operation

IOW

1

0

0

0

0

1

Read Status Register

1

0

0

0

1

0

Write Command Register

1

0

0

1

0

1

Illegal

1

0

0

1

1

0

Write Request Register

1

0

1

0

0

1

Illegal

1

0

1

0

1

0

Write Single Mask Register Bit

1

0

1

1

0

1

Illegal

1

0

1

1

1

0

Write Mode Register

1

<

0

0

0

1

Illegal

1

i

0

0

t

0

Clear Byte Pointer Flip /Flop

1

i

0

1

0

1

Read Temporary Register

1

i

0

1

1

0

Master Clear

1

i

1

0

0

1

Illegal

1

t

1

0

1

0

Illegal

1

i

,

1

0

1

Illegal

1

i

1

1

t

0

Write All Mask Register Bits

Figure 5. Software Command Codes
Signals

Channel
0

Register

Base and Current Address

Current Address

Base and Current Word Count
Current Word Count

1

Base and Current Address

Current Address

Base and Current Word Count
Current Word Count

2

Base and Current Address

Current Address

Base and Current Word Count
Current Word Count

3

Base and Current Address

Current Address

Base and Current Word Count

Current Word Count

Figure 6.

Operation
Write

Read

Write

Read

Write

Read

Write

Read

Write

Read

Write

Read

Write

Read

Write

Read

Internal Flip-Flop

Data Bus DB0-DB7

0
0

0

A0-A7
A8-A15

0

0

0

0

0

1

0
0

1

0

0

1

1

W0-W7
W8-W15

CS

IOR

IOW

A3

A2

A1

AO

0
0

1

0

0

0
0

0

1

0

0
0

0

1

0

0

0

1

0

0

0
0

0

0
0

1

A0-A7
A8-A15

0

1

0

1

0
0

0

0

1

0

1

0

W)0-W7

0

1

0
0

0

0

0

0

1

1

W8-W15

0
0

0
0

0
0

1

1

0
0

0

1

0
0

0
0

1

0

0

1

1

0

1

0
0

1

1

1

A0-A7
A8-A15
A0-A7
A8-A15

0

0
0

0
0

0
0

0
0

0

1

1

0

1

0

1

1

1

W0-W7
W8-W15

0
0

0
0

1

0

1

0

W)0-W7

0

0
0

1

1

1

1

1

W8-W15

0
0

0

0

0

1

0
0

0

0

1

A0-A7
A8-A15

0

1

0
0

1
1

0
0

0
0

0
0

1

0
0

1

0
0

1

1

1

0

A0-A7
A8-A15

0

1

0
0

0

1

0

1

0
0

1

0

1

0

1

1

W0-W7
W8-W15

0
0

0

1

0
0

1

0

W)0-W7

1

0
0

t

0

1

1

1

0

W8-W15
A0-A7
A8-A15

0
0

1

0

0

1

1

0

1

0

0

1

1

0

1

0

0

1

1

1

0

0

0

0

1

0
0

1

1

0

1

0
0

0
0

0
0

1

1

1

0

1

1

1

1

1

W0-W7
W8-W15

0

1

0

1

1

1

0

W)0-W7

0

1

0

1

1

1

1

W8-W15

0
0

1

Word Count and Address Register Command Codes
6-107

A0-A7
A8-A15

8237 / 8237-2
APPLICATION INFORMATION

first

transfer operation comes out in two bytes

— the

least significant 8 bits on the eight address outputs and

Figure 7 shows a convenient method for configuring a

DMA system with the 8237 controller and an 8080A/
8085A microprocessor system. The multimode DMA
controller issues a HRQ to the processor whenever
there is at least one valid DMA request from a
When the processor replies with a
HLDA signal, the 8237 takes control of the address bus,

peripheral device.

the data bus and the control bus. The address for the

the most significant 8 bits on the data bus. The contents
of the data bus are then latched into the 8282 8-bit latch
to complete the full 16 bits of the address bus. The 8282

a high speed, 8-bit, three-state latch in a 20-pin
package. After the initial transfer takes place, the latch
is updated only after a carry or borrow is generated in
the least significant address byte. Four DMA channels
are provided when one 8237 is used.
is

8237 / 8237-2

ABSOLUTE MAXIMUM RATINGS*
Ambient Temperature under Bias
Storage Temperature
Voltage on any Pin with
Respect to Ground

*

0°C to 70°C
- 65 °C to + 150°C

-0.5to7V

ditions for extended periods may affect device reliability.

1.5 Watt

Power Dissipation

COMMENT Stresses above those listed under “Absolute Maximum

Ratings" may cause permanent damage to the device. This is a stress
rating only and functional operation of the device at these or any other
conditions above those indicated in the operational sections of this
specification is not implied. Exposure to absolute maximum rating con-

D.C. CHARACTERISTICS
T a = 0°C to 70“C, V CC = 50V ±5%, GND = 0V
Symbol

Parameter

>oX

Output HIGH Voltage

Min.

Typ.W

Max.

Test Conditions

Unit

2.4

V

Iqh = — 200 *iA

3.3

V

l

0.4

V

Vcc + 0.5

V

0H = -100 mA (HRQ Only)
0 l= 3-2 mA

VOL

Output LOW Voltage

V.H

Input HIGH Voltage

2.0

V|L

Input LOW Voltage

-0.5

0.8

V

lu

Input Load Current

± 10

mA

V$$^ V|< Vqc

lo

Output Leakage Current

± 10

mA

Vqc<Vq^ Vss + 0-40

65

130

T a = + 25 °C

75

150

mA
mA

•

Icc

V cc Supply Current

Co

Output Capacitance

4

8

PF

c,

Input Capacitance

8

15

PF

Cio

I/O Capacitance

10

18

pF

I

ta = o°c
fc= 1.0 MHz, Inputs = 0V

Notes:
1.

2.

Typical values are forT A = 25°C, nominal supply voltage and nominal processing parameters.
Input timing parameters assume transition times of 20 ns or less. Waveform measurement points for both input and

output signals are 2.0V for HIGH

and 0.8V for LOW, unless otherwise noted.
3.

4.

Output loading is 1 TTL gate plus 50 pF capacitance, unless otherwise noted.

The net iOW or MEMW Pulse width for normal write will be TCY-100 ns and for extended write will be 2TCY-100 ns. The net IOR or MEMR pulse
width for normal read will be 2TCY-50 ns and for compressed read will be TCY-50 ns.

TDQ is specified for two different output HIGH levels. TDQ1 is measured at 2.0V. TDQ2 is measured at 3.3V. The value for TDQ2 assumes an external
3.3 kQ pull-up resistor connected from HRQ to Vqc
6. DREQ should be held active until DACK is returned.
high mode.
7. DREQ and DACK signals may be active high or active low. Timing diagrams assume the active

5.

8.

9.

10.

11.

Output loading on the data bus is 1 TTL gate plus 100 pF capacitance.

ns for the
Successive read and/or write operations by the external processor to program or examine the controller must be timed to allow at least 600
8237 and at least 400 ns for the 8237-2 as recovery time between active read or write pulses.
Parameters are listed in alphabetical order.
Pin 5 is an input that should always be at a logic high level. An internal pull-up resistor will establish a logic high when the pin
natively, pin 5 may be tied to Vcc-

A.C. TEST WAVEFORM
2.4V

HIGH -r

0.45V

LOW “O'

6-109

1

is left floating. Alter-

8237 / 8237-2
A.C. CHARACTERISTICS:

DMA (MASTER) MODE

T a = 0*C to 70 C, VCc = 5.0V ±5%, GND = 0V
,,

Symbol

8237

Parameter

TAEL
TAET

TAFAB
TAFC
TAFDB

8237-2
-

Min.

AEN HIGH from CLK LOW (SI) Delay Time
AEN LOW from CLK HIGH (SI) Delay Time
ADR Active to Float Delay from CLK HIGH
READ or WRITE Float from CLK HIGH
DB Active to Float Delay from CLK HIGH

Max.

Min.

unit

Max.

300

200

ns

200

130

ns

150

90

ns

150

120

ns

250

170

ns

TAHR
TAHS

ADR from READ HIGH Hold Time
DB from ADSTB LOW Hold Time

TCY- 100

TCY- 100

ns

50

30

ns

TAHW

ADR from WRITE HIGH Hold Time
DACK Valid from CLK LOW Delay Time

TCY-50

TAK

TASM

EOP HIGH from CLK HIGH Delay Time
EOP LOW to CLK HIGH Delay Time
ADR Stable from CLK HIGH

TCY-50

ns

250

170

ns

250

170

ns

250

100

ns

250

170

ns

TASS

DB to ADSTB LOW Setup Time

100

100

ns

TCH

Clock High Time (Transitions <10 ns)

120

70

ns

TCL

Clock LOW Time (Transitions <10 ns)

150

50

ns

TCY

CLK Cycle Time

320

200

ns

TDCL

CLK HIGH to READ or WRITE LOW Delay (Note 4)

TDCTR

READ HIGH from CLK HIGH (S4) Delay Time

270

190

ns

270

190

ns

(Note 4)

200

130

ns

HRQ Valid from CLK HIGH Delay Time (Note 5)

160

120

ns

250

120

ns

(Note 4)

TDCTW

WRITE HIGH from CLK HIGH (S4) Delay Time

TDQ1

TDQ2
TEPS

TEPW
TFAAB
TFAC
TFADB
THS

EOP LOW from CLK LOW Setup Time
EOP Pulse Width
ADR Float to Active Delay from CLK HIGH
READ or WRITE Active from CLK HIGH
DB Float to Active Delay from CLK HIGH

HCDA Valid to CLK HIGH Setup Time

60

40

300

220
250
200

150

ns

200

ns

100

75

ns

0

0

ns

250

170

ns

20

10

ns

200

130

ns

0

0

ns

20

20

ns

Output Data from MEMW HIGH Hold Time
Output Data Valid to MEMW HIGH

TQS

DREQ to CLK LOW (SI, S4) Setup Time

TRH

CLK to READY LOW Hold Time

TRS

READY to CLK LOW Setup Time
ADSTB HIGH from CLK HIGH Delay Time
ADSTB LOW from CLK HIGH Delay Time

100

75

TIDS

TSTL
TSTT

6-110

ns

300

TODH
TODV

Input Data from

ns

170

MEMR HIGH Hold Time
Input Data to MEMR HIGH Setup Time

TIDH

ns

ns

200

130

ns

140

90

ns

8237/ 8237-2
A.C. CHARACTERISTICS:

PERIPHERAL (SLAVE) MODE

T a = 0°C to 70°C, Vcc = 5.0V ± 5%,

GND = 0V
8237-2

8237

Unit

Parameter

Symbol

Max.

Min.

TAR

TAW
TCW
TDW

Min.

Max.

ADR Valid or CS LOW to READ LOW
ADR Valid to WRITE HIGH Setup Time
CS LOW to WRITE HIGH Setup Time

50

50

ns

200

160

ns

200

160

ns

Data Valid to WRITE HIGH Setup Time

200

160

ns

ADR or CS Hold from READ HIGH
Data Access from READ LOW (Note 8)
DB Float Delay from READ HIGH

0

0

ns

TRA

TRDE
TRDF
TRSTD
TRSTS

200
20

100

0

140

ns

70

ns

Power Supply HIGH to RESET LOW Setup Time

500

500

ms

RESET to First I'SwR

2TCY

2TCY

ns

TRSTW

RESET Pulse Width

300

300

ns

TRW
TWA
TWO
TWD

READ Width
ADR from WRITE HIGH Hold Time
CS HIGH from WRITE HIGH Hold Time
Data from WRITE HIGH Hold Time

300

200

ns

20

0

ns

20

0

ns

30

10

ns

TWWS

Write Width

200

160

ns

TIMING DIAGRAM #1 - SLAVE MODE WRITE TIMING

cs

low

i;

X

t
-TAWINPUT VALID

-

=x

TDW

-

INPUT VALID

X
X

TIMING DIAGRAM #2 - SLAVE MODE READ TIMING
cs

A0A3

ZX

ADDRESS MUST BE VALID

X

TRW

TRDE

DATA OUT VALID

DB0-DB7

6-111

>

TIMING DIAGRAM #5 - READY TIMING

sw

EXTENDED
WRITE

*L__.

6-113

sw

s

intel
8257 / 8257-5

PROGRAMMABLE DMA CONTROLLER
MCS-85™ Compatible 8257-5

Terminal Count and Modulo 128

Outputs

4-Channel DMA Controller

Single TTL Clock

Priority DMA Request Logic

Single

Channel Inhibit Logic

Auto Load Mode

+ 5V Supply

The Intel® 8257 is a 4-channel direct memory access (DMA) controller. It is specifically designed to simplify the
transfer of data at high speeds for the Intel® microcomputer systems. Its primary function is to generate, upon a
peripheral request, a sequential memory address which will allow the peripheral to read or write data directly to or
from memory. Acquisition of the system bus in accomplished via the CPU’s hold function. The 8257 has priority logic
that resolves the peripherals requests and issues a composite hold request to the CPU. It maintains the DMA cycle
count for each channel and outputs a control signal to notify the peripheral that the programmed number of DMA
cycles is complete. Other output control signals simplify sectored data transfers. The 8257 represents a significant
savings in component count for DMA-based microcomputer systems and greatly simplifies the transfer of data at
high speed between peripherals and memories.

PIN CONFIGURATION
l/ORC

1

1/OwC

2

BLOCK DIAGRAM

MEM"rC 3

MEM WC 4

MARKC 5
READYQ 6
HLDAC 7
ADSTBC 8
AENC 9

HRQC 10

31

RESET C

13

DACK 2 C
DACK 3 C

14

H vcc

3d0
30 y
28 JD2
27 Ud3
26 D0 4

CSC 11
CLKC 12

30

29

15

DRQ3C 16
DRQ2C 17

25

^ DACK 0

24

IlDACK 1

18

23

DO*

DRQOC 19
GNOf 20

22

DD6

21

HD,

DRQ

C

PIN NAMES
DATA BUS
ADDRESS BUS
I/O READ
I/O WRITE

MEMORY READ
MEMORY WRITE
CLOCK INPUT
RESET INPUT

READY
HOLD REQUEST
(TO 8080 A)

AEN
ADSTB
TC

ADDRESS ENABLE
ADDRESS STROBE
TERMINAL COUNT

MARK
DRQ 3 DRQo

MODULO 128 MARK
DMA REQUEST
INPUT

DACK 3 &ACK 0 DMA ACKNOWLEDGE
OUT
CS

CHIP SELECT

Vfcc

+6 VOLTS

GND

GROUND

HOLD ACKNOWLEDGE
(FROM 80 80 A)

© Intel Corporation, 1978
6-115

8257 / 8257-5

FUNCTIONAL DESCRIPTION
General

Block Diagram Description

The 8257 is a programmable, Direct Memory Access
(DMA) device which, when coupled with a single Intel®

1.

8212 I/O port device, provides a complete four-channel
DMA controller for use in Intel® microcomputer systems.
After being initialized by software, the 8257 can transfer a
block of data, containing up to 16,384 bytes, between
memory and a peripheral device directly, without further

loaded with the address of the first memory location to be
accessed. The value loaded into the low-order 14-bits of
the terminal count register specifies the number of DMA
cycles minus one before the Terminal Count (TC) output

DMA

intervention required of the CPU. Upon receiving a
transfer request from an enabled peripheral, the 8257:

1.

Acquires control of the system bus.

2.

Acknowledges that requesting peripheral which is
connected to the highest priority channel.

3.

activated. For instance, a terminal count of 0 would
cause the TC output to be active in the first DMA cycle for
is

that channel. In general, if N = the number of desired
cycles, load the value N-1 into the low-order 14-bits of the

DMA

Outputs the least significant eight bits of the memory
address onto system address lines A0-A7, outputs

terminal count register. The most significant two bits of the
terminal count register specify the type of

the most significant eight bits of the memory address

B
MM

8212 I/O port via the data bus (the 8212
places these address bits on lines A 8 -A 15 ), and

Generates the appropriate memory and I/O read/
write control signals that cause the peripheral to
receive or deposit a data byte directly from or to the

««—

addressed location in memory.

The 8257 will retain control of the system bus and repeat
the transfer sequence, as long as a peripheral maintains its

DMA request. Thus, the 8257 can transfer a block of data
to/from a high speed peripheral (e.g., a sector of data on a
floppy disk) in a single “burst”. When the specified

number of data bytes have been transferred, the 8257
its Terminal Count (TC) output, informing the

CPU that the operation is complete.

(1)

offers

three different

modes

CHO
16
BIT

ADDR
CNTR

pus

activates

The 8257

DMA operation

for that channel.

to the

4.

DMA Channels

The 8257 provides four separate DMA channels (labeled
CH-0 to CH-3). Each channel includes two sixteen-bit
registers: (1) a DMA address register, and (2) a terminal count register. Both registers must be initialized
before a channel is enabled. The DMA address register is

of operation:

-

4

•

•
-

;

:

F.unnt
CH-1

L ORQ

1

16

BIT

ADDR
CNTR

ilipill
Stall!

InH

DMA read, which causes data to be transferred from

memory to a peripheral; (2) DMA write, which causes
data to be transferred from a peripheral to memory;
and (3) DMA verify, which does not actually involve the
transfer of data. When an 8257 channel is in the

•

* **11111

I

CH 2
16
BIT

DMA verify

ADDR
CNTR

mode, it will respond the same as described for transfer
operations, except that no memory or I/O read/write
control signals will be generated, thus preventing the
transfer of data. The 8257, however, will gain control of the

SmPlHPJ
CH3

system bus and will acknowledge the peripheral’s DMA
request for each DMA cycle. The peripheral can use these
acknowledge signals to enable an internal access of each
byte of a data block in order to execute some verification
procedure, such as the accumulation of a CRC (Cyclic
Redundancy Code) checkword. For example, a block of
DMA verify cycles might follow a block of DMA read cycles

16

li

BIT

ADDR
CNTR

m

pill

(memory to peripheral) to allow the peripheral to verify its
newly acquired data.

§811111

Mg
Figure 1. 8257 Block Diagram Showing DMA

Channels

6-116

;

8257/8257-5

These two bits are not modified during a DMA cycle, but
can be changed between DMA blocks.
Each channel accepts a DMA Request (DRQn) input and
provides a DMA Acknowledge (DACKn) output.

(DRQO-DRQ 3)
DMA Request: These are individual asynchronous channel request inputs used by the peripherals to obtain a DMA

TYPE OF DMA OPERATION

BIT 15

BIT 14

0

0

Verify

0

1

Write DMA Cycle

1

0

Read DMA Cycle

1

1

(Illegal)

DMA Cycle

cycle. If not in the rotating priority mode then DRQ 0 has
the highest priority and DRQ 3 has the lowest. A request
can be generated by raising the request line and holding it
high until DMA acknowledge. For multiple DMA cycles
(Burst Mode) the request line is held high until the DMA

acknowledge of the last cycle arrives.

(DACK 0 - DACK 3)

DMA Acknowledge: An active low level on the acknowledge output informs the peripheral connected to that
chann el that it has been selected for a DMA cycle. The
DACK output acts as a “chip select” for the peripheral
device requesting service. This line goes active (low)
and inactive (high) once for each byte transferred even if
a burst of data is being transferred.
2.

Data Bus Buffer

This three-state, bi-directional, eight bit buffer interfaces
the 8257 to the system data bus.
DATA
BUS
BUFFER

(D 0 -D 7)
Data Bus Lines: These are bi-directional three-state lines.

When the 8257 is being programmed by the CPU, eight-

DMA

bits of data for a
address register, a terminal count
register or the Mode Set register are received on the data

bus. When the CPU reads a DMA address register, a
terminal count register or the Status register, the data is

sent to the CPU over the data bus. During DMA cycles
(when the 8257 is the bus master), the 8257 will output the

most significant eight-bits of the memory address (from
one of the DMA address registers) to the 8212 latch via the
data bus. These address bits will be transferred at the
beginning of the DMA cycle; the bus will then be released
to handle the memory data transfer during the balance of
the DMA cycle.

SpSSl

tel
tel
Uniw
it

-I

f-CHI

~

6

-FP £
',

3 t

mm
mam

i

asm

mmmm

iflf

it®

BSaa&ft

msm

tiV.-stv.

Figure 2. 8257 Block Diagram Showing Data Bus
Buffer

6-117

8257 / 8257-5

3.

Read/Write Logic

(A0-A3)

When the CPU is programming or reading one of the
8257’s registers (i.e., when the 8257 is a “slave” device on
the system bus), the Read/Write Logic accepts the I/O

Read (1/0 ft) or I/O Write (l/OW) signal, decodes the least
significant four address bits, (A0-A3), and either writes
th e cont ents of the data bus into the addressed register

l/OW is true) or places the conte nts of the addressed
register onto the data bus (if I/OR is true).

Address Lines: These least significant four address lines
are bi-directional. In the “slave”

mode they are inputs

which select one of the registers to be read or
programmed. In the “master” mode, they are outputs
which constitute the least significant four bits of the 1 6-bit

memory address generated by the 8257.

(if

During

DMA cycles (i.e., when the 8257 is the bus

“master”), the Read/Write Logic generates the I/O read

and memory write (DMA write cycle) or I/O Write and
memory read (DMA read cycle) signals which control the
data link with the peripheral that has been granted the

(CS)

Chip Select: An active-low input which enables the I/O
Read or I/O Write input when the 8257 is being read or
programmed in the “slave” mode. In the “master” mode,
CS is automatically disabled to prevent the chip from
selecting itself while performing the

DMA function.

DMA cycle.
Note that during DMA transfers Non-DMA I/O devices
should be de-selected (disabled) using “AEN” signal to
inhibit I/O device decoding of the memory address as an
erroneous device address.
(I/OR)

I/O Read:

An active-low, bi-directional three-state line. In

the “slave” mode,

it

is

an input which allows the 8-bit

status register or the upper/lower byte of a 16-bit

DMA

address register or term inal count register to be read. In
the “master” mode, I/OR is a control output which is used
to

access data from a peripheral during the DMA write

cycle.

(l/OW)
I/O Write: An active-low, bi-directional three-state line. In

the “slave” mode, it is an input which allows the contents
of the data bus to be loaded into the 8-bit mode set register

or the upper/lower byte of a 16-bit DMA address register
or terminal count register. In the “master” mode, l/OW is a
control

output which allows data to be output to a

peripheral during a DMA read cycle.

(CLK)

Clock Input: Generally from an Intel® 8224 Clock Generator device. (<t>2 TTL) or Intel® 8085A CLK output.

(RESET)
Reset: An asynchronous input (generally from an 8224
or 8085 device) which disables

all

DMA channels by

clearing the mode register and 3-states all control lines.

Figure 3. 8257 Block Diagram Showing
Read/Write Logic Function

6-118

8257 / 8257-5

4.

Control Logic

(TC)

This block controls the sequence of operations during all

DMA cycles by generating the appropriate control signals

Terminal Count: This output notifies the currently
selected peripheral that the present DMA cycle should be

and the 16-bit address that specifies the memory location

the last cycle for this data block. If the TC STOP bit in the

to

be accessed.

(A 4 -A 7 )

Address Lines: These four address lines are three-state
outputs which constitute bits 4 through 7 of the 16-bit
memory address generated by the 8257 during all DMA
cycles.

Mode Set register is set, the selected channel will be
automatically disabled at the end of that DMA cycle. TC is
activated when the 14-bit value in the selected channel’s
terminal count register equals zero. Recall that the loworder 14-bits of the terminal count register should be
loaded with the values (n- 1 where n =the desired number
of the DMA cycles.
r

(READY)

(MARK)

Ready: This asynchronous input is used to elongate the

Modulo 128 Mark: This output

memory read and write cycles in the 8257 with wait states
the selected memory requires longer cycles.
if

(HRQ)
Hold Request; This output requests control of the system
bus. In systems with only one 8257, HRQ will normally be
applied to the HOLD input on the CPU.

notifies the selected
peripheral that the current DMA cycle is the 128th cycle

since the previous MARK output. MARK always occurs at

128 (and all multiples of 128) cycles from the end of the
data block. Only if the total number of DMA cycles (n) is
evenly divisable by 128 (and the terminal count register
was loaded with n-1), will MARK occur at 128 (and each

succeeding multiple of 128) cycles from the beginning of
the data block.

(HLDA)
Hold Acknowledge: This input from the CPU indicates
that the 8257 has acquired control of the system bus.

(MEMR)

Memory Read: This active-low three-state output is used
to read data from the addressed memory location during

DMA Read cycles.
(MEMW)
Memory Write: This active-low three-state output is used
to write data into the addressed memory location during

DMA Write cycles.
(ADSTB)
Address Strobe: This output strobes the most significant
byte of the memory address into the 8212 device from the
data bus.

(AEN)

Address Enable: This output is used to disable (float) the
System Data Bus and the System Control Bus. It may also
be used to disable (float) the System Address Bus by use
of an enable on the Address Bus drivers in systems to
inhibit non-DMA devices from responding during DMA
cycles. It may be further used to isolate the 8257 data bus
from the System Data Bus to facilitate the transfer of the 8
most significant DMA address bits over the 8257 data I/O
pins without subjecting the System Data Bus to any
timing constraints for the transfer When the 8257 is used
in an
I/O device structure (as opposed to memory
mapped), this AEN output should be used to disable the
selection of an I/O device when the DMA address is on the
address bus. The I/O device selection should be
determined by the DMA acknowledge outputs for the 4
channels.

Figure 4. 8257 Block Diagram Showing Control Logic

and Mode Set Register

6-119

8257 / 8257-5

5. Mode Set Register
When set, the various bits in the Mode Set register enable

each of the four DMA channels, and allow four different
options for the 8257:

Enables AUTOLOAD
Enables TC STOP

m

P?

T

1

Enables DMA Channel 0
Enables

I

|

Enables EXTENOED WRITE

Note that rotating priority will prevent any one channel
from monopolizing the DMA mode; consecutive DMA
cycles will service different channels if more than one
channel is enabled and requesting service. There is no
overhead penalty associated with this mode of operation. All DMA operations began with Channel 0 initially
assigned to the highest priority for the first DMA cycle.

Extended Write Bit 5

DMA Channel 1

Enables DMA Channel 2

1

Enables ROTATING PRIORITY

Enables DMA Channel 3

'

If

the E XTEN DED WRITE bit is set, the duration of both the

MEMW and l/OW signals

is

extended by activating them

DMA cycle. Data transfers within micro-

The Mode Set register is normally programmed by the

earlier in the

CPU after the DMA address register(s) and

computer systems proceed asynchronously to allow
use of various types of memory and I/O devices with
different access times. If a device cannot be accessed
within a specific amount of time it returns a “not ready"
indication to the 8257 that causes the 8257 to insert one or
more wait states in its internal sequencing. Some devices
are fast enough to be accessed without the use of wait
states, but if they generate their READY response with the
leading edge of the l/OW or MEMW signal (which
generally occurs late in the transfer sequence), they
would normally cause the 8257 to enter a wait state
because it does not receive READY in time. For systems
with these types of devices, the Extended Write option
provides alternative timing for the I/O and memory write
signals which allows the devices to return an early READY
and prevents the unnecessary occurrence of wait states in
the 8257, thus increasing system throughput.

terminal

count register(s) are initialized. The Mode Set Register is
cleared by the RESET input, thus disabling all options,
inhibiting all channels, and preventing bus conflicts on
power-up. A channel should not be left enabled unless its
DMA address and terminal count registers contain valid
values; otherwise, an inadvertent DMA request (DRQn)
from a peripheral could initiate a DMA cycle that would
destroy memory data.

The various options which can be enabled by bits in the

Mode Set register are explained below:
Rotating Priority Bit 4
In the Rotating Priority Mode, the priority of the channels
has a circular sequence. After each DMA cycle, the
priority of each channel changes. The channel which had
just been serviced will have the lowest priority.

TC Stop Bit 6
If the TC STOP bit is set, a channel is disabled (i.e., its
enable bit is reset) after the Terminal Count (TC) output
goes true, thus automatically preventing further DMA
operation on that channel. The enable bit for that channel
must be re-programmed to continue or begin another

DMA operation.

If

the

TC STOP bit is not set, the

occurrence of the TC output has no effect on the channel
enable bits. In this case, it is generally the responsibility of
the peripheral to cease DMA requests in order to terminate
a DMA operation.
If

the ROTATING PRIORITY bit is not set (set to a zero),

each DMA channel has a fixed priority. In the fixed priority
mode. Channel 0 has the highest priority and Channel 3
has the lowest priority. If the ROTATING PRIORITY bit is
set to a one, the priority of each channel changes after
each DMA cycle (not each DMA request). Each channel
moves up to the next highest priority assignment, while
the channel which has just been serviced moves to the
lowest priority assignment:

CHANNEL—

CH-0 CH-1 CH-2 CH-3

JUST SERVICED
Priority

—

Highest

Assignments

A
Lowest

CH-1 CH-2 CH-3 CH-0
CH-2 CH-3 CH-0 CH-1
CH-3 CH-0 CH-1 CH-2
CH-0 CH-1 CH-2 CH-3

Auto Load Bit 7

The Auto Load mode permits Channel 2 to be used for
repeat

block

or

block

chaining

operations,

without

immediate software intervention between blocks. Channel 2 registers are initialized as usual for the first data
block; Channel 3 registers, however, are used to store the

block re-initialization parameters (DMA starting address,

DMA transfer mode). After the first
block of DMA cycles is executed by Channel 2 (i.e., after

terminal count and

the TC output goes true), the parameters stored in the
Channel 3 registers are transferred to Channel 2 during an

“update" cycle. Note that the TC STOP feature, described
above, has no effect on Channel 2 when the Auto Load bit
is set.

1

6-120

8257 / 8257-5

If the Auto Load bit is set, the initial parameters for
Channel 2 are automatically duplicated in the Channel 3
registers when Channel 2 is programmed. This permits
repeat block operations to be set up with the programming
of a single channel. Repeat block operations can be used
in applications such as CRT refreshing. Channels 2 and 3
can still be loaded with separate values if Channel 2 is
loaded before loading Channel 3. Note that in the Auto
Load mode, Channel 3 is still available to the user if the
Channel 3 enable bit is set, but use of this channel will
change the values to be auto loaded into Channel 2 at
update time. All that is necessary to use the Auto Load
feature for chaining operations is to reload Channel 3
registers at the conclusion of each update cycle with the

R°m n ~~n
n:
7

block for Channel 2. The update flag is cleared at the
conclusion of this DMA cycle. For chaining operations,
the update flag in the status register can be monitored by
the CPU to determine when the re-initialization process
has been completed so that the next block parameters can
be safely loaded into Channel 3.

have reached a terminal count condition and includes the
update flag described previously.

^PARAMETERS)
FOR BLOCK 2

\

U

0

TC STATUS FOR CHANNEL 0
TC STATUS FOR CHANNEL 1
TC STATUS FOR CHANNEL 2

TC STATUS FOR CHANNEL 3

DMA channels are inhibited a channel could reach terminal count (TC) between the status read and the mode
write. DMA can be inhibited by a hardware gate on the
HRQ line or by disabling channels with a mode word
before reading the TC status.

The eight-bit status register indicates which channels

I

1

The user is cautioned against reading the TC status
register and using this information to reenable channels that have not completed operation. Unless the

Status Register

FOR BLOCK 1

—

2

UPDATE FLAG is to prevent the CPU from inadvertently
skipping a data block by overwriting a starting address or
terminal count in the Channel 3 registers before those
parameters are properly auto-loaded into Channel 2.

TC cycle. This will be the first DMA cycle of the new data

I

3

cleared by resetting the 8257, by changing to the non-auto
load mode (i.e., by resetting the AUTO LOAD bit in the
Mode Set register) or it can be left to clear itself at the
completion of the update cycle. The purpose of the

DMA cycle after the

^PARAMETERS)

4

The TC status bits are set when the Terminal Count (TC)
output is activated for that channel. These bits remain set
until the status register is read or the 8257 is reset. The
UPDATE FLAG, however, is not affected by a status
register read operation. The UPDATE FLAG can be

Each time that the 8257 enters an update cycle, the update
flag in the status register is set and parameters in Channel
3 are transferred to Channel 2, non-destructively for
Channel 3. The actual re-initialization of Channel 2 occurs

6.

5

UPDATE FLAG

new parameters for the next data block transfer.

at the beginning of the next channel 2

6

CHANNEL 2 UPDATE
OCCURS HERE N.

PARAMETERS
FOR BLOCK 3

\

juuui_nnnji

ETC
I
I

I
I

CHANNEL 2 UPDATE
OCCURS HERE >.

Z^nnrui

man

an

DATA BLOCK

1

il_

JL

J~^L

Figure 5. Autoload Timing

6-121

I

ajiruin_n_
DATA BLOCK 2-

-

UPDATE FLAG

^ruin_
*-(-

DATA BLOCK 3

TL

V.

-

8257 / 8257-5

OPERATIONAL SUMMARY
Programming and Reading the 8257 Registers
There are four pairs of “channel registers”: each pair
consisting of a 16-bit DMA address register and a 16-bit
terminal count register (one pair for each channel). The
8257 also includes two “general registers”: one 8-bit
Mode Set register and one 8-bit Status register. The
registers are loaded or read when the CPU executes a
write or read instruction that addresses the 8257 device
and the appropriate register within the 8257. The 8228
generates the appropriate read or write control signal
(generally I/OR or l/OW while the CPU places a 16-bit
address on the system address bus, and either outputs the
data to be written onto the system data bus or accepts the
data being read from the data bus. All or some of the most
significant 12 address bits A4-A15 (depending on the

systems memory, I/O configuration) are usually decoded
to produce the chip select (CS) input to the 8257. An I/O
Write input (or

Memory Write in memory mapped I/O

described below) specifies that the
addressed register is to be programmed, while an I/O
Read input (or Memory Read) specifies that the addressed
register is to be read. Address bit 3 specifies whether a
“channel register" (A 3 = 0) or the Mode Set (program
only)/Status (read only) register (A 3 = 1) is to be accessed.
configurations,

CONTROL INPUT

CS

l/OW

I/OR

A3

Program Half of a
Channel Register

0

0

1

0

Read Half of a
Channel Register

0

1

0

0

Program Mode Set

0

0

1

1

0

1

0

1

Register

Read Status Register

four channels. Because the “channel registers” are 16bits, two program instruction cycles are required to load
or read an entire register. The 8257 contains a first/last
(F/L) flip flop which toggles at the completion of each
channel program or read operation. The F/L flip flop
determines whether the upper or lower byte of the register
is to be accessed. The F/L flip flop is reset by the RESET
input and whenever the Mode Set register is loaded. To
maintain proper synchronization when accessing the
“channel registers” all channel command instruction
operations should occur in pairs, with the lower byte of a
register always being accessed first. Do not allow CS to
clock while either I/OR or l/OW is active, as this will cause
an erroneous F/L flip flop state. In systems utilizing an

The least significant three address bits, A0-A2. indicate the

interrupt structure, interrupts should be disabled prior to

When accessing the
Mode Set or Status register, A0-A2 are all zero. When

any

specific register to be accessed.

paired

programming

operations

to

prevent

an

interrupt from splitting them.

accessing a channel register bit Ao differentiates between

The result of such a split
would leave the F/L F/F in the wrong state. This problem is

the DMA address register (Ao = 0) and the terminal count
register (Ao = 1), while bits Aj and A2 specify one of the

particularly obvious when other DMA channels
programmed by an interrupt structure.

are

8257 Register Selection

ADDRESS INPUTS
REGISTER
CH-0 DMA Address

CH-0 Terminal Count
CH-1 DMA Address

CH-1 Terminal Count

CH-2 DMA Address
CH-2 Terminal Count

BYTE

LSB

0

0

0

0

LSB

0

0

MSB

0

0

LSB

0

0

MSB

0

0

nMM
B1
I
H
D
i

a4

a3

a

Ai 2

A,,

Aio

A,

A«

0

C?

c5

c2

C,

Rd

C4
C

C3

1

c6
Wr

Cl,

Cio

C9

Co
c*

EW

EN3 EN2

EN1

EN0

0

TC3 TC2 TCI

TOO

0

Kfl

1

0
1

LSB

0

1

0

0

MSB

0

1

0

0

1

1

0

i

0

1

0

i

1

1

1

0

0

1

1

0

1

1

1

1

0

1

1

1

0

0

0

AL

0

0

0

0

STATUS (Read only)
3

:

1

|

Cn

1

2

Same as Chiinnel C

i

-

Ao

A-s

An

i

LSB

A,

Ac

A 4

1

ftl

Do

A?

1

a
nH

D,

Aj5

0

LSB

02

1

0

0

d4

Ds

0

0

LSB

d6

D-

0

MODE SET (Program only)
DMA Starting Address. Co-C[

Ao

•BI-DIRECTIONAL DATA BUS
F/L

LSB

MSB

*Ao-A|s:

A,

MSB

MSB
CH-3 Terminal Count

a2

MSB

MSB
CH-3 DMA Address

a3

Same as Chiinnel C

)

Same as Chiinnel C
;

Terminal Count value (N-1), Rd and Wr:

n
TCS

DMA Verify (00). Write (01) or Read (10) cycle selection.

TCSTOP.EW: EXTENDED WRITE, RP: ROTATING PRIORITY. EN3-EN0: CHANNEL ENABLE MASK, UP: UPDATE
FLAG, TC3-TC0: TERMINAL COUNT STATUS BITS.

AL: Auto Load, TCS:

6-122

8257/ 8257-5
read and write commands and byte transfer occurs between the selected I/O device and memory. After the
transfer is complete, the DACK line is set HIGH and the
HRQ line is set LOW to indicate to the CPU that t he bus
is now free for use. DRQ must remain HIGH until DACK
is issued to be recognized and must go LOW before S4
of the transfer sequence to prevent another transfer
from occuring. (See timing diagram.)

RESET

Consecutive Transfers
If

more than one channel requests service simultaneousoccur in the same way a burst does.

ly, the transfer will

No overhead is incurred by switching from one channel
to another. In each S4 the DRQ lines are sampled and

the highest priority request is recognized during the
next transfer. A burst mode transfer in a lower priority

channel will be overridden by a higher priority request.
Once the high priority transfer has completed control
will return to the lower priority channel if its DRQ is still
active. No extra cycles are needed to execute this sequence and the HRQ line remains active until all DRQ
lines go LOW.

Control Override

The continuous DMA transfer mode described above
can be interrupted by an external device by lowering the
HLDA line. After each DMA transfer the 8257 samples
the HLDA line to insure that it is still active. If it is not
active, the 8257 completes the current transfer, releases

the HRQ line (LOW) and returns to the idle state. If DRQ
lines are still active the 8257 will raise the

the

third

cycle and

HRQ line in

proceed normally. (See timing

diagram.)

Not Ready

The 8257 has a Ready input similar to the 8080A and the
8085A. The Ready line is sampled in State 3. If Ready is
LOW the 8257 enters a wait state. Ready is sampled during every wait state. When Ready returns HIGH the 8257
proceeds to State 4 to complete the transfer. Ready is
used to interface memory or I/O devices that cannot
meet the bus set up times required by the 8257.

Speed
1

The 8257 uses four clock cycles to transfer a byte of

DRQn refers to any DRQ line on an enabled DMA channel.

Figure 6.

data. No cycles are lost in the master to master transfer

maximizing bus efficiency. A 2MHz clock input will
allow the 8257 to transfer at a rate of 500K bytes/second.

DMA Operation State Diagram

Memory Mapped I/O Configurations
The 8257 can be connected to the system bus as a memory

DMA OPERATION

device instead of as an I/O device for memory mapped I/O
configurations by connecting the system memory control

Single Byte Transfers

A single byte transfer is initiated by the I/O device rais-

lines to the 8257’s I/O control lines

and the system I/O

ing the DRQ line of one channel of the 8257. If the chan-

control lines to the 8257’s memory control lines.

nel is enabled, the 8257 will output a

HRQ to the CPU.
The 8257 now waits until a HLDA is received insuring
that the system bus is free for its use. Once HLDA is

This configuration permits use of the 8080’s considerably
larger repertoire of memory instructions when reading or
loading the 8257’s registers. Note that with this

received the DACK line for the requesting channel is activated (LOW). The DACK line acts as a chip select for

connection, the programming of the Read (bit 15) and
Write (bit 14) bits in the terminal count register will have a

the requesting I/O device. The 8257 then generates the

different meaning:

6-123

8257 / 8257-5

MEMRD

I/O RD

BIT 14

READ

WRITE

MEMWR

I/O

WR

0

0

I/O RD

MEM RO

0

1

i/owR

MEMWR

1

0

DMA Verify Cycle
DMA Read Cycle
DMA Write Cycle

1

1

Illegal

8257

Figure 7. System Interface for Memory Mapped I/O

SYSTEM APPLICATION EXAMPLES

Figure 9.

BIT 15

Floppy Disk Controller (4 Drives)

Figure 8.

TC Register for Memory Mapped I/O Only

8257 / 8257-5

Figure 11. Detailed System Interface Schematic

6-125

8257 / 8257-5
*

ABSOLUTE MAXIMUM RATINGS*

COMMENT Stresses above those listed under "Absolute
:

Maximum Ratings" may cause permanent damage to the
This

device.

Ambient Temperature Under Bias

0°C to 70°C
— 65° C to + 150°C

Storage Temperature

Voltage on Any Pin

—0.5V to +7V

Power Dissipation

1

Watt

a stress rating only and functional opera-

those indicated in the operational sections of this specifi-

cation

With Respect to Ground

is

tion of the device at these or any other conditions above

is

not implied. Exposure

to absolute

maximum

rating conditions for extended periods may affect device
reliability.

D.C. CHARACTERISTICS
Ta = 0°C to 70° C, Vcc = +5V ± 5%, GND = 0V

SYMBOL

PARAMETER

MIN.

MAX.

UNIT

Input Low Voltage

-0.5

0.8

Volts

V| H

Input High Voltage

2.0

Vql

Output Low Voltage

VOH

Output High Voltage

V|L

2.4

TEST CONDITIONS

Volts

Vcc

mA

Volts

Iol = 1-6

Volts

=
IOH "150piA for AB,

DB and AEN
•oH

V HH

HRQ Output High Voltage

>CC

3.3

Vcc

Volts

Vcc Current Drain

120

mA

IlL

Input Leakage

±10

pA

OFL

Output Leakage During Float

±10

=- 80juA for others

Ioh = -80m A

Vin = Vcc

0V

Vqut = vcc t0 0V

HA

CAPACITANCE
Ta = 25°C; Vcc = GND = 0V

PARAMETER

MAX.

UNIT

TEST CONDITIONS

C|N

Input Capacitance

10

pF

fc= 1MHz

Ci/o

I/O Capacitance

20

pF

SYMBOL

MIN.

TYP.

Unmeasured pins
returned to GND

6-126

8257/8257-5

A.C. CHARACTERISTICS:

PERIPHERAL (SLAVE) MODE

Ta = 0°C to 70° C, Vqc = 5.0V ±5%; GND = 0V (Note 1).
8080 Bus Parameters
Read Cycle:
8257-5

8257

Symbol

Parameter

Min.

Max.

Max.

Min.

Unit

Tar

Adr or CSI Setup to RDi

0

Tra

Adr or CSt Hold from RDt

0

Trd

Data Access from RDt

0

300

0

200

ns

Tdf

DB->Float Delay from RDt

20

150

20

100

ns

Trr

RD Width

250

0

Test Conditions

ns

0

ns

250

(Note 2)

ns

Write Cycle:

8257-5

8257

Symbol

Parameter

Min.

Max.

Min.

Max.

Unit

Taw

Adr Setup to WR!

20

20

ns

Twa

Adr Hold from WRt

0

0

ns

Tdw

Data Setup to WRt

200

200

ns

Twd
Tww

Data Hold from WRt

0

0

ns

WR Width

200

200

ns

Test Conditions

Other Timing:

8257

Symbol

Parameter

Trstw

Reset Pulse Width

Trstd

Power Supplyt (V cc Setup to Reset!
)

Tr

Signal Rise Time

Tf

Signal Fall Time

Trsts

Reset to First l/OWR

Notes:

1.

2.

Min.

8257-5

Max.

Min.

Max.

300

300

ns

500

500

jus

20

20
2

20

ns

20

ns

2

All timing measurements are made at the following reference voltages unless specified otherwise

8257: Cl= 100pF, 8257-5: C(_= 150pF.

8257 PERIPHERAL MODE TIMING DIAGRAMS
Write Timing:

Unit

Read Timing:

6-127

Test Conditions

*CY
:

"1" at 2.0V, "0" at 0.8V
Output "1" at 2.0V, "0” at 0.8V
Input

8257 / 8257-5
A.C. CHARACTERISTICS:

DMA (MASTER) MODE

Ta = 0°C to 70°C, Vcc = +5V ±5%, GND = OV

Timing Requirements
8257

SYMBOL

PARAMETER

8257-5

MIN.

MAX.

MIN.

MAX.

UNIT

0.320

4

0.320

4

MS

.8Tcy

80

.8Tcy

ns

Tcy

Cycle Time (Period)

re

Clock Active (High)

120

Tqs

DRQt Setup to 01 (SI, S4)

120

120

ns

Tqh

DRQI Hold from HLDAt^l

0

0

ns

tH s

HLDAt or +Setup to0*(SI,S4)

100

100

ns

Trs

READY Setup Time to 6 1 (S3, Sw)
READY Hold Time from 0 1 (S3, Sw)

30

30

ns

20

20

ns

Trh

Note:

4.

Tracking Parameter.

Tracking Parameters
Signals labeled as Tracking Parameters (footnotes 4-7 under A.C. Specifications) are signals that follow similar paths
through the silicon die. The propagation speed of these signals varies in the manufacturing process but the relationship between all these parameters is constant. The variation is less than or equal to 50 ns.

Suppose the following timing equation is being evaluated,
Ta(Min)

+ T B(max) ^150 ns

and only minimum specifications exist for T A and T B
Tb(max) can be taken as T B(MIN) + 50 ns.
Ta(MIN)
*if T a

.

If

T A(M N
|

used, and if T A and T B are tracking parameters,

is
)

+ (Tb<min)* + 50 ns ^ '•SO ns
)

and T B are tracking parameters

6-128

8257 / 8257-5

DMA (MASTER) MODE ta - o°Cto 70“c, vcc = +5V ±5%, gnd = ov

A.C. CHARACTERISTICS:
Timing Responses

8257-5

8257

PARAMETER

SYMBOL

MIN.

MAX.

MAX.

UNIT

160

ns

250

250

ns

300

300

ns

MIN.

HRQt or t Delay from 0t(SI,S4)

tDq

(measured at 2.0V)'

1

'

HRQt or IDelay from 0t(SI,S4)

Tdqi

(measured at 3.3V)'

3

'

tael

AENt Delay from ©MSI)!

1 )

taet

AENt Delay from fltlSI)'

1 '

Taea

Adr (A B) (Active) Delay from AENt(S1)l 4

Tfaab

Adr(AB) (Active) Delay from 0t(S1)l 2

tafab

Adr(AB)(Float) Delay from 0t(SI)' 2

Tasm

Adr(ABMStable) Delay from 0t(S1)' 2

tah

Adr (AB) (Stable) Hold from 0t(S1)' 2

Tahr

Adr(ABHValid) Hold from Rdt(S1,SI)l 4

Tahw

Adr(ABMValid) Hold from Wrt(S1,SI)' 4

Tfadb

Adr(DB)(Active) Delay from 0t(S1)l 2

Tafdb

Adr(DB)fFloat) Delay from 0 1 (S2)l 2

tass

Adr(DB) Setup to AdrStbt(S1-S2)l 4

Tahs

Adr(DBHValid) Hold from AdrStbi(S2)' 4

200

150

150

ns

l

250

250

ns

'

250

ns

60

ns

300

ns

300

l

l

tSTT+20

1

)

l

AdrStbt Delay from 0t(S2)H

Tsw

AdrStb Width (S1-S2)' 4

Tasc

Rdl or Wr(Ext)l Delay from AdrStbl(S2)I 4

tdbc

Rdl or Wr(Ext)t Delay from Adr(DB)

300

ns

170

ns

100

100

ns

50

50

ns

'

1

200

200

140

140

Tcy-100

'

ESS s

ns
ns

ns

70

)

ns

Tasm-50
l

AdrStbt Delay from OtfSI)'

ns

20

20

ns

'

DACKt or IDelay from 04(S2,S1) and

Tak

ns

250

l

Tstl

(Float)(S2)' 4

20

l

tstt

1

ns

20

l

250

250

ns

200

ns

TC/Markt Delay from 0t (S3) and
TC/Markl Delay from 0 1 (S4)l 1 5
'

tdcl

Rdt or Wr(Ext)t Delay from 0t(S2) and
Wrl Delay from 0t(S3)' 2 6
-

'

Rdt Delay from 0I(S1,SI) and
Wrt Delay from 0t(S4)l 2 7

Tdct

'

ns

!

Tfac

Rd or Wr (Active) f rom 0 1 (SI )l 2

tafc

Rd or Wr (Float) from 0t(SI)l 2

Trwm

Rd Width (S2-S1 or SI)I 4
Wr Width (S3-S4)' 4

1.

5.

Load = 1 TTL.
< 50 ns.

*

l

I

'

Wr(Ext) Width (S2-S4)' 4

Notes:

1

!

2.

Load =- 1 TTL + 50pF.

6.

ATDQ|_<50ns.

7.

300

ns

150

ns

2Tqy + Tfl-50

2Tcy + Tfl-50

ns

Tcy-50

Tcy-50

ns

2Tcy -50

2Tcy -50

ns

3. Load = 1 TTL + (R|_ - 3.3K), V OH - 3.3V.
ATqqj < 50 ns.

6-129

4. Tracking Parameter.

8257 / 8257-5

DMA MODE WAVEFORMS
CONSECUTIVE CYCLES AND BURST MODE SEQUENCE

NOTE: The dock waveform it
duplicated for clarity.

SI

]

SI

|

SO

|

SI

|

S2

|

S3

S4
|

The 8257 requires only
one dock input.

Figure 12. Consecutive Cycles and Burst Mode Sequence

6-130

S2

Si
|

|

|

S3

|

S4

SI
|

|

SI

SI
|

¥

in

As,

8259A/8259A-2/8259A-8
PROGRAMMABLE INTERRUPT CONTROLLER
8086/8088 Compatible

Programmable Interrupt Modes

MCS-80/85™ Compatible

Individual Request Mask Capability

a Eight-Level Priority Controller

Single + 5V Supply (No Clocks)

a Expandable to 64 Levels

28-Pin Dual-ln-Line Package

The Intel® 8259A Programmable Interrupt Controller handles up to eight vectored priority interrupts for the CPU. It is
cascadable for up to 64 vectored priority interrupts without additional circuitry. It is packaged in a 28-pin DIP, uses
NMOS technology and requires a single + 5V supply. Circuitry is static, requiring no clock input.

The 8259A is designed to minimize the software and real time overhead in handling multi-level priority interrupts. It has
several modes, permitting optimization for a variety of system requirements.
The 8259A is fully upward compatible with the Intel® 8259. Software originally written for the 8259 will operate the
8259A in all 8259 equivalent modes (MCS-80/85, Non-Buffered, Edge Triggered).

BLOCK DIAGRAM

PIN CONFIGURATION

WR L 2

RdC 3

26

JlNTA

4

25

HlR7

0,11

D6 C S

24 I)IR6

ObC 6

23 I|lR5

D4 C

7

22

JlR4

03 C 8

21

UlR3

02 C

20

3 IR2

0,C '0

19

3IR1

"

18

IRO

17

3‘ NT

16

Dsp/en

15

3 CAS 2

o0 C

9

CASOC 12
CASlC 13
GND[I

14

CONTROL LOGIC

**

PRIORITY Y
|RESOL VER|

J

INTERRUPT
IR3
REQUEST *•
REG
IRA
" RR
^_,R S
>

PIN NAMES
D, 0 Q

OATA BUS (Bl DIRECTIONAL)

RD

READ INPUT

WR
A0

WRITE INPUT
COMMAND SELECT ADDRESS

CS

CHIP SELECT

CAS2 CASO

CASCADE UNES
SLAVE PROGRAM ENABLE BUFFER
INTERRUPT OUTPUT
INTERRUPT ACKNOWLEDGE INPUT
INTERRUPT REQUEST INPUTS

INT

inta
IR0-IR7

INTERRUPT MASK REG

CASCADE
BUFFER/
(comparator

j

6-132

I

IMR)

8259A / 8259 A-2 / 8259A-8

A***

rr-

INTERRUPTS IN MICROCOMPUTER

SYSTEMS
Microcomputer system design requires that I/O devices
such as keyboards, displays, sensors and other components receive servicing in an efficient manner so that
large amounts of the total system tasks can be assumed
by the microcomputer with little or no effect on through-

can
match his system requirements^
be changed or reconfigured dynarnfegjjy ajt a^VBii^uring the main program. This means thaft lthe; cc3iiiy|tS
;

interrupt structure can be defined as requi/ed^bas^d
"

the total system environment.

put.

The most common method of servicing such devices is
the Polled approach. This is where the processor must
test each device in sequence and in effect “ask” each
one if it needs servicing. It is easy to see that a large portion of the main program is looping through this continuous polling cycle and that such a method would
have a serious, detrimental effect on system throughput, thus limiting the tasks that could be assumed by
the microcomputer and reducing the cost effectiveness
of using such devices.

A more desirable method would be one that would allow
the microprocessor to be executing its main program
and only stop to service peripheral devices when it is
told to do so by the device itself. In effect, the method
would provide an external asynchronous input that
would inform the processor that it should complete
whatever instruction that is currently being executed
and fetch a new routine that will service the requesting

Once this servicing is complete, however, the
processor would resume exactly where it left off.

device.

This method

is called Interrupt. It is easy to see that
system throughput would drastically increase, and thus
more tasks could be assumed by the microcomputer to
further enhance its cost effectiveness.

Polled Method

The Programmable Interrupt Controller (PIC) functions
as an overall manager in an Interrupt-Driven system
environment. It accepts requests from the peripheral
equipment, determines which of the incoming requests
is
of the highest importance (priority), ascertains
whether the incoming request has a higher priority value
than the level currently being serviced, and issues an
interrupt to the CPU based on this determination.

Each peripheral device or structure usually has a special
program or “routine” that is associated with its specific
functional or operational requirements; this is referred
to as a “service routine”. The PIC, after issuing an Inter-

rupt to the CPU, must somehow input information into

the CPU that can “point” the Program Counter to the
service routine associated with the requesting device.
This “pointer” is an address in a vectoring table and will
often be referred to, in this document, as vectoring data.

8259A BASIC FUNCTIONAL DESCRIPTION
GENERAL
The 8259A is a device specifically designed for use in
real time, interrupt driven microcomputer systems. It
manages eight levels or requests and has built-in features for expandability to other 8259A’s (up to 64 levels).
It

is

programmed by the system’s software as an I/O

peripheral. A selection of priority modes is available to

the programmer so that the manner in which the requests are processed by the 8259A can be configured to

Interrupt Method

6-133

9

INTERRUPT REQUEST REGISTER (IRR) AND
IN-SERVICE REGISTER (ISR)

The interrupts at the IR input lines are handled by two
registers in cascade, the Interrupt Request Register
(IRR) and the In-Service Register (ISR). The IRR is used
to store all the interrupt levels which are requesting service; and the ISR is used to store all the interrupt levels

which are being serviced.

PRIORITY RESOLVER
This logic block determines the priorities of the bits set
in

the IRR. The highest priority is selected and s trobed

into the corresponding bit of the ISR during INTA pulse.

INTERRUPT MASK REGISTER (IMR)
The IMR stores the bits which mask the interrupt lines
to be masked. The IMR operates on the IRR. Masking of

a higher priority input will not affect the interrupt
request lines of lower priority.

INT (INTERRUPT)
This output goes directly to the CPU interrupt input. The

Voh level on this line is designed to be fully compatible
with the 8080A, 8085A. 8086 and 8088.

8259A Block Diagram

INTA (INTERRUPT ACKNOWLEDGE)
INTA pulses will cause the 8259A to release vectoring
information onto the data bus. The format of this data
depends on the system mode (hPM) of the 8259A.

DATA BUS BUFFER
This 3-state, bidirectional 8-bit buffer is used to inter
face the 8259A to the system Data Bus. Control words
and status information are transferred through the Data

Bus Buffer.

READ/WRITE CONTROL LOGIC
The function of this block is to accept OUTput commands from the CPU. It contains the Initialization Com-

mand Word (ICW) registers and Operation Command
Word (OCW) registers which store the various control
formats for device operation. This function block also
allows the status of the 8259A to be transferred onto the

Data Bus.

CS (CHIP SELECT)
A LOW on this input enables the 8259A. No reading or
writing of the chip will

occur unless the device

is

selected.

WR (WRITE)

8259A Block Diagram

A LOW on this input enables the CPU to write control
words (ICWs and OCWs) to the 8259A.
A0

RD (READ)

This input signal is used in conjunction with

WR and RD

A LOW on this input enables the 8259A to send the

signals to write commands into the various command

status of the Interrupt Request Register (IRR), In Service

Register (ISR), the Interrupt Mask Register (IMR), or the

registers, as well as reading the various status registers
of the chip. This line can be tied directly to one of the ad-

Interrupt level onto the Data Bus.

dress lines.

6-134

THE CASCADE BUFFER/COMPARATOR

either
If
no interrupt request is present
_
i U
~~
.the
sequence (i.e., the request was tob’Shrort4n
8259A will issue an interrupt level 7. 6oth.th%vecT^Sd^
bytes and the CAS lines will look like an n t drrxiptley eV#
-

This function block stores and compares the IDs of all
8259A’s used in the system. The associated three I/O
pins (CASO-2) are outputs when the 8259A is used as a
master and are inputs when the 8259A is used as a
slave. As a master, the 8259A sends the ID of the interrupting slave device onto the CASO-2 lines. The slave
thus selected will send its preprogrammed subroutine
address ont o the Data Bus during the next one or two
consecutive INTA pulses. (See section “Cascading the
8259A”.)

/:

.

#

i

was requested.

'

ft,

3

INTERRUPT SEQUENCE
The powerful features of the 8259A in a microcomputer
system are its programmability and the interrupt routine
addressing capability. The latter allows direct or indirect
jumping to the specific interrupt routine requested
without any polling of the interrupting devices. The normal sequence of events during an interrupt depends on
the type of CPU being used.

The events occur as follows in an MCS-80/85 system:

I.One

or

more

of

the

INTERRUPT REQUEST

lines

(IR7-0) are raised high, setting the corresponding IRR
bit(s).

The 8259A evaluates these requests, and sends an
INT to the CPU, if appropriate.
3. The C PU acknowledges the INT and responds with an
INTA pulse.
2.

4.

Upon receiving an INTA from the CPU group, the
highest priority ISR bit is set, and the corresponding
IRR bit is reset. The 8259A will also release a CALL instruction code (11001101) onto the 8-bit Data Bus
through its D7-0 pins.

5. This

CALL instruction will initiate two more INTA

8259A Block Diagram

pulses to be sent to the 8259A from the CPU group.

INTA pulses allow the 8259A to release its
preprogrammed subroutine address onto the Data
Bus. The lower 8-bit address is released at the first
INTA pulse and and the h igher 8-bit address is released at the second INTA pulse.

6. These two

7. This

ADDRESS BUS (It)

completes the 3-byte CALL instruction released

by the 8259A. In the AEO

I

CONTROL BUS

mode the ISR bit is reset at

u

the end of the third INTA pulse. Otherwise, the ISR bit

an appropriate EOI command
issued at the end of the interrupt sequence.

remains set

until

I/OR

CAS0

est priority ISR bit is set and the corresponding IRR

CASCADE
LINES

The 8259A does not drive the Data Bus

0

?

INTA

SfrgN

0

TO

/

SLAVE PROG.
ENABLE BUFFER

read by the CPU.

INTERRUPT
REQUESTS

AEOI mode
the ISR bit is reset at the end of the second INTA

6. This completes the interrupt cycle. In the

pulse. Otherwise, the ISR bit remains set until an
appropriate EOI command is issued at the end of the
interrupt subroutine.

6259A Interface to Standard System Bus

6-135

INTA

IRQ IRQ IRQ IRQ IRQ IRQ IRQ IRQ
7
5
4
3
1
1
0
6^

The 8086 8088 CPU will initiate a second
INTA pulse. During this pulse, the 8259A releases an
8-bit pointer onto the Data Bus where it is

INT

825BA

CAS 1

CAS 2

during this cycle.
5.

iz
D O

a A

Upon receiving an INTA from the CPU group, the highbit is reset.

INT

7y

The events occuring in an 8086/8088 system are
the same until step 4.
4.

l/OW

DATA BUS (•)

is

'

8259A/8259A-2/8259A-8

INTERRUPT SEQUENCE OUTPUTS
This sequence is timed by three INTA pulses. During the
first

During the third INTA pulse t he.. hi gheT add|ess of the
appropriate service routine, which*
as
byte 2 of the initialization sequence .'(Ag- A
enabled onto the bus.
;

MCS-80/85 MODE

:

INtA pulse the CALL opcode is enabled onto the

..

.

wf

'

c

hr

data bus.

W

'i'O

Content of Third Interrupt
Vector Byte

Content of First Interrupt
Vector Byte
07

06

05

04

03

02

01

DO

1

1

0

1

07

06

05

04

D3

02

A15

A14

A13

A12

All

A10

01

DO

A9
|

|

1

CALL COOE

1

0

1

0

8086/8088 Mode
During the second INtA pulse the lower address of the
appropriate service routine is enabled onto the data bus.

When Interval = 4 bits A 5 -A 7 are programmed, while A 0a 4 are automatically inserted by the 8259A. When Interval = 8 only A 6 and A 7 are programmed, while A 0 -A are
5
automatically inserted.

Content of Second Interrupt
Vector Byte
07

06

05

D4

D3

02

01

7

A7

A6

A5

1

1

1

0

0

6

A7

A6

A5

1

1

0

0

0

5

A7

A6

A5

1

0

1

0

0

4

A7

A6

A5

1

0

0

0

0

3

A7

A6

A5

0

1

1

0

0

2

A7

A6

A5

0

1

0

0

0

1

A7

A6

A5

0

0

1

0

0

0

A7

A6

A5

0

0

0

0

0

07

D6

05

04

is similar to that of MCS-80/85 systems in that the
8259A uses it to internally freeze the state of the interrupts for priority resolution and as a master it
issues the interr upt code on the cascade lines at the
end of the INTA pulse. On this first cycle
does not

02

01

00

DO

issue any data to the processor and leaves its data bus
buffers disabled. On the second interrupt acknowledge
cycle in 8086/8088 mode the master (or slave if so
programmed) will send a byte of data to the processor
with the acknowledged interrupt code composed
as follows (note the state of the ADI mode control
is ignored and As-A^ are unused in 8086/8088 mode):

Interval = 8

IR

7

except that only two Interrupt Acknowledge cycles are
issued by the processor and no CALL opcode is sent
to the processor. The first interrupt acknowledge cycle

it

interval « 4

IR

8086/8088 mode is similar to MCS80/85 mode

A7

A6

1

1

03
1

0

0

D7

D6

05

D4

D3

D2

D1

IR7

T7

T6

T5

T4

T3

1

1

1

IR6

17

T6

T5

T4

T3

1

1

0

IR5

17

T6

T5

T4

T3

1

0

1

IR4

17

T6

T5

T4

T3

1

0

0

IR3

17

T6

T5

T4

T3

0

1

1

IR2

17

T6

T5

T4

T3

0

1

0

0

6

A7

A6

1

1

0

0

0

0

5

A7

A6

1

0

1

0

0

0

4

A7

A6

1

0

0

0

0

0

3

A7

A6

0

1

1

0

0

0

DO

2

A7

A6

0

1

0

0

0

1

A7

A6

0

0

1

0

0

0

IR1

17

T6

T5

T4

T3

0

0

1

0

A7

A6

0

0

0

0

0

0

IRO

17

T6

T5

T4

T3

0

0

0

0

A*

8259A/8259A-2/8259A-8

''(if;

PROGRAMMING THE 8259A

INITIALIZATION

The 8259A accepts two types of command words generated by the CPU:

general

to

.

***%*%®*,'

Whenever a command is issued with AO=0<^n'd' P^=^^|
this is interpreted as Initialization Command' W-ofdJ
(ICW1). ICW1 starts the initialization sequence durtng'
4

1.

Initialization

Command Words (ICWs): Before normal

operation can begin, each 8259A in the system must
by a sequence of 2
be brought to a startin g po int
pulses. This sequence
to 4 bytes timed by
is described in Figure 1.

which the following automatically occur.

—

WR

2.

a.

following initialization, an interrupt request (IR) input
must make a low-to-high transition to generate an in-

Operation Command Words (OCWs): These are the

terrupt.

The Interrupt Mask Register is cleared.
R7 input is assigned priority 7.
d. The slave mode address is set to 7.

command words that are sent to the 8259A for var-

b.

ious forms of operation, such as:

c.

•

Interrupt Masking

•

End of Interrupt

The edge sense circuit is reset, which means that

e.

Special Mask Mode is cleared and Status Read is
set to IRR.

• Priority Rotation

• Interrupt Status

f.

If

IC4=0, then all functions selected in ICW4 are set
mode*, no Auto-EOI, MCS-

to zero. (Non-Buffered

The OCWs can be written into the 8259A anytime after

80/85 system).
Note: Master Slave in ICW4 is only used in the buffered mode

initialization.

RD

WR

cs

0

0

1

0

IRR, ISR or Interrupting Level—

1

0

1

0

IMR —DATA BUS

0«

Ao

Oj

INPUT OPERATION (READ)

DATA BUS (Note

OUTPUT OPERATION (WRITE)
0

0

0

1

0

0

0

0

1

1

0

0

0

1

X

1

0

0

1

X

X

1

0

0

DATA BUS -*-OCW2
DATA BUS -*-OCW3
DATA BUS-*-ICW1
DATA BUS -OCW1, ICW2, ICW3, ICW4 (Note 2)
DISABLE FUNCTION

X

X

X

X
Notes:

X

1

1

0

X

X

X

1

DATA BUS — 3-STATE .NO OPERATION
DATA BUS — 3-STATE .NO OPERATION

1

Selection of IRR. ISR or Interrupting Level is based on the content of OCW3 written before the READ operation

2

On-chip sequencer logic queues these commands into proper sequence

8259A Basic Oparatlon

6-137

1)

ir,.
'

•*

8259A/8259A-2/8259A-8
INITIALIZATION COMMAND WORDS 1 AND 2
(ICW1, ICW2)

,,

starting address of service routines. In an

can be programmed to be spaced at intervals of 4 or 8

a.

memory locations, thus the 8 routines will occupy a
page of 32 or 64 bytes, respectively.

externally.

The 8-byte interval will maintain compatibility with current software, while the 4-byte interval is best for a com-

pact jump table.
In

SFNM: If SFNM=1 the special fully nested mode is
programmed.

dress Interval) has no effect.

LTIM = 1, then the 8259A will operate in the
mode. Edge detect logic on the
interrupt inputs will be disabled.
CALL address interval. ADI = 1 then interval = 4;
ADI = 0 then interval = 8.

ADI:

SNGL: Single. Means that this is the only 8259A in the
system. If SNGLs i no ICW3 will be issued.
IC4:
If this bit is set — ICW4 has to be read. If ICW4
is not needed, set IC4 = 0.

the master mode (either when SP = 1, or in btffc
1 in ICW4) a “1” is set for

each slave in the system. The master then will release byte 1 of the call sequence (for MCS-80/85
system) and will enable the corresponding slave to
release bytes 2 and 3 (for 8086/8088 only
byte 2) through the cascade lines.
b. In the slave mode (either when SP = 0, or if BUF = 1
and M / S = 0 in ICW4) bits 2-0 identify the slave. The
slave compares its cascade input with these bits
and if they are equal, bytes 2 and 3 of the call
sequence (or just byte 2 for 8086/8088)
are released by it on the Data Bus.
INITIALIZATION COMMAND WORD 4 (ICW4)

).

level interrupt

In

fered mode when M/S =

The address format is 2 bytes long (A 0 -A 15 When the
routine interval is 4, A 0 -A 4 are automatically inserted by
the 8259A, while A 5 -A 15 are programmed externally.
When the routine interval is 8, A 0 -A 5 are automatically
inserted by the 8259A, while Ag-A 15 are programmed

If

.,

case SNGL=0. It will load the 8-bit slave fejjjstec, ..ffSfJ
functions of this register are:
^

CALLs to 8 locations equally spaced in memory. These

LTIM:

it-

This word is read only when t he'f^;j£ ^ore J^fr^ne
?
8259A in the system and cascading (S
i*rf \i^b
:

MCS 80/85 system, the 8 request levels will generate

an MCS-86 system T7-T3 are inserted in the five
most significant bits of the vectoring byte and the
8259A sets the three least significant bits according to
the interrupt level. A 10 -A 5 are ignored and ADI (Ad-

!

INITIALIZATION COMMAND WORD at^l^^

BUF:

BUF= 1 the buffered mode is programmed. In
buffered mode SP/EN becomes an enable output
and the master/slave determination is by M/S.

M/S:

If

If

buffered mode is selected: M/S= 1

means the

8259A is programmed to be a master, M/S = 0
means the 8259A is programmed to be a slave. If
BUF = 0, M/S has no function.
AEOI: If AEOI = 1 the automatic end of interrupt mode
is programmed.
mPM:

Microprocessor mode: mPM = 0 sets the 8259A
MCS-80/85 system operation, ^PM = 1 sets
the 8259A for MCS-86 system operation.
for

Figure 1. Initialization Sequence

6-138

ICW2
A,

O,

%

o,

O,

04

Oj

Oj

D,

0,

O,,

0,

°o

ICW3 (SLAVE DEVICE)

°3

DDDD D D
SLAVE ID«M

D
a D a a
Da ao
a
ICW4

AO

06

07

Os

n0 n

03

02

Ol

oo

SFNM BUF

M/S

AEOI

,iPM

04

= 8086/8088 MODE
1
0 = MCS-80'85 MODE

1

0

0

X

NON BUFFEREO MODE

1

0

- BUFFERED MODE/SLAVE

1

1

AUTO EOI
NORMAL EOI

BUFFERED MOOE/MASTER

1

1

= SPECIAL FULLY NESTED

MODE
0 « NOT SPECIAL FULLY

NESTED MODE

NOTE

Initialization

1

SLAVE ID IS EQUAL TO THE CORRESPONDING MASTER IR INPUT

Command Word Format
6*139

8259A/8259A-2/8259A-8

OPERATION COMMAND WORDS (OCWs)

OPERATION CONTROL

After the Initialization Command Words (ICWs) are pro0 rammed into the 8259A, the chip is ready to accept
Interrupt requests at its input iines. However, during the

8259A operation, a selection of algorithms can command the 8259A to operate in various modes through

7SZW*

0CW1 sets and clears the mask h'ite
Mask Register (IMR). M 7 -M 0 represent ^h^etghV^sK,
bits. M = 1
indicates the channel
(inhibited), M = 0 indicates the channel is enabled^

VV

the Operation Command Words (OCWs).

OPERATION CONTROL WORD 2 (0CW2)

OPERATION CONTROL WORDS (OCWs)

R, SL,

—

EOI
These three bits control the Rotate and
End if Interrupt modes and combinations of the two. A
chart of these combinations can be found on the Opera-

OCW1

tion Command Word Format.

07

D6

D5

P4

03

02

01

DO

~M7

M6

M5

M4

M3

M2

Ml

M0~

—

L 2 L 1f Lq
These bits determine the interrupt
acted upon when the SEOI bit is active.
.

level

OPERATION CONTROL WORD 3 (0CW3)

ESMM — Enable Special Mask Mode. When this bit is
SMM bit to set or reset the Special
Mask Mode When ESMM = 0 the SMM bit becomes a

set to 1 it enables the

“don’t care”.

SMM — Special Mask Mode.

ESMM = 1 and SMM = 1
Mask Mode. If ESMM = 1
and SMM = 0 the 8259A will revert to normal mask mode.
When ESMM = 0, SMM has no effect.
the 8259A will enter Special

OCW3

6-140

If

8259A/8259A-2/8259A-8

*o

D»

1

M3

I

M7

I

Mt

MS

I

I

M4

I

“6

°»

I

M7

I

Ml

I

MO

INTERRUPT MASK
1

0

0

I

A

Oj

o4

EOI I

0

Ot

o,

A,

I

SL

I

O,

0

j

O,

0,

0^

L,

L,

L0

|

=

MASK SET
MASK RESET

IR LEVEL TO BE

ACTED UPON

-±±±

Non specific EOI Command

0

0

y

0

1

i

'Specific EOI Command

1

0

i

Rotate On Non-Specific EOI Command

1

~o~

_0_ _0
0
0

Rotate In Automatic EOI Mode (CLEAR)

1

1

0

'Set Priority Command

t

~cT

No operation

D,

Oj

04

0,

D2

O,

l

F
J

00*3
D;

]

'Rotate On Specific EOI Command

1

1

*L0-L2 are used

A„

AUTOMATIC ROTATION

Rotate In Automatic EOI Mode (SET)

2_

T

END OF INTERRUPT

%

Operation Command Word Forma!

6

-

cDcncir HU
onrATirwu
A KJIN
Orcvlrlu
1

I

8259A / 8259 A-2 / 8259A-8
INTERRUPT MASKS

FULLY NESTED MODE

Each Interrupt Request input can be masked individu-

This mode is entered after initializing/)'

by the Interrupt Mask Register (IMR) programmed
through OCW1. Each bit in the IMR masks one interrupt
channel if it is set (1). Bit 0 masks IRO, Bit 1 masks IR1
and so forth. Masking an IR channel does not affect the
other channels operation.

mode is programmed. The interrupt ^qf^qst^^
ordered in priority form 0 through 7 (0 highesit^l^^n c

ally

SPECIAL MASK MODE

Some applications may

require an interrupt service
routine to dynamically alter the system priority struc-

ture during

execution under software control. For
example, the routine may wish to inhibit lower priority
requests for a portion of its execution but enable some
of them for another portion.
its

The difficulty here is that if an Interrupt Request is
acknowledged and an End of Interrupt command did not
reset its IS bit (i.e., while executing a service routine),

the 8259A would have inhibited all lower priority
requests with no easy way for the routine to enable

*

interrupt is acknowledged the highest priority reqtte^te

determined and its vector placed on the bus. Additiohfc^;*
ly, a bit of the Interrupt Service register (ISO-7) is set.
This bit remains set until the microprocessor issues an

End of Interrupt (EOI) command immediately before
returning from the service routine, or if AEOI (Automatic

End of Interrupt) bit is set, until the trailing edge of the
last INTA. While the IS bit is set, all further interrupts of

the

same or lower priority are inhibited, while higher

will generate an interrupt (which will be
acknowledged only if the microprocessor internal Interrupt enable flip-flop has been re-enabled through soft-

levels

ware).

After the initialization sequence, IRO has the highest
priority and IR7 the lowest. Priorities can be changed,

as will be explained, by priority rotation.

them
That is where the Special Mask Mode comes in. In the
special Mask Mode, when a mask bit is set in OCW1, it

THE SPECIAL FULLY NESTED MODE

inhibits further interrupts at that level and enables interrupts from all other levels (lower as well as higher) that

This

are not masked.

Thus, any interrupts may be selectively enabled by
loading the mask register.

The special Mask Mode is set by OCW3 where:
SMM = 1, SMM = 1, and cleared where SMM = 1,
SMM = 0.

mode will be used in the case of a big system
where cascading is used, and the priority has to be conserved within each slave. In this case the special fully
nested mode will be programmed to the master (using)

ICW4). This mode is similar to the normal fully nested
mode with the following exceptions:
a.

When an interrupt request from a certain slave is in
service this slave is not locked out from the master’s

BUFFERED MODE

logic and further interrupt requests from
higher priority IR’s within the slave will be recognized

When the 8259A is used in a large system where bus

by the master and will initiate interrupts to the processor. (In the normal nested mode a slave is masked

priority

driving buffers are required on the data bus and the cas-

out when its request is in service and no higher
requests from the same slave can be serviced.)

cading mode is used, there exists the problem of enabling buffers.

The buffered modewMI_structure the 8259A to send an
enable signal on SP/EN to enable the buffers. In this
mode, whenever the 8259A’s data bus outputs are enabled, the SP/EN output becomes active.

b.

When exiting the Interrupt Service routine the software has to check whether the interrupt serviced was
the only one from that slave. This is done by sending
a non-specific End of Interrupt (EOI) command to the
slave and then reading its In-Service register and

This modification forces the use of software program-

ming to determine whether the 8259A is a master or a
slave. Bit 3 in ICW4 programs the buffered mode, and bit

checking for zero. If it is empty, a non-specific EOI
can be sent to the master too. If not, no EOI should be

2 in ICW4 determines whether it is a master or a slave.

sent.

6-142

8259A/8259A-2/8259A-8
second in MCS-86). Note thartopfa'
this mode should be used only wfeh ain^st

POLL
In

this

Enable

mode

microprocessor internal

the

Interrupt

flip-flop is reset, disabling its interrupt

input.

Service to devices is achieved by programmer initiative

The Poll command is issued by setting P = "1” in OCW3.
The 8259A treats the next RC pulse to the 8259A (i.e.,
RD = 0, C3 = 0) as an interrupt acknowledge, sets the
appropriate IS bit if there is a request, and reads the
priority level. Interrupt is frozen from

WR to RD.

The word enabled onto the data bus during R15 is:
07

06

05

04

D3

D2

01

00

I

-

-

-

-

W2

W1

WO

I:

To achieve automatic rotation within AEOt^thi
is

using a Poll command.

W0-W2:

interrupt structure is not required wi

Binary code of the highest priority level
requesting service.
Equal to a “1” if there is an interrupt.

a special rotate flip-flop.

It

is

set by OCW<2,,j/i

R = 1, SL = 0. EOI = 0, and cleared with R
SEOI = 0, EOI = 0.

AUTOMATIC ROTATION
(Equal Priority Devices)
In

some applications there are a number of interrupting

devices of equal priority. In this mode a device, after
being serviced, receives the lowest priority, so a device
requesting an interrupt will have to wait, in the worst

case until each of 7 other devices are serviced at most
once. For example, if the priority and “in service” status
is:

Before Rotate (IR4 the highest priority requiring service)

This mode is useful if there is a ro utine c ommand commmon to several levels so that the INTA sequence is not
needed (saves ROM space). Another application is to
use the poll command to expand the number of priority

ISS

IS6

IS7

IS4

(S3

ii

Status

END OF INTERRUPT (EOI)

However, when a mode is used which may disturb the
8269A may no longer be able
to determine the last level acknowledged. In this case a
Specific End of Interrupt (SEOI) must be issued which
includes as part of the command the IS level to be reset.
EOI is issued whenever EOI = 1, in OCW2, where L0-L2
is the binary level of the IS bit to be reset. Note that
although the Rotate command can be issued together
with an EOI where EOI = 1 it is not necessarily tied to it.

,

After Rotate (IR4 was serviced, all other priorities

rotated correspondingly)
IS7

IS6

IS5

1

0

IS4

S3

IS2

IS1

ISO

EEEEB
(T TV
EEE
M

"IS" Status

the corresponding slave if slaves are in use.

There are two forms of EOI command: Specific and NonSpecific. When the 8259A is operated in modes which
preserve the fully nested structure, it can determine
which IS bit to reset on EOI. When a Non-Specific EOI
command is issued the 8259A will automatically reset
the highest IS bit of those that are set, since in the
nested mode the highest IS level was necessarily the
last level acknowledged and serviced.

ISO

Highest Priority

Lowest Priority

levels to more than 64.

The In Service (IS) bit can be reset either automati cally
following the trailing edge of the last in sequence INTA
pulse (when AEOI bit in ICW1 is set) or by a command
word that must be issued to the 8259A before returning
from a service routine (EOI command). An EOI command
must be issued twice, once for themaster and once for

IS1

embEEEEB
EEEEEEVE

"IS" Status

Priority

IS2

Highest Priority

I

Lowest Priority

X.

1

Priority Status

There are two ways to accomplish Automatic Rotation
using OCW2, the Rotate on Non-Specific EOI Command
(R = 1, SL = 0, EOI = 1 ) and the Rotate in
Automatic EOI Mode which is set by (R = 1, SL = 0,
EOI = 0) and cleared by (R = 0 SL = 0, EOI = 0).

fully nested structure, the

SPECIFIC ROTATION
(Specific Priority)

The programmer can change priorities by programming
the bottom priority and thus fixing all other priorities;
i.e., if IR5 is programmed as the bottom priority device,

,

then IR6 will have the highest one.

should be noted that an IS bit that is masked by an
IMR bit will not be cleared by a non-specific EOI if the

The Set Priority command is issued in OCW2 where:
R = 1 SEOI = 1 L0-L2 is the binary priority level code

8259A is in the Special Mask Mode.

of the bottom priority device.

It

AUTOMATIC END OF INTERRUPT (AEOI) MODE
AEOI = 1 in ICW4, then the 8259A will operate in AEOI
mode continuously until reprogrammed by ICW4 In this
mode the 8259A will automatically perform a nonspecific EOI operation at the trailing edge of the last
interrupt acknowledge pulse (third pulse in MCS-80/85,
If

.

;

Observe that in this mode internal status is updated by
software control during OCW2. However, it is independent of the End of Interrupt (EOI) command (also exe-

cuted by OCW2). Priority changes can be executed during an EOI command by using the Rotate on Specific
EOI Command in OCW2 (R = 1, SL = 1, EOI = 1 and
L0-L2 = IR level to receive bottom priority).

6-143

NOTES
V MASTER CLEAR ACTIVE ONLY DURING ICW1
2.

FREEZE/ IS ACTIVE DURING INTA/ AND FOLL SEQUENCES ONLY

1 TRUTH TASLE FOR 0 LATCH
c

D

1

Di

Di

0

X

On-y

Q

OPERATION
|

Priority Cell

— Simplified Logic Diagram

LEVEL TRIGGERED MODE

In Service Register (ISR): 8-bit register which contains
the priority levels that are being serviced. The ISR is

This mode is programmed using bit 3 in ICW1.

LTIM =

an interrupt request will be recognized by a
'high' level on IR Input, and there is no need for an edge
detection. The interrupt request must be removed
before the EOI command is issued or the CPU interrupt
is enabled to prevent a second interrupt from occurring.
If

‘

1

FOLLOW
HOLD

,’

The above figure shows a conceptual circuit to give the
reader an understanding of the level sensitive and edge
sensitive input circuitry of the 8259A. Be sure to note
that the request latch is a transparent D type latch.

Mask Register 8-bit register which contains
the interrupt request lines which are masked.

Interrupt

The IRR can be read when, prior to the RD pulse, a
Read Register Command is issued with OCW3 (RR = 1
RIS = 0).

The ISR can be read when, prior to the RD pulse,
a Read Register Command is issued with OCW3 (RR =
1,

RIS = 1).

There is no need to write an OCW3 before every status
read operation, as long as the status read corresponds

READING THE 8259A STATUS
The input status of several internal registers can be
read to update the user information on the system.
The following registers can be read via OCW3
(IRR and ISR or OCW1 (IMR).
Interrupt Request Register (IRR): 8-bit register

updated when an End of Interrupt command is issued.

which

contains the levels requesting an interrupt to be
acknowledged. The highest request level is reset from
the IRR when an interrupt is acknowledged. (Not
affected by IMR).

with the previous one; i.e., the 8259A “remembers'’
whether the IRR or ISR has been previously selected by
the OCW3. This is not true when poll is used
After initialization the 8259A is set to IRR.

For reading the IMR, no OCW3 is needed. The output
data bus will contain the IMR whenever RD is active and

AO = 1 (OCW1).
Polling overrides status read

OCW3.

6-144

when P =

1,

RR =

i

in

8259A/8259A-2/8259A-8
SUMMARY OF 8259A INSTRUCTION SET
Inst. «

Mnemonic

02

03

04

05

D6

07

AO

'-V.

*
Operation Description

DO

01

ICW1

A

0

A7

A6

A5

1

0

1

1

0

2

ICW1

B

0

A7

A6

A5

1

1

1

1

0

«?/
f

A5

0

.

...

4

ICW1

C
D

5

ICW1

E

0

A7

A6

0

1

0

0

1

0

6

ICW1

F

0

A7

A6

0

1

1

0

1

0

Format = 8, single, level triggered

ICW1

G

0

A7

A6

0

1

0

0

0

0

Format = 8 not single, edge triggered

7

ICW1

H

0

A7

A6

0

1

1

0

0

0

Format » 8 not single, level triggered

3

8

ICW1

0
0

A7

A6

A5

1

1

1

0

0

1

1

Format = 4. not single, level triggered

9

ICW1

0

A7

A6

A5

1

0

1

1

1

1

ICW1

J

0

A7

A6

A5

1

1

1

1

1

11

ICW1

K

Format = 8 single, edge triggered

No ICW4 Required

,

,

.

Format = 4. single, edge triggered

10

Format = 4, single, level triggered

0

A7

A6

A5

1

0

1

0

1

A7

A6

A5

1

1

1

0

1

Byte 1 Initialization

Format = 4 no t single, edge triggered

ICW4 Required

Format = 4. not single, level triggered
Format * 8 single, edge triggered

12

ICW1

L

0

13
14

ICW1
ICW1

M

0
0

A7
A7

A6
A6

0
0

1

0

0

1

1

N

1

1

0

1

1

Format = 8 single, level triggered

ICW1

0

0

A7

A6

0

1

0

0

0

1

Format = 8 not single, edge triggered

15

ICW1

P

0

A7

A6

0

1

0

0

1

Formates, not single, level triggered

16

1

17

ICW2
ICW3

M

18

,

.

.

A15 A14 A13 A12 All A10
S2
S3
S5
S4
S6
S7

A9

A8

Byte 2 initialization

SI

SO

Byte 3 initialization

1

SI

SO

Byte 3 initialization

1

— master
— slave

19

ICW3

S

1

0

0

0

0

0

S2

20

ICW4

A

1

0

0

0

0

0

0

0

0

No action, redundant

0

1

Non-buffered mode, no AEOI, 8086/8088

21

ICW4

B

1

0

0

0

0

0

0

22

ICW4

C

1

0

0

0

0

0

0

1

0

Non-buffered mode, AEOI, MCS-80/85

23

ICW4

D

1

0

0

0

0

0

0

1

1

Non-buffered mode, AEOI, 8086/8088

24

ICW4

E

1

0

0

0

0

0

1

0

0

No action, redundant

25

ICW4

F

1

0

0

0

0

0

1

0

1

Non-buffered mode, no AEOI, 8086/8088

26

ICW4

G

1

0

0

0

0

0

1

1

0

Non-buffered mode, AEOI. MCS-80/85

1

1

1

Non-buffered mode, AEOI, 8086/8088

27

ICW4

H

1

0

0

0

0

0

28

ICW4

1

0

0

0

0

1

0

0

0

Buffered mode, slave, no AEOI, MCS-80/85

1

29

ICW4

J

1

0

0

0

0

1

0

0

1

Buffered mode, slave, no AEOI, 8086/8088

30

ICW4

K

1

0

0

0

0

1

0

1

0

Buffered mode, slave, AEOI, MCS-80/85

31

ICW4

L

1

0

0

0

0

1

0

1

1

Buffered mode, slave. AEOI, 8086/8088

32

ICW4

M

1

0

0

0

0

1

1

0

0

Buffered mode, master, no AEOI, MCS-80/85

33

ICW4

N

1

0

0

0

0

1

1

0

1

Buffered mode, master, no AEOI, 8086/8088

34

ICW4

0

1

0

0

0

0

1

1

1

0

Buffered mode, master, AEOI, MCS-80/85

35

ICW4

P

1

0

0

0

0

1

1

1

1

Buffered mode, master AEOI, 8086, 8088

ICW4

NA
NB
NC
ND

1

0

0

0

1

0

0

0

0

Fully nested mode, MCS-80, non buffered, no AEOI

1

0

0

0

1

0

0

0

1

1

0

0

0

1

0

0

1

0

36
37

ICW4

38

ICW4

39

ICW4

40

ICW4

NE
NF

1

0

0

0

1

0

0

1

1

1

0

0

0

1

0

1

0

0

1

0

0

0

1

0

1

0

1

1

0

0

0

1

0

1

1

0

1

0

0

0

1

0

1

1

1

0

0

1

1

0

0

0

41

ICW4

42

ICW4

43

ICW4

NG
NH

44

ICW4

Nl

1

0

45

ICW4

NJ

1

0

0

0

1

1

0

0

1

46

ICW4

NK

1

0

0

0

1

1

0

1

0

47

ICW4

NL

1

0

0

0

1

1

0

1

1

48

ICW4

NM

1

0

0

0

1

1

1

0

0

49

ICW4

0

0

0

1

1

1

0

1

ICW4

NN
NO

1

50

1

0

0

0

1

1

1

1

0

51

ICW4

NP

52

OCW1
OCW2
OCW2
OCW2
OCW2
OCW2
OCW2
OCW2

53
54

55
56
57

58

59

60
6J

ICW4 NB through ICW4 ND are identical to
ICW4 B through ICW4 D with the addition of
Fully Nested Mode
Fully Nested Mode. MCS-80/85. non-buffered, no AEOI

ICW4 NF through ICW4 NP are identical to
ICW4 F through ICW4 P with the addition of
Fully Nested Mode

1

0

0

0

1

1

1

1

1

1

M7

M6

M5

M4

M3

M2

Ml

MO

Load mask register, read mask register

E

0

0

0

1

0

0

0

0

0

Non-specific EOI

SE

0

0

1

1

0

0

L2

LI

LO

Specific EOI, L0-L2 code of IS FF to be reset

RE

0

1

0

1

0

0

0

0

0

Rotate on Non-Specific EOI

RSE

0

1

1

1

0

0

L2

LI

LO

Rotate on Specific EOI L0-L2 code of line

R

0

1

0

0

0

0

0

0

0

Rotate in Auto EOI (set)

0

Rotate in Auto EOI (clear)

CR

0

0

0

0

0

0

0

0

RS

0

1

1

0

0

0

L2

LI

LO

Set Priority Command

OCW3 P
OCW3 RIS

0

0

0

0

0

1

1

0

0

Poll mode

0

0

0

0

0

1

0

1

1

Read IS register

6-145

9
*

.

Pa.

*:^p*i
**

Format = 4, not single, edge triggered;,,

Byte 1 Initialization

0

0

.

Format = 4, single, level trtggerdtt;,
.

A6

'

Format = 4, single,' edije triggered

1

A7

or.,

•

v>

p*

%

Cascading

The 8259A can be easily interconnected in a system
of
one master with up to eight slaves to handle up

to relea se the device routine address during
bytes 2
and 3 of INTA. (Byte 2 only for 8086/8088).

The

to 64

cascade bus lines are normally low and will contain
the s lave address code from the trailing edge of the first

A typical MCS-80/85 system is shown in Figure 2. The

INTA pulse to the trailing edge of the third pulse It is
obvious that each 8259A in the system must follow a
separate initialization sequence and can be pro-

priority levels.

master controls, through the 3 line cascade bus, which

one

of

the

slaves

will

release

the

corresponding

grammed to work in a different mode. An EOI command

address.

must be issued twice: once for the master and once for
the corresponding slave. An address decoder is required

As shown in Figure 2, the slave interrupt outputs are

to activate the Chip Select (C5) input of each

connected to the master interrupt request inputs. When
a slave request line is activated and afterwards acknowl-

edged, the master will enable the corresponding slave

8259A.

The cascade lines of the Master 8259A are activated for
any interrupt input, even if no slave is connected to that
input.

8259A/8259A-2/8259A-8
PIN FUNCTIONS
NAME
<oo

GND
CS

FUNCTION

I/O

PIN#

1

28

+5v supply

1

14

Ground

1

1

NAME

I/O

INT

0

*:j r
;
This pin goes high 'whenever fM.fijr:;

Interrupt:

valid interrupt request is

Chip Select
A low on this pin enables RD
and WR communication between the CPU and the 8259A.
INTA functions are independent

the CPU, thus it is connected to
the CPU’s interrupt pin.

18-25

IR 0 -IR 7

I

I

INTA

I

Write:

2

A low on this pin when CS is
low, enables the 8259A to accept command words from the
CPU.

RD

I

Read:

3

A low on this pin when CS is low
enables the 8259A to release

Interrupt Acknowledge:

26

is used to enable
8259A interrupt-vector data

This pin

status onto the data bus for the

onto the data bus. This is done
by a sequence of interrupt acknowledge pulses issued by

CPU.

D 7 -D 0

I/O

Bidirectional Data Bus:
Control, status and interrupt-

4-11

the CPU.

vector information is transferred via this bus.

CAS 0 -CAS 2

I/O

12,13,15

I

AO Address Line:

27

This pin acts in conjunction with

the CS, WR, and RD pins. It is
used by the 8259A to decipher

Cascade Lines:
The CAS lines form a private
8259A bus to control a multiple
8259A structure. These pins
are outputs for a master 8259A

between various Command
Words the CPU writes and status the CPU wishes to read. It

and inputs for a slave 8259A.

$p/EN

I/O

is

When in

the Buffered

Mode

typically

connected to the

CPU AO address line (A 1 for

Slave Program /Enable Buffer:
This is a dual function pin.

16

Interrupt Requests:

Asynchronous inputs. An interrupt request can be generated
by raising an IR input (low to
high) and holding it high until it
is acknowledged (Edge Triggered Mode), or just by a high
level on an IR input (Level Triggered Mode).

of CS.

WR

arsr,

8086/8088).

it

can be used as an output to
control buffer transceivers
(EN). When not in the buffered

mode

it is used as an input to
designate a master (SP =1) or
slave (SP =0).

ABSOLUTE MAXIMUM RATINGS*
Ambient Temperature Under Bias
Storage Temperature
Voltage On Any Pin
With Respect to Ground
Power Dissipation

-40°Cto85°C
-65 9 C to + 150°C

*

COMMENT

Stresses above those listed under “Absolute Maximum Ratings may
cause permanent damage to the device. This is a stress rating only and
functional operation of the device at these or any other conditions above

- 0.5V to + 7V
1

those indicated in the operational sections of this specification is not

Watt

implied.

D.C. CHARACTERISTICS
T a = 0*C to 70°C, V CC = 5V ± 10% (8259-A), V CC =5V±10% (8259A)
Symbol
V| L

Parameter
Input Low Voltage

Min.

Max.

Test Conditions

Units

-.5

V

2.0

V CC +-5V

V

.45

V

V, H

Input High Voltage

V0L

Output Low Voltage

V0H

Output High Voltage

2.4

V

Iqh = “ 400 jiA

Interrupt Output High

3.5

c

2.4

V

Ioh = — 100 pA
Iqh = “ 400 fiA

V OH(INT)

Voltage

l

0L = 2.2 mA

Input Load Current

10

hA

V|N = V CC t0 ° V

Output Leakage Current

-10

mA

Ilol

V 0UT = 0.45 V

Ice

V cc Supply Current

1

1

LI

LIR

85

mA

-300

hA

< z II o

10

MA

< z II < o o

IR Input Load Current

6-147

**
,

,

T'

£

8259A/8259A-2/8259A-8

SfUtytt*
7*
•//» -

82 59 A A.C. CHARACTERISTICS

v

T*= 0*C to 70*C V CC = 5V±5% (8259A-8)

itsthP'
*9 -if
h

»

*9‘

/«*

4

V CC = 5V± 10% (8259A)

TIMING REQUIREMENTS

Symbol

8259A-8

Parameter

TAHRL

8259A

8259A-2
Test Conditions

Units
Min.

AO/CS Setup to RD/INTAj

Max.

Max.

Min.

50

0

Min.

Max.

•4 *

0

ns
ns

TRHAX

AO/CS Hold after RD/INTAj

5

0

0

TRLRH

RD Pulse Width

420

235

160

ns

TAHWL

AO/CS Setup to WR]

50

0

0

ns

-

TWHAX

AO/CS Hold after WR[

20

0

0

ns

TWLWH
TDVWH

WR Pulse Width

400

290

190

ns

Oata Setup to WRJ

300

240

160

ns

TWHDX

Data Hold after WRj

40

0

0

ns

Interrupt Request Width (Low)

100

100

100

ns

55

55

40

ns

TJLJH
TCVIAL

Cascade Setup to Second or Third
iNTA[ (Slave Only)

TRHRL

End of RD to Next Command

160

160

160

ns

TWHRL

End of WR to Next Command

190

190

190

ns

See Note

i

TIMING RESPONSES

Symbol

8259A-8

Parameter

8259A-2
Test Conditions

Units
Min.

TRLDV

8259A

Data Valid from RD/INTAj

Max.

Max.

Min.

300

Min.

200

Max.
120

C

ns

of

Data Bus

=

100 pF

TRHDZ

Data Float after RD/INTA]

10

___i

TJHIH

TIAHCV

Interrupt Output Delay

200

100

85

ns

400

350

300

ns

565

565

360

ns

C|NT =

^CASCADE “ 100 pF

C of Data Bus
Max text C = 100 pF
Min. test C = 15 pF

Cascade Valid from First INTAj
(Master Only)

TRLEL

Enable Active from RDj or INTAj

160

125

100

ns

TRHEH

Enable Inactive from RDf or INTAj

325

150

d 150

ns

TAHDV

Data Valid from Stable Address

350

200

200

ns

TCVDV

Cascade Valid to Valid Data

300

300

200

ns

L

PF

-

CAPACITANCE
T a = 2S‘C; V cc =GNO = OV
Symbol

Parameter

Max.

Unit

C)N

input Capacitance

10

PF

Ci o

I/O Capacitance

20

PF

Min.

Typ.

Input and Output Waveforms for A.C. Tests

6-148

Test Conditions
fc =

1

MHz

Unmeasured pins returned to V ss

inter
8282/8283

OCTAL LATCH
Fully Parallel 8-Bit Data Register and

3-State Outputs

Buffer

Transparent during Active Strobe
20-Pin Package with 0.3” Center

Supports 8080, 8085, 8048, and 8086

Systems
High Output Drive Capability for

No Output Low Noise when Entering

Driving System Data Bus

or Leaving High Impedance State

The 8282 and 8283 are 8-bit bipolar latches with 3-state output buffers. They can be used to implement latches, buffers,
or multiplexers. The 8283 inverts the input data at its outputs while the 8282 does not. Thus, all of the
principal peripheral and input/output functions of a microcomputer system can be implemented with these
devices.

6-150

8282/8283
DO0-DO7

PIN DEFINITIONS
STB

data in ttf©'<data iStaf^.jts.prepprt-Vuft^l
sented as Inverted (8283)
oufout'jWas.*'
data
the
onto
data
(8282)
true, the

(8282)

Description

DO 0-DO 7

STROBE (Input). STB is an input control

(8283)

Pin

When OE is

DATA OUTPUT PINS

pulse used to strobe data at the data input
pins (A 0 -A 7) into the data latches. This
signal

is

active HIGH to admit input data.

OPFRATIONAL DESCRIPTION

The data is latched at the HIGH to LOW
transition of STB.

The 8282 and 8283 octal latches are 8-bit latches with

OUTPUT ENABLE (Input). 5E is an input

OE

control

signal

3-state output buffers. Data having satisfied the setup
time requirements is latched into the data latches by

LOW

which when active

these pins satisfying setup time requirements when STB is strobed and

strobing the STB line HIGH to LOW. Holding the STB
appear
line in its active HIGH state makes the latches
transparent. Data is presented to the data output pins by
HIGH
activating the OE input line. When OE is inactive
the output buffers are in their high impedance state.
Enabling or disabling the output buffers will not cause
negative-going transients to appear on the data output

latched into the data input latches.

bus.

enables the contents of the data latches
onto the data output pin (B 0 -B 7 ). OE being
inactive HIGH forces the output buffers to
their high impedance state.

DATA INPUT PINS (Input). Data presented

DI 0 -DI 7

at

D.C. AND OPERATING CHARACTERISTICS

ABSOLUTE MAXIMUM RATINGS*
Temperature Under Bias.
Storage Temperature
All Output and Supply Voltages
All Input Voltages

•
COMMENT Stresses above those listed under “Absolute Maximum
is a stress
Ratings” may cause permanent damage to the device. This
these or any other
rating only and functional operation of the device at
of this
conditions above those indicated in the operational sections
rating conis not implied. Exposure to absolute maximum

0°Cto 70°C
— 65 °C to + 150°C
- 0.5V to + 7V
- 10V to + 5.5V

Power Dissipation

1

specification

ditions for extended periods may affect device reliability.

Watt

D.C. CHARACTERISTICS FOR 8282/8283
Conditions: V CC = 5V±5%, T A =0"C to 70°C
Units

Input Clamp Voltage

-1

V

Ice

Power Supply Current

160

-0.2

V F = 0.45V

If

Forward Input Current

mA
mA

50

mA

V R = 5.25V

0.50

V

l

V

|

Parameter

VC

•r

Notes:

Test Conditions

Max

Symbol

Min

—

Reverse Input Current

VOL

Output Low Voltage

V0H

Output High Voltage

IOFF

Output Off Current

VlL

Input Low Voltage

V|H

Input High Voltage

C|N

Input Capacitance

1. Output Loading Iql

2-4

2.0

12

= 32 mA 'OH= ~ 5 mA C L = 300pF
-

’

6-151

-5 mA

OL = 32 mA

0 h = — 5 mA

Vqff = 0-45 to 5.25V

±50
0.8

c =

l

V

V Cc = 5-0V

V

Vqc = 5.0V See Note
F = 1 MHz
V B ias = 2.5V, V CC =5V
T A = 25°C

PF

See Note 1
1

...

8282/8283 TIMING

1. 8283 ONLY - OUTPUT MAY BE MOMENTARILY INVALID
FOLLOWING THE HIGH GOING STB TRANSITION.
ALL TIMING MEASUREMENTS ARE MADE AT 1.5V UNLESS OTHERWISE NOTED

NOTE:
2.

6-152

8282/8283

OUTPUT TEST LOAD CIRCUITS

2.14V

£ 52.7Q
OUTO-

OUT O300 pF

3-STATE TO V 0 L

^

300 pF

3 STATE TO Vqh

4 300
=

SWITCHING

[

8

Intel
8286/8287

OCTAL BUS TRANSCEIVER
Data Bus Buffer Driver for MCS-86™,

3-State Outputs

MCS-80™, MCS-85™, and MCS-48™
Families
20-Pin Package with 0.3” Center

High Output Drive Capability for
Driving System Data Bus

No Output Low Noise when Entering
or Leaving High Impedance State

Fully Parallel 8-Bit Transceivers

The 8286 and 8287 are 8-bit bipolar transceivers with 3-state outputs. The 8287 inverts the input data at its outputs
while the 8286 does not. Thus, a wide variety of applications for buffering in microcomputer systems can be met.

PIN CONFIGURATIONS

LOGIC DIAGRAMS

6-154

8286/8287
B 0 -B 7

PIN DEFINITIONS

(8286)

Description

Pin

B^-b 7

TRANSMIT (Input). T is an input control

T

(8287)

SYSTEM BUS DATA PINS (Input/Output).
These pins serve to either present data to
or accept data from the system bus depending upon the state of the T pin.

signal used to control the direction of the

transceivers. When HIGH, it configures the

transceiver’s B 0 -B 7 as outputs with A 0 -A 7

as inputs. T LOW configures A 0 -A 7 as the
outputs with B 0 -B 7 serving as the inputs.

OUTPUT ENABLE (Input). OE is an input

<5E

control signal used to enable the appropri-

ate output driver (as selected by T) onto its
respective bus. This signal is active LOW.

LOCAL BUS DATA PINS (Input/Output).
These pins serve to either present data to

A 0 -A 7

or accept data from the processor’s local
bus depending upon the state of the T pin.

OPERATIONAL DESCRIPTION
The 8286 and 8287 transceivers are 8-bit transceivers
with high impedance outputs. With T active HIGH and
OE active LOW, data at the A0-A7 pins isdriven onto the
B 0 -B 7 pins. With T inactive LOW and OE active LOW,
data at the B 0 -B 7 pins is driven onto the A 0 -A 7 pins. No
output low glitching will occur whenever the transceivers are entering or leaving the high impedance
state.

D.C. AND OPERATING CHARACTERISTICS

ABSOLUTE MAXIMUM RATINGS*
Temperature Under Bias
Storage Temperature
All Output and Supply Voltages

0°C to 70 °C

-65°C to + 150°C

Input Voltages
Power Dissipation

All

- 0.5V to + 7V
- 1 .0V to + 5.5V
1

*

COMMENT Stresses above those listed under "Absolute Maximum
stress

Ratings” may cause permanent damage to the device. This is a
or any other
rating only and functional operation of the device at these
this
conditions above those indicated in the operational sections of
specification is not implied. Exposure to absolute maximum rating conditions for extended periods may affect device reliability.

Watt

D.C, CHARACTERISTICS FOR 8286/8287
v
±5%, T A* = 0°Cto70°C
Conditions: V cc = 5V
r

Symbol

’

Min

Parameter
Input Clamp Voltage

Vc

Max

Test Conditions

Units

c = -5 mA

-1

V

130
160

V F = 0.45V

l

-0.2

If

Forward Input Current

E<
E<
mA

iR

Reverse Input Current

50

mA

V R = 5.25V

VOL

Output Low Voltage

— B Outputs

0.5
0.5

V
V

Iql = 32

—A Outputs

•cc

> OX

Power Supply Current— 8287

-8286

Output High Voltage

!off

Output Off Current
Output Off Current

Vil

Input Low Voltage

'off

V|H

C|N

Note:

1.

— B Outputs

2.4

—A Outputs

2.4

V
V

I

l

Ir

—A Side

0.8

— B Side

0.9
2.0

12

Input Capacitance

mA

0L = 10 mA

oh = -5 mA
0H = -1 mA

V 0FF = 0.45V
V OFF = 5.25V

If

Input High Voltage

V
V

V cc = 5.0V, See Note 1
V cc = 5.0V, See Note 1

V

V Cc = 5.0V, See Note 1

pF

F = 1 MHz
V BIAS = 2.5V, V CC =5V

T A =25‘C

B Outputs - Iql 21 32 mA IOH = - 5mA C L =300 pF
'

l

<

A Outputs

- Iql = 10 mA 'OH = - mA C L= 100 P F
1

<

-

8286/8287
A.C. CHARACTERISTICS FOR 8286/8287
Conditions: V cc = 5V ±5%, T A = 0Xto70°C
Loading: B Outputs
0L = 32 mA, 0H = - 5 mA, C L = 300 pF
A Outputs
0L = 10 mA, 0H = - 1 mA, C = 100 pF

-

Symbol

TIVOV

l

l

l

l

Parameter

L

Min

Inverting

Non-Inverting

TEHTV

Transmit/Receive Hold Time

TTVEL

Transmit/Receive Setup

TEHOZ

Output Disable Time

TELOV

Output Enable Time

Note:

1

Max

Units

Test Conditions

25
35

ns
ns

(See Note 1)

Input to Output Delay

TEHOZ

ns

30

ns

10

25

ns

50

ns

See waveforms and test load circuit on following page

8286/8287 TIMING

NOTE: 1. ALL TIMING MEASUREMENTS ARE MADE AT 1.5V UNLESS OTHERWISE NOTED.

6-156

8286/8287

OUTPUT DELAY VS. CAPACITANCE

SEC

N
DELAY

200

400

600

800

1

200

000

400

600

TEST LOAD CIRCUITS

3-STATE TO V 0 L

B OUTPUT

3 STATE TO Vql

A OUTPUT

3 STATE TO Voh

3 STATE TO V 0 H

B OUTPUT

A OUTPUT

6-157

B OUTPUT

A OUTPUT

8041 A/8641 A/8741

UNIVERSAL PERIPHERAL INTERFACE
8-BIT MICROCOMPUTER
8-Bit CPU plus ROM, RAM, I/O, Timer

Fully Compatible with MCS-48™,

and Clock in a Single Package

MCS-80™, MCS-85™, and MCS-86™

One 8-Bit Status and Two Data Regis-

Microprocessor Families

ters for Asynchronous Slave-to-Master

Interchangeable ROM and EPROM
Versions

Interface

* 3 6 MHz 8741A 8 Available
'

DMA, Interrupt, or Polled Operation

Expandable I/O

Supported
"

1024 x 8 ROM/EPROM, 64 x 8 RAM,
8-Bit Timer/Counter, 18 Programmable

RAM Power D °wn Capability
Over 90 Instructions: 70% Single Byte

I/O Pins

Single 5V Supply

The Intel® 8041A/8741A is a general purpose, programmable interface device designed for use with a variety of 8-bit
microprocessor systems. It contains a low cost microcomputer with program memory, data memory, 8-bit CPU, I/O
ports, timer/counter, and clock in a single 40-pin package. Interface registers are included to
enable the UPI device to
function as a peripheral controller in MCS-48™, MCS-80™, MCS-85™, MCS-86™, and other 8-bit systems.

The UPI-41A™ has IK words of program memory and 64 words of data memory on-chip. To allow full user flexibility the
program memory is available as ROM in the 8041A version or as UV-erasable EPROM in the 8741 A version. The 8741A
and the 8041 A are fully pin compatible for easy transition from prototype to production level designs. The 8641 A is a
one-time programmable (at the factory) 8741A which can be ordered as the first 25 pieces of a new 8041A order. The
substitution of 8641 A’s for 8041 A’s allows for very fast turnaround for initial code verification and evaluation
results.
The device has two 8-bit, TTL compatible I/O ports and two test inputs. Individual port lines can function as either inputs or outputs under software control. I/O can be expanded with the 8243 device which is directly compatible
and has
16 I/O lines. An 8-bit programmable timer/counter is included in the UPI device for generating timing
sequences or
counting external inputs. Additional UPI features include: single 5V supply, low power standby mode (in the
8041 A),
single-step mode for debug (in the 8741A), and dual working register banks.
Because it s a complete microcomputer, the UPI provides more flexibility for the designer than conventional LSI interface devices. It is designed to be an efficient controller as well as an arithmetic processor. Applications
include keyboard scanning, printer control, display multiplexing and similar functions which involve interfacing
peripheral
devices to microprocessor systems.
PIN CONFIGURATION

BLOCK DIAGRAM

6-158

8202

DYNAMIC RAM CONTROLLER
Provides All Signals Necessary toControl 2104A, 2117, or 2118 Dynamic

Provides Transparent Refresh Capability

Memories
Directly Addresses and Drives Up to
128K Bytes Without External Drivers

Fully Compatible with Intel""

8080A,

8085A and 8086 Microprocessors
Decodes 8085A Status for Advanced
Read Capability

Provides Address Multiplexing
and Strobes
Provides a Refresh Timer and a
Refresh Counter
Refresh Cycles May be Internally or

Provides System Acknowledge and
Transfer Acknowledge Signals

Externally Requested

Internal or External Clock Capability

6-159

^
PROGRAMMABLE

8251

COMMUNICATION INTERPA<fte/j
—

Asynchronous Baud Rate — DC Io.^^J*
r
19.2K Baud
**t?

Synchronous and Asynchronous
Operation

Full Duplex,

Synchronous 5-8 Bit Characters;

i

Internal or External Character Synchronization; Automatic Sync Insertion

*?

Double Buffered, Trans-

mitter and Receiver
Error Detection

— Parity, Overrun and

Framing

Asynchronous 5-8 Bit Characters;
Clock Rate— 1, 16 or 64 Times Baud

Fully Compatible with 8080/8085 CPU

Rate; Break Character Generation; 1,
IVz, or 2 Stop Bits; False Start Bit

28-Pin DIP Package

Detection; Automatic Break Detect
and Handling.

All Inputs and Outputs are TTL

Compatible

Synchronous Baud Rate — DC to 64K
Baud

" Smgle

+ 5V Su PP*y

Single TTL Clock

The Intel* 8251A is the enhanced version of the industry standard, Intel*

8251 Universal Synchronous/Asynchronous
Receiver/Transmitter (USART), designed for data communications with
Intel’s new high performance family of
microprocessors such as the 8085. The 8251 A is used as a peripheral device
and is programmed by the CPU to operate
using virtually any serial data transmission technique presently in
use (including IBM “bi-sync”). The USART accepts
data characters from the CPU in parallel format and then converts
them into a continuous serial data stream for
S
SS
S Ul ne° US y '* Can receive serial da1a streams and convert them
into parallel data characters for the
^d?|
nT will
-M
CPU. xL
The n2*
USART
signal the CPU whenever it can accept a new character for
transmission or whenever it has
received a character for the CPU. The CPU can read the complete
status of the USART at any time. These include data
transmission errors and control signals such as SYNDET, TxEMPTY.
The chip is constructed using N-channel silicon
gate technology.
’

!

PIN CONFIGURATION
j

1

w

2

1

BLOCK DIAGRAM

P°
a5D
26
p
2b J rIc
24 D DTM

”?h"

'i

3
I

1 5

b

8251

22

j

TxC [
vvr

r

!

P

DSR

8

21

RESET

9

20

CLK

i°

19

11

18

1

1?

17

13

16

(P -S)

RTS

73

1
7

TRANSMIT
BUFFER

xO

READ/WRITE

P T.EMPTY

CONTROL

T

LOGIC

TRANSMIT

CONTROL

CTS

1

15

L!2

SYNDET. ’BD

P TxRDY

PIN NAMES

;

D; Do

Data Bus 18 hits!

CO

Control or Data is to be Written or He, id

DSR

Data Set Ready

DTR

Data Terminal Ready

SYNDETBD

Sync Detect;

Clock Pulse <TTU

RTS

Request to Send Duta

Reset

CTS

Clear to Send Data

Transmitter Clock

TxE

Transmitter Empty

1

RD

Read Data Command

WR

Write Data or Control Command

cs

Chip Enable

CLK
RESET
TxC
TxD
R*C
RxD

RxRDY
TxRDY

Break Detect

Transmitter Data
Receiver Clock
Receiver Data

MODEM
CONTROL

|

Vcc

*5 Volt Supply

INTERNAL

GND

Ground

DATA BUS

Receiver Ready lhas character lor 8080!

Transmitter Ready -ready for char from 8080:

6-160

RECEIVE

CONTROL

\

intJ
8253 / 8253-5

PROGRAMMABLE INTERVAL TIMER
Count Binary or BCD

MCS-85™ Compatible 8253-5
3 Independent 16-Bit Counters

Single

+ 5V Supply

DC to 2 MHz
24-Pin Dual In-Line Package

Programmable Counter Modes

microcomputer peripheral. It uses
The Intel® 8253 is a programmable counter/timer chip designed for use as an Intel
plastic DIP.
24-pin
in
a
packaged
and
is
supply
+5V
single
a
with
nMOS technology
of
16-bit counters, each with a count rate of up to 2 MHz. All modes
It is organized as 3 independent
ware programmable.

BLOCK DIAGRAM

PIN CONFIGURATION

d7 l

i

D6 C

2

DS C

3

D4 C

4

03 C

5

D2 C

6

D,C

7

18

O0 C

8

17

CLKOC
OUTOC

8

GATE 0 C

11

GNDC

12

10

A
D,7 D u° <

N/

rvl
8

data

COUNTER

BUS

-0

V\ BUFFER

JCLK2
3 OUT 2
16 3 GATE 2
15 DCLK
14 Dgate
13 DOUT
1

1

1

PIN NAMES
D ? Do
CLK N

GATE N
OUT N
RD

WR
cs
Aa A i

CONTROL

DATA BUS (8 BIT)
COUNTER CLOCK INPUTS
COUNTER GATE INPUTS
COUNTER OUTPUTS
READ COUNTER
WRITE COMMAND OR DATA

WORD
register

CHIP SELECT

vcc

COUNTER SELECT
*5 VOLTS

GND

GROUND

operation are soft-

INTERNAL BUS

6-161

8255A/8255A-5

PROGRAMMABLE PERIPHERAL INTERFACE
MCS-85™ Compatible 8255A-5

Direct Bit Set/Reset Capability Easing

24 Programmable I/O Pins

Control Application Interface

Completely TTL Compatible

40-Pin Dual In-Line Package

Fully Compatible with Intel® Microprocessor Families

Reduces System Package Count

Improved Timing Characteristics

Improved DC Driving Capability

The Intel® 8255A is a general purpose programmable I/O device designed for use with Intel® microprocessors.
It has
24 I/O pins which may be individually programmed in 2 groups of 12 and used in 3 major modes
of operation. In the first
mode (MODE 0), each group of 12 I/O pins may be programmed in sets of 4 to be input or output. In MODE 1, the second
mode, each group may be programmed to have 8 lines of input or output. Of the remaining 4 pins, 3 are used
for handshaking and interrupt control signals. The third mode of operation (MODE
2) is a bidirectional bus mode which uses 8
lines for a bidirectional bus, and 5 lines, borrowing one from the other group, for handshaking.

PIN CONFIGURATION

8255A BLOCK DIAGRAM

PIN NAMES
D,-O 0

RESET

DATA BUS IBI DIRECTIONAL!
RESET INPUT
CHIP SELECT

RD

READ INPUT

w5

WRITE INPUT
PORT ADDRESS
PORT A (BIT)
PORT B (BIT)
PORT C (BIT)
* VOLTS
f VOLTS

AO, A1

PA7 PAO

PB7PB0
PC7-PCC

Vcc

QND

6-162

8271

...

PROGRAMMABLE FLOPPY DISK CONTROLLERS
IBM 3740 Soft Sectored Format Compatible

Internal CRC Generation and Checking

Programmable Record Lengths

Programmable Step Rate, Settle-Time, Head
Load Time, Head Unload Index Count

Multi-Sector Capability
Fully MCS-80™ and MCS-85™ Compatible

Maintain Dual Drives with Minimum Software
Overhead Expandable to 4 Drives

Single

+ 5V Supply

Automatic Read/Write Head Positioning and
40-Pin Package

Verification

The Intel® 8271 Programmable Floppy Disk Controller (FDC) is an LSI component designed to interface one to 4 floppy
disk drives to an 8-bit microcomputer system. Its powerful control functions minimize both hardware and software
overhead normally associated with floppy disk controllers.

BLOCK DIAGRAM

PIN CONFIGURATION
Vcc

LOW CURRENT
LOAD HEAD
DIRECTION

STATUS REG

COMMAND REG.

SEEK /STEP

RESULT REG

PARAMETER REG

WR ENBLE

RESET

INDEX

WR PROTECT
READY 0
TRKO
COUNT OPI

DATA BUS
BUFFER |
I

WR DATA

RD DATA
OATA WINDOW

FAULT
UNSEP DATA

DATA WINDOW
PLO SS
CS

READY 0
READY 1
TRACK 0
COUNJ OPI

Dw
INSYNC
A,

INPUT

An

BUFFER

READ/
WRITE
/DMA

h

INDE X
-

WR PROTECT
FAULT

CONTROL

ORIVE
INTERFACE

LOGIC

CONTROLLER

PIN NAMES

SELECTO
SELECT 1

WR ENABLE

PLOtflNGLC SMOT

LOAO HEAO

OAT* WINDOW
OUSE PARA TCO DAI A

SEEK/STEP

FAULT

DIRECTION

WRITE OATA
COUNT, OPTIONAL INPUT

INTERNAL
DATA BUS

TRACK 0
WRITC PROTICT
INOCX
WRITE ENABLE
SEEK,’STEP

DIRECTION

LOAD HEAD
LOW CURRENT

CPU INTERFACE

6-163

LOW CURRENT
FAULT RESET/OPO

8272

SINGLE/DOUBLE DENSITY
FLOPPY DISK CONTROLLER
IBM Compatible in Both Single and

Data Transfers in DMA or Non-DMA

Double Density Recording Formats

Mode

Programmable Data Record Lengths:

Parallel Seek Operations on Up to Four

128, 256, 512, or 1024 Bytes/Sector

Drives

Multi-Sector and Multi-Track Transfer
Capability

Compatible with Most
Microprocessors Including 8080A,
8085A, and 8086

Drive Up to 4 Floppy Disks

—

Single Phase 8 MHz Clock

Data Scan Capability
Will Scan a
Single Sector or an Entire Cylinder’s
Worth of Data Fields, Comparing on a
Byte by Byte Basis, Data in the
Processor’s Memory with Data Read
from the Diskette

Single + 5 Volt Power Supply
Available in 40-Pin Plastic and CERDIP
Dual-in-Line Package

The 8272 is an LSI Floppy Disk Controller (FDC) Chip, which contains the circuitry and control functions for interfacing
a processor to 4 Floppy Disk Drives. It is capable of supporting either IBM 3740 single density format (FM), or IBM
System 34 Double Density format (MFM) including double sided recording. The 8272 provides control signals which
simplify the design of an external phase locked loop, and write precompensation circuitry. The FDC simplifies and
handles most of the burdens associated with implementing a Floppy Disk Interface.

6-164

itel
8273

PROGRAMMABLE HDLC/SDLC PROTOCOL
CONTROLLER
ILC Compatible
HDLC/SDLC

Programmable NRZI Encode/Decode

ivel Commands
Frame Level

N-Bit Reception Capability

Full Duplex, Half Duplex, or Loop

Digital Phase Locked Loop Clock

SDLC Operation

Recovery

Up to 64K Baud Transfers

Minimum CPU Overhead

Two User Programmable Modem

Fully Compatible with 8080/8085 CPUs

Control Ports

+ 5V Supply

Single

Automatic FCS (CRC) Generation and
Checking

40-Pin Package

The Intel® 8273 Programmable HDLC/SDLC Protocol Controller is a dedicated device designed to support the ISO/CCITT’s HDLC and IBM’s SDLC communication line protocols. It is fully compatible with Intel's new high performance
microcomputer systems such as the MCS-85™. A frame level command set is achieved by a unique microprogrammed
dual processor chip architecture. The processing capability supported by the 8273 relieves the system CPU of the low
level real-time tasks normally associated with controllers.

BLOCK DIAGRAM

PIN CONFIGURATION
FLAG DET

TxINT RESULT

COMMAND

RxINT RESULT

PARAMETER

TEST MODE

STATUS

Tx INT

RESULT

32

PA;

31

CO

30

CTS

29

TxD

25

J 32xCL K

24

CS

23

J OPLL

LOGIC

=>

<5
PIN NAMES
OBO-DB7 DATA BUS (8 BITS)
FLAg-bET FLAG DETECT
TxINT
TRANSMITTER INTERRUPT
CLK
CLOCK INPUT
RESET
RESET
TRANSMITTER DMA ACKNOWLEDGE
Tx DAtK
TxDRQ
TRANSMITTER DMA REQUEST

HD

READ INPUT

Wr

WRITE INPUT
RECEIVER DMA ACKNOWLEDGE
RECEIVER DMA REQUEST
RECEIVER INTERRUPT
COMMAND REGISTER SELECT AOORESS
DIGITAL PHASE LOCKED LOOP

Rx DACK

RxDRQ
Rx INT

A0-A1
Bpll

1

CHIP SELECT

CS
32xCLK
Rx D
Rx C

32 TIMES CLOCK

Vec

RECEIVER DATA
RECEIVER CLOCK
TRANSMITTER CLOCK
TRANSMITTER DATA
CLEAR TO SEND
CARRIER DETECT
GP INPUT PORTS
GP OUTPUT PORTS
REQUEST TO SEND
+5 VOLT SUPPLY

GND

GROUND

ITTc
T* D

|
1

CTS

CD
PA;-PA 4
P6) -pb 4
Rife

1

1

INTERNAL DATA BUS
CPU INTERFACE

6-165

intel
8275

PROGRAMMABLE CRT CONTROLLER
Programmable Screen and Character
Format
6 Independent Visual Field Attributes
11 Visual Character Attributes

Fully MCS-80™ and MCS-85™

Compatible
Dual Row Buffers

(Graphic Capability)

Programmable DMA Burst Mode

Cursor Control (4 Types)

Single

Light Pen Detection and Registers

40-Pin Package

+5V Supply

The Intel® 8275 Programmable CRT Controller Is a single chip device to interface CRT raster scan displays with
Intel® microcomputer systems. Its primary function is to refresh the display by buffering the information from main
memory and keeping track of the display position of the screen. The flexibility designed into the 8275 will allow simple
interface to almost any raster scan CRT display with a minimum of external hardware and software overhead.

PIN CONFIGURATION

BLOCK DIAGRAM

3 Vcc
3 LAo
38 3 LAi
37 3 LTEN
40

39

36

CHARACTER
COUNTER

RVV

VSP
D GPAl
33 3 GPAo

(2)_80 /J_
^OW BUFFERS

35

34

32

HLGT

BUFFER

31

IRQ

CONTROL

BUFFER
OUTPUT
CONTROL

CCLK

LER

LER

30
29

INPUT

UCC6

3 CC5
CC4
26
CC3
25
CC2
28

27

24

CCl

23

DCCo

DCS"
21 D Aq

LINE

COUNTER

ROW
COUNTER

22

READ/
WRITE/

DMA

(

K
,

CONTROL
LOGIC

RASTER TIMING

AND

PIN NAMES
DBo-i

ORQ T~
"BaCI
IRQ

m
WR
A0

BI-DIRECTIONAL DATA BUS
DMA REQUEST OUTPUT

LCo-3

DMA ACKNOWLEDGE INPUT

HRTC
VRTC
HLGT
RVV

INTERRUPT REQUEST OUTPUT
READ STROBE INPUT
WRITE STROBE INPUT
REGISTER ADDRESS INPUT

LAo

LTEN

CS

CHIP SELECT INPUT

VSP

CCLK

CHARACTER CLOCK INPUT
CHARACTER CODE OUTPUTS

GPAo-1
LPEN

CCO 6

LINE COUNTER OUTPUTS
LINE ATTRIBUTE OUTPUTS
HORIZONTAL RETRACE OUTPUT
VERTICAL RETRACE OUTPUT
HIGHLIGHT OUTPUT
REVERSE VIOEO OUTPUT
LIGHT ENABLE OUTPUT
VIOEO SUPPRESS OUTPUT
GENERAL PURPOSE ATTRIBUTE OUTPUTS

1

LIGHT PEN INPUT
,

VIDEO CONTROL

LIGHT PEN
REGISTERS

intel
8279/8279-5

PROGRAMMABLE KEYBOARD/DISPLAY INTERFACE
MCS-85™ Compatible 8279-5

Dual 8- or 16-Numerical Display

Simultaneous Keyboard Display
Operations

Single 16-Character Display

Scanned Keyboard Mode

Right or Left Entry 16-Byte Display

RAM

Scanned Sensor Mode
Strobed Input Entry Mode

Mode Programmable from CPU

8-Character Keyboard FIFO

Programmable Scan Timing

2-Key Lockout or N-Key Rollover with
Contact Debounce

Interrupt Output on Key Entry
for use with

The Intel® 8279 is a general purpose programmable Keyboard and display I/O interface device designed
to a 64-contact key matrix. The
Intel® microprocessors. The keyboard portion can provide a scanned interface
such as the hall effect and
keyboard,
interface
strobed
or
sensors
a
of
array
an
keyboard portion will also interface to
entries are debounced and strobed in
ferrite variety. Key depressions can be 2-key lockout or N-key rollover. Keyboard
the interrupt output
an 8-character FIFO. If more than 8 characters are entered, overrun status is set. Key entries set
line to the CPU.

display
The display portion provides a scanned display interface for LED, incandescent, and other popular
indicators. The 8279
technologies. Both numeric and alphanumeric segment displays may be used as well as simple
the CPU. Both
has 16X8 display RAM which can be organized into dual 16X4. The RAM can be loaded or interrogated by
right entry, calculator and left entry typewriter display formats are possible.

Both read and write of the display RAM

can be done with auto-increment of the display RAM address.

LOGIC SYMBOL

PIN CONFIGURATION
Rl 2 C

40

1

1

=)v cc

PIN NAMES

RLjC 2
clkC 3

39

DRLi

IP

JRLo

irqC

4

37

3CNTUSTB

Rl 4 C 5

36

D SHIFT

OBo,

D SL 3

CLK
RESET

RLsC 6

35

RL 6 C

7

34

D si 2

Rt/C

8

33

DSLi

w

wR

9

32

SL 0

AO

rDC

10

31

OUT B c

IRQ

DB ? C

14

3 OUT Bi
29 3 OUT B?
28 Dour b 3
27 DOUT Ao

08 3 C

lb

26

out Ai

db 4 C

16

2b

Dout a 2

db 5 C

1 /

24

OUT A 3

09 q C

12

DB,C

13

SLoa

30

db 6 C

18

23

oe 7 q

19

22

VssC

20

21

RL 0 ? (

DATA

resetC

wRC 11

IRQ

1

l

RESET INPUT
CHIP SELECT

l

READ INPUT

1

WRITE INPUT

l

1

1

OUTBo 3

0
0

SD

0

-

CNTL'STB

-

1

RETURN LINES

WR
CPU
interface
cs

SHIFT INPUT
1
'

CNTL.STB

OUT A o3

SHIFT

RD

BUFFER ADDRESS
INTERRUPT REQUEST OUTPUT
SCAN INES

1

0
O
l

SHIFT

BUS

OAT A BUS iBl OlRICMONAt:CLOCK INPUT

i.O

CONTROL 'STROBE INPUT
DISPLAY (At OUTPUTS
DISPLAY <BI OUTPUTS
BLANK DISPLAY OUTPUT

SL03

A0

out Ao 3

i>l

RESET

DISPLAY

Deo
-

CLK

>0

T
6-167

OUT B 03
BO

DATA

8291

GPIB TALKER/LISTENER
1- 8 MHz Clock Range

Designed to Interface Microprocessors
(e.g., 8080, 8085, 8086, 8048) to an
IEEE Standard 488 Digital Interface

16 Registers (8 Read, 8 Write), 2 for
Data Transfer, the Rest for Interface
Function Control, Status, etc.

Bus
Programmable Data Transfer Rate

Directly Interfaces to External Non-

Complete Source and Acceptor
Handshake

Inverting Transceivers for Connection
to the GPIB

Complete Talker and Listener
Functions with Extended Addressing
Clear, Device Trigger, Remote/Local

Provides Three Addressing Modes,
Allowing the Chip to be Addressed
Either as a Major or a Minor Talker/
Listener with Primary or Secondary

Functions

Addressing

Selectable Interrupts

DMA Handshake Provision Allows for

Service Request, Parallel Poll, Device

Bus Transfers without CPU Intervention

On-Chip Primary and Secondary
Address Recognition

Trigger Output Pin

Automatic Handling of Addressing and

On-Chip EOS (End of Sequence)
Message Recognition Facilitates

Handshake Protocol

Handling of Multi-Byte Transfers

Provision for Software Implementation
of Additional Features

The 8291 GPIB Talker/Listener is a microprocessor-controlled chip designed to interface microprocessors (e.g., 8048,
8080, 8085, 8086) to an IEEE Standard 488 Instrumentation Interface Bus. It implements all of the Standard’s interface
functions except for the controller.

PIN CONFIGURATION
TR/lC

=)VCC
E0i

TR/2C

TRIGC

NDAC
NRFD
DAV

DMA REQC
DMA ACKC

5157

CSC

Di£)6

CLOCK
RESET

Di08

DI05

RC/C

WTTC

intC

DOC
Die
D2C
D3C
D4C
D5C
D6C
D7C
vssC

BLOCK DIAGRAM

8291

DI04

6T03
DI02
oioi

SRO

atn
REN

i?c
RS2
RSI

RS0

6-168

8292

GPIB CONTROLLER

FEATURES:
Complete IEEE Standard 488 Controller

Complete Implementation of Transfer

Function.

Control Protocol.

Interface Clear (IFC) Sending Capability
Allows for Seizure of Control and/or
Initialization of the Bus.

Synchronous Control Seizure Prevents
the Destruction of any Data
Transmission in Progress.

Responds to Service Requests (SRQ).

Connects with the 8291 to Form a
Complete IEEE Standard 488 Interface

Sends (REN), Allowing Instruments to
Switch to Remote Control.

Talker/Listener/Controller.

The 8292 GPIB CONTROLLER is a microprocessor-controlled chip designed to connect with the 8291
GPIB TALKER/LISTENER to implement the full IEEE Standard 488 controller function, including transfer
m
control protocol. The 8292 is a pre-programmed UPI-41 aT

8291, 8292 SYSTEM DIAGRAM

PIN CONFIGURATION

IFCR C

i

^

vcc
COUNT

C
X2 C 3
RESET C 4
NC C 5

38

REN

37

DAV

36

iBFi

6

35

OBFI

QND C 7
RB C 6

34

EO?

33

SPI

Ao C 9

32

TCI

39

2

Xi

CS

WR C 10

8292
31

cic

11

30

C 12
Dl C 13
D2 C 14
D3 C 15
4 C 16

29

28

NC
ATNO
NC

27

CLTH

26

NC

25

NC

DSC 17

24

SYC

SYNC C
DO

C 18

23

IFC

D7C 19

22

ATRl

vss C 20

21

SRQ

De

6-169

8293

GPIB TRANSCEIVER

'

'-'V.

Power U p/Power Down Protection to
Prevent Disrupting the IEEE Bus

Nine Schmitt-type Line Receivers

High Capacitance Load Drive

Connects with the 8291 and 8292 to
Form an IEEE Standard 488 Interface
Talker/Listener/Controller with no

Capability

Single 5V Power Supply

Additional Components

28-Pin Package

Only Two 8293’s Required per GPIB

Low Power HMOS Design

Interface

The Intel® 8293 GPIB Transceiver is a high current, non-inverting buffer chip designed to interface the 8291 GPIB
Talker/Listener or the 8292 GPIB Controller with the 8291 to the IEEE Standard 488-1978 Instrumentation Interface
Bus. Each GPIB interface would contain two 8293 Bus Transceivers. In addition, the 8293 can also be used as a general
purpose bus driver.

8291, 8292, 8293 SYSTEM DIAGRAM

PIN CONFIGURATION

c7
TR2 c 2
EOI2 c 3
ATN2 c 4
DATA1 c 5
DATA2 c 6
DAT A3 c 7
DATA4 c 8
DATA5 c 9
DATA6 c 10
DATA7 c 11
BUS1 c 12
BUS2 L 13
QND c 14
TR1

^
8293

28

Vcc

27

OPTA

26

J OPTB

25

DATA10

24

DATA9

23

DATA8

22

BUS9

21

BUS8

20

GND

19

BUS7

18

BUS6

17

BUS5

16

BUS4

15

BUS3

6-170

x

*VtV i

48 mA Sink Current Capability on

Each Line Driver

it

***.

On-chip Decoder for Mode
Configuration

m Nine Open-collector or Three-state
Line Drivers

*

‘

1

if*.

is
8294

:

%

*
if/if

***'>
.

&{*?$

DATA ENCRYPTION UNIT
7-Bit User Output Port

Certified by National Bureau of
Standards

Single 5V

± 10% Power Supply

80 Byte/Sec Data Conversion Rate
Peripheral to MCS-86™, MCS*85™,
64-Bit Data Encryption Using 56-Bit

MCS-80™ and MCS-48™ Processors

Key
Implements Federal Information
Processing Data Encryption Standard

DMA Interface
3 Interrupt Outputs to Aid in Loading

Encrypt and Decrypt Modes Available

and Unloading Data

DESCRIPTION
The Intel® 8294 Data Encryption Unit (DEU) is a microprocessor peripheral device designed to encrypt and decrypt
64-bit blocks of data using the algorithm specified in the Federal Information Processing Data Encryption Standard.

The DEU operates on 64-bit text words using a 56-bit user-specified key to produce 64-bit cipher words. The operation
is reversible: if the cipher word is operated upon, the original text word is produced. The algorithm itself is permanently contained in the 8294; however, the 56-bit key is user-defined and may be changed at any time.

The 56-bit key and 64-bit message data are transferred to and from the 8294 in 8-bit bytes by way of the system data
bus. A DMA interface and three interrupt outputs are available to minimize software overhead associated with data
transfer. Also, by using the DMA interface two or more DEUs may be operated in parallel to achieve effective system
conversion rates which are virtually any multiple of 80 bytes/second. The 8294 also has a 7-bit TTL compatible output
port for user-specified functions.

Because the 8294 implements the NBS encryption algorithm it can be used in a variety of Electronic Funds Transfer
applications as well as other electronic banking and data handling applications where data must be encrypted.

PIN

PIN NAME

D 7 -D 0

DCSCK
3 DRQ
36 3SRQ
35 DOAV

RD.WR
CS

3 NC
3 P6
32 3 P5

Xi.X 2

38
37

34
33

A0

RESET

SYNC
DRQ.DACK
SRQ.OAV.CCMP

31

3P4

P6 P 0

30
29

3 P3

Vcc. v 0D.GND

3P2
3 PI
3P0

NC

28
27
26
25

BLOCK DIAGRAM

PIN NAMES

CONFIGURATION

DATA
BUS
BUFFER

FUNCTION
DATA BUS
READ.WRITE STROBES
CHIP SELECT
CONTROUDATA SELECT
RESET INPUT

REGISTERS

MESSAGE
STORAGE

FREQUENCY REFERENCE INPUT
HIGH FREQUENCY OUTPUT
DMA REQUEST.DMA ACKNOWLEDGE
INTERRUPT REQUEST OUTPUTS
OUTPUT PORT LINES
+ 5V POWER.GND
NO CONNECTION

DCCMP

23

DNC

ALGORITHM
TABLE

RESET

3VDD
3NC

24

CONTROL
AND
INTERRUPT
LOGIC

SYNC ~

INTERNAL
BUS

6 171

Programmable Print Intensity

Interfaces Dot Matrix Printers to

MCS-48™, MCS-80/85™, MCS-86™
Systems

Single or Double Width Printing

40 Character Buffer On Chip

Programmable Multiple Line Feeds

Serial or Parallel Communication with

Host

DMA Transfer Capability

3 Tabulations

Programmable Character Density (10 or
2 General Purpose Outputs

12 Chararcters/lnch)

The Intel® 8295 Dot Matrix Printer Controller provides an interface for microprocessors to the LRC 7040 Series dot
matrix impact printers. It may also be used as an interface to other similar printers.
The chip may be used in a serial or parallel communication mode with the host processor. In parallel mode, data
transfers are based on polling, interrupts, or DMA. Furthermore, it provides internal buffering of up to 40 characters
and contains a 7x 7 matrix character generator accommodating 64 ASCII characters.

PIN
PIN NAMES

CONFIGURATION
PIN NAME

FUNCTION

D 0 -D 7

DATA BUS

CS
RESET

READ, WRITE STROBES
CHIP SELECT
RESET INPUT

RD. WR

Xi. X 2

SYNC

FREOUENCY REFERENCE INPUTS
HIGH FREQUENCY OUTPUT

MOT. PFM
DRQ. DACK

MAIN. PAPER FEED MOTOR DRIVES

SIN. CTS

SERIAL INPUT. CLEAR-TO-SEND
INTERRUPT REOUEST, SERIAL GROUND
SOLENOID DRIVE OUTPUTS
PAPER FEEO INPUT
HOME. TOP OF FORM INPUTS

IRQ'SER
S 1 -S7

PFEED
HOME. fOF
STB
GP1, OP2
VCC. v 00. OND

BLOCK DIAGRAM

DMA REQUEST ACKNOWLEDGE

SOLENOID STROBE OUTPUT
GENERAL PURPOSE OUTPUTS
+ 5V POWER. GND

6-172

t

2114A
1024 X 4 BIT STATIC RAM
2114AL-2

2114AL-3

2114AL-4

2114A-4

2114A-5

Max. Access Time (ns)

120

150

200

200

250

Max. Current (mA)

40

40

40

70

70

Completely Static Memory - No Clock
or Timing Strobe Required

HMOS Technology
Low Power, High Speed

Directly TTL Compatible: All Inputs

and Outputs

Identical Cycle and Access Times

Common Data Input and Output Using

Single +5V Supply ±10%

Three-State Outputs

High Density 18 Pin Package

2114 Replacement

The ntel 21 14A is a 4096-bit static Random Access Memory organized as 1 024 words by 4-bits using HMOS, a high performance
I

MOS technology.

uses fully DC stable (static) circuitry throughout, in both the array and the decoding, therefore it requires no

It

clocks or refreshing to operate. Data access is particularly simple since address setup times are not required. The data is read
out nondestructively and has the same polarity as the input data. Common input/output pins are provided.

The 21 14A is designed for memory applications where the high performance and high reliability of HMOS, low cost, large bit
storage, and simple interfacing are important design objectives. The 2114A is placed in an 18-pin package for the highest
possible density.
supply. A separate Chip Select (CS) lead allows
It is directly TTL compatible in all respects: inputs, outputs, and a single +5V
easy selection of an individual package when outputs are or-tied.

PIN CONFIGURATION

MI
SC

—A
—

1

18

2

17

H] A 7

3

16

IK

A,2

s
14 '*,

—A
—A

A sC 4

\C
MI
MI

VCC

5
6

15

2114

13

7

12

cs[Z 8

11

gndC 9

10

BLOCK DIAGRAM

LOGIC SYMBOL

o

A

I/O,

i

'S

r0
l02

4

S

Z! ,/0?

—A

««*

A7

«*I

—A

,/0

3

6

'*>.

A,
9

WE

CS

PIN NAMES
A 0 -A g
W?
CS
I/O, — 1/0

4

ADDRESS INPUTS

Vcc POWER (+5V)

WRITE ENABLE
CHIP SELECT
DATA INPUT/OUTPUT

GND GROUND

6-173

intel
2141

4096 X 1 BIT STATIC RAM
2141-2

2141-3

2141-4

2141-5

2141L-3

2141L-4

2141L-5

Max. Access Time (ns)

120

150

200

250

150

200

250

Max. Active Current (mA)

70

70

55

55

40

40

40

Max. Standby Current (mA)

20

20

12

12

5

5

5

HMOS Technology

Automatic Power-Down

Industry Standard 2147 Pinout

Directly TTL Compatible

Completely Static Memory
or Timing Strobe Required

— No Clock

— All Inputs

and Output
Separate Data Input and Output

Equal Access and Cycle Times

Three-State Output

Single +5V Supply

High Density 18-Pin Package

The Intel® 2141 is a 4096-bit static Random Access Memory organized as 4096 words by 1-bit using HMOS, a highperformance MOS technology. It uses a uniquely innovative design approach which provides the ease-of-use features
associated with non-clocked static memories and the reduced standby power dissipation associated with clocked static
memories To the user this means low standby power dissipation without the need for clocks, address setup and hold
times, nor reduced data rates due to cycle times that are longer than access times.

—

—

deselecting the_21 41
CS controls the power-down feature. In less than a cycle time after CS goes high
the part
automatically reduces its power requirements and remains in this low power standby mode as long as CS remains high.

This device feature results in system power savings as great as 85% in larger systems, where the majority of devices are deselected.

The 2141 is placed in an 1 8-pin package configured with the industry standard pinout, the same as the 21 47. It is directly TTL
compatible in all respects: inputs, output, and a single T5V supply. The data is read out nondestructively and has the same
polarity as the input data. A data input and a separate three-state output are used.

LOGIC SYMBOL

PIN CONFIGURATION

—
—
—
—
—
—
—
—
—
—
—
—

BLOCK DIAGRAM

Ao
Ai

a2

a3
a4
As
A6

Dout

a7
a8
Ag
Aio

An
D,n we CS

1

!

PIN NAMES
A 0 -A n ADDRESS INPUTS
WRITE ENABLE
WE
d )N

CHIP SELECT
DATA INPUT

Dout

data output

CS

Vcc

POWER (*5V)

GND

GROUND

TRUTH TABLE
CS

We

MODE

OUTPUT

H

X

NOT SELECTED
WRITE
READ

HIGH Z
HIGH Z
°OUT

L
l

l_

L

H

POWER
STANDBY
ACTIVE
ACTIVE

j

I

6-174

2142-2

Max. Access Time (ns)
Max. Power Dissipation (mw)

525

2142-3

2142

2142L2

2142L3

2142L

300

450

200

300

450

525

525

370

370

370

Identical Cycle and Access Times

No Clock or Timing Strobe Required
Completely Static Memory
Directly TTL Compatible: All Inputs

Low Operating Power Dissipation

and Outputs

.ImW/Bit Typical

Common Data Input and Output Using

Single +5V Supply

Three-State Outputs

High Density 20 Pin Package

Access Time Selections From 200-450ns

The Intel® 2142 is a 4096-bit static Random Access Memory organized as 1024 words by 4-bits using N-channel Silicon-

Gate MOS technology. It uses fully DC stable (static) circuitry throughout — in both the array and the decoding — and
therefore requires no clocks or refreshing to operate. Data access is particularly simple since address setup times are not
required. The data is read out nondestructively and has the same polarity as the input data. Common input/output pins are
provided.

The 2142 is designed for memory applications where high performance, low cost, large bit storage, and simple interfacing
are important design objectives. It is directly TTL compatible in all respects: inputs, outputs, and a single +5V supply.
The 2142 is placed in a 20-pin package. Two Chip Selects (CS-| and CS 2 are provided for easy and flexible selection of
individual packages when outputs are OR-tied. An Output Disable is included for direct control of the output buffers.
)

The 2142 is fabricated with Intel’s N-channel Silicon-Gate technology — a technology providing excellent protection
against contamination permitting the use of low cost plastic packaging.

A6 LZ

1

20

AS[Z

2

19

Z]A7

A4(Z 3

18

m

*3[Z 4

17

[Z 5

16

CS 2

1

—
-

Vcc

1

a9

A3

I

OD

A4

ZD ,<0 i

IS

AlCZ

14

a2 (ZZ

8

13

ZD'**

lz 9

12

ZD '/04

It

WE

gwd LZ

10

UOl

I/O2

7

csi

Al

&2

6

1

AO

Ae

2142

AO

BLOCK DIAGRAM

LOGIC SYMBOL

PIN CONFIGURATION

ZD '02

|

—

A&

—

Afi

1

O3

A7

—

A8

I/O4

Ag

WE CSi CS? OD

YTTT
PIN NAMES
A0-Aq

LjH
CSi, CS2
l/Oi

1/04

ADDRESS INPUTS
WRITE ENABLE

OD

OUTPUT DISABLE
POWER I-5VI

CHIP SELECT

GND

GROUND

DATA INPUT/OUTPUT

6-175

e>
2148
1024 x 4 BIT STATIC RAM
2148*3 2148 2148-6

Max. Access Time (ns)

55

70

85

Max. Active Current (mA)

125

125

125

Max. Standby Current (mA)

30

30

30

HMOS Technology

Automatic Power-Down

Completely Static Memory
No Clock or Timing Strobe
Required

High Density 18-Pin Package

Equal Access and Cycle Times

Common Data Input and Output

—

Directly TTL Compatible

— All Inputs and Outputs

+5V Supply

Single

Three-State Output

The Intel® 2148 is a 4096-bit static Random Access Memory organized as 1024 words by 4 bits using HMOS, a highperformance MOS technology. It uses a uniquely innovative design approach which provides the ease-of-use features
associated with non-clocked static memories and the reduced standby power dissipation associated with clocked static
memories. To the user this means low standby power dissipation without the need for clocks, address setup and hold
times, nor reduced data rates due to cycle times that are longer than access times.

—

—

CS controls the power-down feature. In less than a cycle time after CS goes high
disabling the 2148
the part
automatically reduces its power requirements and remains in this low power standby mode as long as CS remains high.
This device feature results in system power savings as great as 85% in larger systems, where the majority of devices are
disabled.

The 2148 is assembled in an 18-pin package configured with the industry standard 1Kx4 pinout. It is directly TTL
compatible in all respects: inputs, outputs, and a single +5V supply. The data is read out nondestructively and has the

same polarity as the input data.
LOGIC SYMBOL

PIN CONFIGURATION

BLOCK DIAGRAM

- A0
Al
I'Ol

— A2

— A3
— A
- A

1.02

4

b

l'03

*
a
6

- A7
- As

- A9

WE

CS

PIN NAMES
Ao-Afi

ADDRESS INPUTS

WE

v cc

WRITE ENABLE
CHIP SELECT
DATA INPUT/OUTPUT
POWER + 5V)

QND

GROUND

CS
l/0 1 - 1/0 4

cs

(

WE

TRUTH TABLE
cs

WE

H

X

MODE

I/O

NOT SELECTED HIGH-Z

L

L

WRITE

°IN

L

H

READ

d 0 ut

POWER
STANDBY
ACTIVE
ACTIVE

6-176

2716

16K (2K x 8) UV ERASABLE PROM
Pin Compatible to Intel® 2732 EPROM

Fast Access Time
350 ns Max. 2716-1
390 ns Max. 2716-2

—
—
— 450 ns Max. 2716
— 650 ns Max. 2716-6

Simple Programming Requirements

— Single Location Programming
— Programs with One 50 ms Pulse

+ 5V Power Supply

Single

Inputs and Outputs TTL Compatible
during Read and Program

Low Power Dissipation

— 525 mW Max. Active Power
— 132 mW Max. Standby Power

a Completely Static

f

The lntel ° 2716 is a 16,384-bit ultraviolet erasable and electrically programmable read-only memory (EPROM). The 2716
operates from a single 5-volt power supply, has a static standby mode, and features fast single address location program-

ming.

It

makes designing with

EPROMs faster, easier and more economical.

The 2716, with its single 5-volt supply and with an access time up to 350 ns, is ideal for use with the newer high performance
+5V microprocessors such as Intel's 8085 and 8086. The 2716 is also the first EPROM with a static standby mode which
reduces the power dissipation without increasing access time. The maximum active power dissipation is 525 mW while the
maximum standby power dissipation is only 132 mW, a 75% savings.
The 2716 has the simplest and fastest method yet devised for programming EPROMs — single pulse TTL level programming.
No need for high voltage pulsing because all programming controls are handled by TTL signals. Program any location at any
time— either individually, sequentially or at random, with the 271 6's single address location programming. Total programming
time for all 1 6,384 bits is only 1 00 seconds.

PIN CONFIGURATION

2716
A?C
A6C 2
A&C 1
A4C 4
A3C b
A2C 6
AlC ;
I

2732

^^7 DV

CC

A7 C

1

MODE SELECTION
+
24

AfiC 2

23 3 a 8

Da 9

AsC 3

22 3 a 9

A4 C

21

22

21 D vpp

4

a3 C 5

20 D OE/Vpp

A2 C 6

3A10
18 DCE
17 307

ooC 9
Oic 10

DA10
18 3CE
17 307
16 Dos
15 Dos

02 c

14

19

16K

A0 C 8

304
13 303

11

GNOC 12

AlC 7
A0C 8

19

32K

Oo c 9
01 C 10
02 C 11
GND C 12

C E/PGM

OE

Vpp

vC c

OUTPUTS

(181

120 )

(

21 )

(24)

fi-11. 13-17)

MODE

Daii

:oi

20

PINS

DVcc

23 D*e

Read

V|L

V|L

5

45

°OUT

Standby

V|H

Don't Cere

5

45

High 2

Program

Pulsed V||_ to V|h

V|H

Program Verify

306
15 305
14 304

V,L

^

1

425

45

°IN

425

45

°OUT

425

45

High Z

16

13

Program Inhibit

VlL

V|H

BLOCK DIAGRAM

3 fJ 3

t Refer to 2732

data out puis
O o O;

data sheet for
specifications

PIN NAMES

k

0

adoresses

CE 'PGM

CHIP ENABLE/PROGRAM

OE

OUTPUT ENABLE
OUTPUTS

6-177

iny
%•?<><

2732

32K (4K x 8) UV ERASABLE PROM
Fast Access Time:

•'iy,

'ft*

I'L-,

Pin Compatible to Intel® 2716 EPROM

— 450 ns Max. 2732
— 550 ns Max. 2732-6

Completely Static

Single +5V ± 5% Power Supply

Simple Programming Requirements
Single Location Programming

Output Enable for MCS-85™ and

—
— Programs with One 50ms Pulse

MCS-86™ Compatibility

Low Power Dissipation:
150mA Max. Active Current
30mA Max. Standby Current

Three-State Output for Direct Bus
Interface

The Intel® 2732 is a 32,768-bit ultraviolet erasable and electrically programmable read-only memory

:

EPROM The 2732
).

operates from a single 5-volt power supply, has a standby mode, and features an output enable control. The total programming time for all bits is three and a half minutes. All these features make designing with the 2732 in microcomputer systems
faster, easier, and more economical.

An important 2732 feature is the separate output control, Output Enable iOE .from the Chip Enable control iCEi.TheOE
control eliminates bus contention in multiple bus microprocessor systems. Intel’s Application Note AP-30
describes the
microprocessor system implementation of the OE and CE controls on Intel's 2716 and 2732 EPROMs. AP-30 is available
from Intel’s Literature Department.
The 2732 has a standby mode which reduces the power dissipation without increasing access time. The maximum active
current is 150mA, while the maximum standby current is only 30mA, an 80% savings. The standby mode is achieved

applying a TTL-high signal to the CE input.

PIN CONFIGURATION

MODE SELECTION
^\PINS
CE
MODE^\^ (18)

OE/Vpp

v cc

OUTPUTS

(20)

(241

(9-1 1,13-17)

Read

V, L

V,L

+5

dout

Standby

V|H

Don't Care

+5

High Z

Program

VlL

Vpp

+5

Din

Program Verify

V, L

V,l

+5

Dout

Program Inhibit

V, H

Vpp

+5

High Z

BLOCK DIAGRAM
data outputs
v CC o

PIN NAMES
Ao-An
Cl

01
O 0 -O7

ADDRESSES
CHIP ENABLE
OUTPUT ENABLE
OUTPUTS

6-178

Oo-Ot

by

PROGRAMMING
The programming specifications are described in the Data Catalog PROM/ROM Programming Ih^Hgdthgni

ABSOLUTE MAXIMUM RATINGS*
Temperature Under Bias
Storage Temperature
All Input or Output Voltages with
Respect to Ground

—

•COMMENT

Stresses above those listed under ‘Absolute Maximum Ratings’" Way
permanent damage to the device. This is a stress rating only and functfi
operation of the device at these or any other conditions above thos%>*
indicated in the operational sections of this specification is not implied
Exposure to absolute maximum rating conditions for extended periods

-10°C to +80°C
-65°C to +125°C

may affect device reliability

+6V to -0.3V

D.C. AND OPERATING CHARACTERISTICS
Ta = 0°C to 70° C. Vcc = +5V ± 5%

READ OPERATION
Limits

Conditions

Max.

Unit

Ilii

Input Load Current (except OE/Vppi

10

mA

Vin = 5.25 V

LI2

OE/Vpp Input Load Current

10

mA

Vin = 5.25V

Ilo

Output Leakage Current

10

mA

Icci

Vcc Current 'Standby

15

30

ICC2

Vcc Current

85

150

mA
mA

Vout = 5.25V
CE = Vih. OE = Vil

Parameter

Symbol

1

Active

Min.

Typ. 1

i

lo

ILU

11

10
|UJ 1.

>

VlL

Input Low Voltage

-0.1

0.8

V

VlH

Input High Voltage

2.0

Vcc+1

V

VOL

Output Low Voltage

0.45

V

lOL = 2.1mA

VOH

Output High Voltage

V

Iqh = -400/uA

Note: 1. Typical values are for Ta

-

2.4

25°C and nominal supply voltages.

TYPICAL CHARACTERISTICS
l

CE TO OUTPUT DELAY (t CE
VS. CAPACITANCE

cc CURRENT

VS. TEMPERATURE

CE TO OUTPUT DELAY (t CE )

)

VS. TEMPERATURE

500

400

(mA)

—c'
Ui

->AA
JvU

200

T .'25 c
;

inn
ioo

1

1

1

1

0

too

200

300

1

400

C L IpFI

6-179

1

11

11

1

500

600

700

800

*

/if.

A.C. CHARACTERISTICS
//$

Ta = 0°C to 70°C, Vcc = +5V ± 5%

.

4-, * f;

''

2732 Limits

Symbol

2732-6 Limits

Parameter
Min.

Max.

Min.

Max.

r

Unit

rat
esi
i

H“

Condition#'*^

Vcc

Address to Output Delay

450

550

ns

*CE

CE to Output Delay

450

550

ns

*OE

Output Enable to Output Delay

120

ns

Ce=oe = v il
OE=v il
ce=v

*DF

Output Enable High to Output Float

0

100

ns

ce = v il

*OH

Output Hold from Addresses, CE or
OE, Whichever Occurred First

0

ns

IS 11 10|LU II >

CAPACITANCE
Symbol
ClNI

I1 )

COUT

100

Parameter

Typ.

Max.

4

6

0
0

il

_l

A.C. TEST CONDITIONS

t a =25°c, f = iMHz
Unit Conditions

Input Capacitance

Except OE/Vpp
ClN2

120

PF

Output Load: 1 TTL gate and Cl = lOOpF
Input Rise and Fall Times: < 20ns

ViN = ov

Input Pulse Levels: 0.8V to 2.2V

Timing Measurement Reference Level:
Inputs
IV and 2
Outputs 0.8V and 2

OE/Vpp Input
Capacitance

20

PF

> z II o >

Output Capacitance

12

pF

Vout = ov

A.C. WAVEFORMS PI

NOTES:
1. THIS PARAMETER IS ONLY SAMPLED AND IS NOT 100% TESTED.
2. AL L TIMES SHOWN IN PARENTHESES ARE MINIMUM TIMES AND ARE NSEC UNLESS OTHERWISE SPECIFIED
3. Ot MAY BE DELAYED UP TO 330n* AFTER THE FALLING EDGE OF CTWITHOUT IMPACT ON
t A rr
4. t
WHICHEVER OCCURS FIRST.
0F IS SPECIFIED FROM 0E OR

6-180

2732

ERASURE CHARACTERISTICS
The erasure characteristics of the 2732 are such that
erasure begins to occur when exposed to light with
wavelengths shorter than approximately 4000 Angstroms

nt of the
puts are in a high impedance^j&te JHI0
CE input.
Output OR-Tieing
Because EPROMs are usually used in largerfftgfhoiya

should be noted that sunlight and certain types of

rays, Intel has provided a 2 line control function tfoa.tac/;

fluorescent lamps have wavelengths in the 3000-4000A
range. Data show that constant exposure to room level

commodates this use of multiple memory connection^.

(A).

It

could erase the typical 2732 in
approximately 3 years, while it would take approximately 1
week to cause erasure when exposed to direct sunlight. If
the 2732 is to be exposed to these types of lighting
conditions for extended periods of time, opaque labels are
available from Intel which should be placed over the 2732

fluorescent

lighting

window to prevent unintentional erasure.
The recommended erasure procedure isee Data Catalog
2732 is exposure to shortwave
light
which has a wavelength of 2537
ultraviolet
Angstroms (A). The integrated dose (i.e., UV intensity X
exposure time) for erasure should be a minimum of 15 Wsec/cm2. The erasure time with this dosage is approximately 15 to 20 minutes using an ultraviolet lamp with a
12000 jxW/cm2 power rating. The 2732 should be placed
within 1 inch of the lamp tubes during erasure. Some
lamps have a filter on their tubes which should be removed

page 4-83)

for

the

before erasure.

DEVICE OPERATION

b)

the lowest possible memory power dissipation, and
complete assurance that output bus contention will
not occur.

To most efficiently use these two control lines, it is
recommended that CE (pin 18) be decoded and used as
the primary device selecting function, while CE (pin 20)
be made a common connection to all devices in the array and connected to the READ line from the system
control bus. This assures that all deselected memory

devices are in their low power standby mode and that
the output pins are only active when data is desired
from a particular memory device.

Programming
Initially,

and after each erasure, all bits of the 2732 are in

the “1” state. Data is introduced by selectively programming "0’s” into the desired bit locations. Although only

The 2732 is in the programming mode when the OE/Vpp
is at 25V. It is required that a 0.1 mF capacitor be
placed across OE/Vpp and ground to suppress spurious
voltage transients which may damage the device. The data
to be programmed is applied 8 bits in parallel to the data
output pins. The levels required for the address and data

input

inputs are TTL.

TABLE 1. Mode Selection
CE

OE/Vpp

<oo

OUTPUTS

(18)

(20)

(24)

(9-11,13-17)

V|L

V|L

+5

°OUT

Standby

V,H

Don’t Care

+5

High Z

Program

V|L

Vp P

+5

Din

Program Verify

V|L

Vil

+5

d out

Program Inhibit

V, H

Vpp

+5

High Z

Read

a)

“0’s” will be programmed, both ’’Vs” and ”0’s” can be
”0”
presented in the data word. The only way to change a
to a “I” is by ultraviolet light erasure.

The five modes of operation of the 2732 are listed in
Table 1. A single 5V power supply is required in the read
mode. All inputs are TTL levels except for 5E/V PP during
programming. In the program mode the OE/V PP input is
pulsed from a TTL level to 25V.

PINS

The two line control function allows for:

Read Mode
The 2732 has two control functions, both of which must
be logically satisfiedjn order to obtain data at the outputs. Chip Enable (CE) is the power control and should
be used for device selection. Output Enable (UE) is the
output control and should be used to gate data to the
output pins, independent of device selection. Assuming
that addresses are stable, address access time (t ACC ) is
equal to the delay from CE to output (t CE). Data is
available at the outputs 120ns (t 0 E> after the falling edge
of OE, assuming that CE has been low and addresses
have been stable for at least t A cc
toE-

—

When the address and data are stable, a 50msec, active
low, TTL program pulse is applied to the CE input. A
program pulse must be applied at each address location to
be programmed. You can program any location at any
time — either individually, sequentially, or at random. The
program pulse has a maximum width of 55msec. The 2732
must not be programmed with a DC signal applied to the

CE input.
Programming of multiple 2732s in parallel with the same
data can be easily accomplished due to the simplicity of
the programming requirements. Like inputs of the
paralleled 2732s may be connected together when they
are programm ed w ith the same data. A low level TTL pulse
applied to the CE input programs the paralleled 2732s.

Program Inhibit
Programming of multiple 2732s in parallel with different
data is also easily accomplished. Except for CE, all like
inputs (including OE) of the parallel 2732s may be
common. A TTL level program pulse applied to a 2732’s
CE input with OE/Vpp at 25V will program that 2732. A
high level CE input inhibits the other 2732s from being

programmed.

Standby Mode

Program Verify

The 2732 has a standby mode which reduces the active
power current by 80%, from 150mA to 30mA. The 2732 is

A verify should be performed on the programmed bits to
determine that they were correctly programmed. The
verify is accomplished with OE/Vpp and CE at_Vii_. Data

placed

in

the standby

mode by applying a TTL high

signal to the CE input. When in standby mode, the out-

should be verified tov after the falling edge of CE.
6-181

iny*
2758

8K (IK x 8) UV ERASABLE LOW POWER
Single

+ 5V Power Supply

PROM

Fast Access Time: 450 ns Max. in
Active and Standby Power Modes

Simple Programming Requirements

- Single Location Programming
- Programs with One 50 ms Pulse

Inputs and Outputs TTL Compatible
during Read and Program

Low Power Dissipation
525
132

mW Max. Active Power
mW Max. Standby Power

a

Completely Static

a

Three-State Outputs for OR-Ties

The

Intel® 2758 is a 8192-bit ultraviolet erasable and electrically programmable read-only memory (EPROM). The 2758
operates from a single 5-volt power supply, has a static standby mode, and features fast single address location programIt makes designing with
50 seconds.

ming.
is

EPROMs faster, easier and more economical. The total programming time for all 8192 bits

The 2758 has a static standby mode which reduces the power dissipation without increasing access time. The maximum
is 525 mW, while the maximum standby power dissipation is only 132 mW, a 75% savings.
Power-

active power dissipation

down is achieved by applying a TTL-high signal to the CF input.

A 2758 system may be designed for total upwards compatibility with Intel’s 16K 2716 EPROM (see Applications Note
30). The 2758 maintains the simplest and fastest method yet devised for programming

EPROMs — single pulse TTL-

programming. There is no need for high voltage pulsing because all programming controls are handled by TTL
signals. Program any location at any time
either individually, sequentially, or at random, with the single address
location programming.
level

—

PIN NAMES

-

A0-A9

ADDRESSES

Cf/PGM

CHIP ENABLE/PROGRAM

61

OUTPUT ENABLE
OUTPUTS
SELECT REFERENCE

3 cgz_
Ar

BLOCK DIAGRAM

INPUT LEVEL

6-182

Intel
3604A, 3624A FAMILY
4K (512 x 8) HIGH-SPEED PROM
3604A-2
3624A-2

3604A
3624A

3604AL

Max. T A (ns)

60

70

90

Max. lcc( mA >

170

170

130/25*

’Standby Current When The Chip is Deselected.

Four Chip Select Inputs
For Easy Memory
Expansion

Fast Access Time

-60ns Max (3604A-2, 3624A-2)
Low Standby Power Dissipation
(3604AL) --32/xW/Bit Max

Polycrystalline Silicon

Open Collector (3604A)
or Three State

Fuse

For Higher Reliability

(3624A)
Hermetic 24 Pin DIP

Outputs

The Intel® 3604A/3624A are 4096-bit bipolar PROMs organized as 512 words by 8 bits. The fast second generation
3604A/3624A replaces its Intel predecessor, the 3604/3624. Higher speed PROMs, the 3604A-2/3624A-2, are now available at 60 ns. All 3604A/3624A specifications, except programming, are the same as or better than the 3604/3624. Once
programmed, the 3604A/3624A are interchangeable with the 3604/3624
The PROMs are manufactured with all outputs initially logically high. Logic low levels can be electrically programmed
can
in selected bit locations. Both open collector and three-state outputs are available. Low standby power dissipation
be achieved with the 3604AL. The standby power dissipation is approximately 20% of the active power dissipation.

The 3604A/3624A are available in a hermetic 24-pin dual in-line package. These PROMs are manufactured with the
time-proven polycrystalline silicon fuse technology.

READ:

Mode/Pin Connection

Pin 22

Pin 24

3604A, 3604A-2
3624A, 3624A-2

No Connect or 5V

5V

*5V

Must be Left Open

3604 A L

PROGRAM

PIN NAMES

Pulsed 12.5V

Pulsed 12.5V

3604AL

Pulsed 12.5V

Pulsed 12.5V

3604AL

Ml

CS3-CS4 J~

3604A, 3604A-2
3624 A, 3624A-2

Oi-0 8
(1 ]

STANDBY:

AODRESS INPUTS

Aq~ a 8
CSj -CS 2 ~1

Power dissipation is automatically
reduced whenever the 3604 A L

CHIP SELECT INPUTS

DATA OUTPUTS

To select the PROM CS^ = CSj
and CS3 - CS4 * 1

.

is deselected.

PIN

CONFIGURATION

BLOCK DIAGRAM
OATAOUT1

OAT* OUT

6-183

LOGIC SYMBOL

0

inter
3605A, 3625A
4K (IK x 4) PROM
3605A-1, 3625A-1

50 ns Max.

3605A, 3625A

60 ns Max.

± 10% Power Supply Tolerance

Open Collector (3605A) and Three-State
(3625A) Outputs

Fast Access Time: 40 ns Typically

Lower Power Dissipation: 0.14 mW/Bit
Typically

Polycrystalline Silicon Fuse for Higher
Reliability

Simple Memory Expansion Two Chip
Select Inputs

Hermetic 18-Pin DIP

3605A and 3625A families are high density, 4096-bit bipolar PROMs
organized as 1024 words by 4
irr,
1024 by 4 organization gives
word or
modularity
memory array expansion.

bits. The

ideal

bit
for
The 3605A has open collector
outputs and the 3625A has three-state outputs. The 3605A and 3625A
are fully specified over the 0*C to 75*C
U
* 10% P0wer supply variation Maximum access times of 50 ns (3605A-2/3625A-2)
nfle Wlt
and 60 ns
;^xl«L
oif*?are available
?
(3605A/3625A)
at a typical power dissipation of 0.14 mW/bit.
-

The 3605A/3625A are packaged in an 18-pin dual in-line hermetic package
i

density can be achieved with the 3605A/3625A in the same

PaCKaQGS.

with 300 milli-inch centers. Thus, twice the

memory board areas as 512 by 8-bit PROMs in 24-pin

The highly reliable polycrystalline silicon fuse technology is used
63 A

in the manufacturing of the 3605A and 3625A
° UtputS are in ,ia,ly a l0 9ical high and logic low levels can be electrically
'

programmed in selected bit loca-

ttons'

6-184

3065A, 3625A FAMILIES

A. C. Characteristics

v cc = +sv ± 10%, t a = o°c to +75°c
Max.

Symbol
t A++* *At

A +-

Parameter

Limits

3605 A3625 A-

3605A
3625A

Unit

50

60

ns

Address to Output Delay

Conditions

C5t= C5 2 =V, l

»

to select the

t$++

Chip Select to Output Delay

30

30

ns

ts--

Chip Select to Output Delay

30

30

ns

Capacitance" ta = 25°c.
1

t = 1

PROM.

mhz
LIMITS

PARAMETER

SYMBOL

NOTE

MAX.
pF

vcc * 5V

V.n=2 5V

8

pF

Vcc = 5V

V, n = 2.5V

10

pF

VCC s 5V

Vqut = 2 .5V

C !NA

Address Input Capacitance

3

8

C INS

Chip-Select Input Capacitance

4

C OUT

Output Capacitance

5

1

tcct rnwniTinwc

UNIT
TYP.

This parameter is only periodically sampled and <s not 1CX)% tested.

Switching Characteristics
Conditions of Test:
Input pulse amplitudes

300n

Input pulse rise and fall times of
5 nanoseconds between 1 volt and 2 volts

o

Speed measurements are made at 1 .5 volt levels
Output loading is 15 mA and 30 pF

Frequency of

test

2.5

VCC

15mA TEST LOAD
2.5V

30pF

I

MHz

Waveforms

6-185

60on

3065A, 3625A FAMILIES

PROGRAMMING
The programming specifications are described in the Data Catalog

PROM/ROM Programming Instructions on page 4 89.

Absolute Maximum Ratings*
Temperature Under 8ia$

•COMMENT

-65°C to >125°C
-65°C to +160°C

Storage Temperature

Output or Supply Voltages

above those listed under "Absolute Maximum
Rating" may cause permanent damage to the device. This

Stresses

-0.5V to 7 Volts

All Input Voltages

-IV to 5.5V

Output Currents

is

100mA

D. C. Characteristics:

a stress rating only and functional operation of the device

any other condition above those indicated in
the operational sections of this specification is not implied.
at these or at

All Limits Apply for Vcc * +5.0V ±10 %, T

a = 0°C to +75°C

Limits

Symbol

Parameter

Min.

Typ.W

Max.

Unit

Test Conditions

fa

Address Input Load Current

-0.05

-0.25

Chip Select Input Load Current

-0.05

-0.25

mA
mA

•ra

Address Input Leakage Current

40

pA

rs

Chip Select Input Leakage

40

V CC =5.5V, V a =0.45V
V CC =5.5V, V S =0.45V
V CC =a5V, V A = 5.5V
V CC =5.5V. V s = 5.5V

!

Current

VC A

Address Input Clamp Voltage

-0.9

-1.5

Vcs

Chip Select Input Clamp

-0.9

-1.5

0.3

V
V

Vcc =4 -5V, lA=-10mA

0.45

V

40

mA

140

mA

V CC =4.5V, 0 l = 1 5mA
V C c=5.5V, V ce =5.5V
Vcc=5_5V, V AO -V A9 -0V,
CSi = CS 2 = V h

0.85

V
V

V Cc=4.5V,

Voltage

V0 L

Output Low Voltage

•CEX

3605A Output Leakage Current

cc

Power Supply Current
L

110

—

l

s =-10mA

I

|

|

V.L

Input "Low" Voltage

V,H

Input "High" Voltage

2.0

3625, 3625 2 ONLY

Symbol

Parameter

Min.

Output Leakage for High
Impedance Stage

Mol

Output Short Circuit Current

-20

V0 H

Output High Voltage

2.4

1.

Max.

Unit

Test Conditions

40

/iA

V 0 =5.5V or 0.45V,
v cc =a5v, cs =C§ 2 =2-4v

-80

mA

Vo = ov

1

m
Isc
NOTES:

Typ.M)

-35

V

Unmeasured outputs are open during this test.

6-186

l

0H = -2.4mA, V cc = 4.5V

intel
3628

8K (IK X 8) BIPOLAR PROM
3628

80 ns Max.

3628-4

100 ns Max.

Three-State Outputs

Fast Access Time: 65 ns Typically

Low Power Dissipation: 0.09mW/Bit

Hermetic 24-Pin DIP

Typically

Polycrystalline Silicon Fuses for Higher

Four Chip Select Inputs for Easy Memory
Expansion

Fuse Reliability

The Intel* 3628 is a fully decoded 8192-bit PROM organized as 1024 words by 8 bits. The worst case access time of 80
ns is specified over the 0°C to 75°C temperatue range and 5% V cc power supply tolerances. There are four chip
selects provided to facilitate expansion into larger PROM arrays. It uses Schottky clamped TTL technology with polycrystalline silicon fuses. All outputs are initially high and logic low levels can be electrically programmed in selected
bit

locations.

PROM available was 4096 bits. The high density of the 3628 now

Prior to the 8192 bit 3628. the highest density bipolar

easily doubles the capacity without an increase in area on existing designs currently using 512 words by 8 bit PROMs.
There is also little, if any, penalty in power since the 3628 power/bit is approximately one-half that of 4K PROMs. The

3628 is packaged in a hermetic 24-pin dual in-line package.

DATA OUT 1
24

J Vcc

23

A8

22

U A 9 (MSB)

21

DCS/

LOGIC SYMBOL

BLOCK DIAGRAM

PIN CONFIGURATION

DATA OUT

i

cs 1

OUTPUT
BUFFERS

8192 BIT

<>3

A>

°4

i

°7

°8

A7
INPUT DRIVERS

it

|

|

no.

A0 A

•programming pin

1

r
*9

PIN NAMES
ADDRESS INPUTS

A 0 ‘ A9
'

CS, - cs 2

cs 3 - cs 4
°1
( 1 1

°8

CHIP SELECT INPUTS 111

DATA OUTPUTS

To select the PROM CS, * CS 2 = V|L
and CS, - CS. * V lH

6-187

°5

°6

A4
As

J06
14 3o b

°1

Aj

As

07

15

13

cs 4

A?

PROM MATRIX

UOglMSBI

18

°2

A

UCS 2
19 D cs3
18 UCS4

20

17

cs 2
CS3

a8

A9

3628

PROGRAMMING
The programming specifications are described in the PROM programming section of the Data Catalog.

ABSOLUTE MAXIMUM RATINGS*
Temperature Under Bias
Storage Temperature

-65°C to +125°C
-65°C to +160°C

Output or Supply Voltages

-0.5V to 7 Volts

All Input Voltages

•COMMENT
above those listed under "Absolute Maximum
Rating" may cause permanent damage to the device. This

Stresses

-IV to 5.5V

Output Currents

is

100mA

a stress rating only and functional operation of the device

at these or at

any other condition above those indicated in

the operational sections of this specification is not implied.

D.C. CHARACTERISTICS: All Limits Apply for V cc = + 5.0V ± 5%, T a = 0°C to + 75 °C
Limits

Symbol

Parameter

1

Typ.' '

Max.

Unit

Test Conditions

•fa

Address Input Load Current

-0.05

-0.25

•fs

Chip Select Input Load Current

-0.05

-0.25

mA
mA

V cc = 5.25V, V A = 0.45V

•ra

Address Input Leakage Current

40

mA

V cc = 5.25V, V A = 5.25V

•rs

Chip Select Input Leakge

40

HA

V cc = 5.25V, V s = 5.0V

100

mA

V Q = 5.25V or 0.45V,
V cc = 5.25V, CS = CS 2 =2.4V

-80

mA

< o li o <

Min.

V cc = 5.25V, V s = 0.45V

Current

Output Leakge for High

Hoi

Impedance State
Isc

121

Output Short Circuit Current

1

-20

-35

> o<

Address Input Clamp Voltage

-0.9

-1.5

V

V cc = 4.75V, A = -10mA

v cs

Chip Select Input Clamp
Voltage

-0.9

-1.5

V

V C c= 4 -75V, s = -10mA

<o

Output Low Voltage

0.3

0.45

V
V

V C c = 4.75V, 0L = 10mA
0H = -2.4mA, V cc = 4.75V

190

mA

V cc = 5.25V, V A0 -V A9 = 0V,

0.85

V

V CC =50V

V

V CC = 5.0V

r~

>oI

Output High Voltage

•cc

Power Supply Current

2.4

3.4

150

l

l

l

l

PROM deselected
V.L

K

Input "High” Voltage

v, H

NOTES:

Input "Low” Voltage
2.0

1.

Typical values are at 25°C and at nominal voltage.

2.

Unmeasured outputs are open during this test.

6-188

3628

A.C. CHARACTERISTICS

vcc = +5V ±5%. ta = o°c to +75°C

MAX. LIMITS
[

PARAMETER

SYMBOL

3628

3628-4

UNIT

CONDITIONS

A

Address to Output Delay

80

100

ns

CS 1 = CS2 = V IL

*EN

Output Enable Time

40

45

ns

and CS3 = CS 4 = V|h

^IS

Output Disable Time

40

45

ns

to select the PROM.

t

CAPACITANCE (n ta = 25°c, =
f

1

MHz
TYP. LIMITS

SYMBOL

NOTE

rAnAIVifc. 1 fcrt

TYP.

MAX.

UNIT

TEST CONDITIONS

C INA

Address Input Capacitance

4

10

pF

vcc = 5v

V )N =2.5V

C|NS

Chip-Select Input Capacitance

6

10

pF

VCC • 5V

V IN = 2.5V

Cqut

Output Capacitance

7

15

pF

VCC = 5V

Vqut = 25V

1 :

This parameter is only periodically sampled and is not 100% tested.

SWITCHING CHARACTERISTICS
Conditions of Test:
Input pulse amplitudes

10 mA TEST LOAD
-

vcc

2.5V

Input pulse rise and fall times of
5 nanoseconds between 1 volt and 2 volts

i 470n

Speed measurements are made at 1 .5 volt levels

{ i Kn

Output loading is 10 mA and 30 pF

Frequency of

test

2.5 MHz

WAVEFORMS
ADDRESS TO OUTPUT DELAY

CHIP SELECT TO OUTPUT DELAY

6-189

intel
3636

16K (2K x 8) BIPOLAR PROM
3636-1

65 ns Max.

3636

80 ns Max.

Fast Access Time: 50 ns Typically

Three-State Outputs

Low Power Dissipation: 0.05 mW/Bit
Typically

Hermetic 24-Pin DIP

Three Chips Select Input for Easy
Memory Expansion

Polycrystalline Silicon Fuses for

Higher Fuse Reliability

The Intel® 3636 is a fully decoded 16,384 bit PROM organized as 2048 words by 8 bits. The worst
case access time of
65 ns is specified over the O'C to 75X temperature range and 10% V
cc power supply tolerances. There are three chip
selects provided to facilitate expansion into larger PROM arrays. The PROMs use the Schottky
clamped TTL technology with polycrystalline silicon fuses. All outputs are initially high and logic low levels
can be electrically programmed in selected bit locations.
Prior to the 16,384 bit 3636, the highest density bipolar PROM available was 8192 bits.
The high density of the 3636 now
easily doubles the capacity without an increase in area on existing designs currently using

1024 by 8 bit PROMs. There

is

also little, if any, penalty in power since the power/bit is approximately one-half that of 8K

packaged in a hermetic 24-pin dual in-line package.

PIN CONFIGURATION

a7 C

1

A«C 2
A*C 3
A.C 4
A3 c 5
a2 C 6
AiC 7
ILSB)A 0 C 8
(LSBI OtC

O3 C

DATA OUT!

^
23

A,

l

3

CSi

22
21

20

3 Ag

CS2

—

OUTPUT
BUFFERS

cs3

A 10 (MSB)

3 CSi

CS,

cs 2

02

<*3

03

Aq

O4

Ai

16,384

O5

19

cs 2

18

3 cs3

A3

07

17

3 Og (MSB)

A4

°8

9

16 =]0 7

Ho8
Uo6
13 304

gndC 12

DATA OUT

LOGIC SYMBOL

3 vcc

10
11

BLOCK DIAGRAM

PROMs. The 3636 is

PROM MATRIX

0.

Ae
A7

15

14

a8
AlO

A0 A,

Aio

PIN NAMES

ADDRESS INPUTS

A0-A10

CHIP SELECT INPUTS* 1

CSi, CS2, CS3

DATA OUTPUTS

[01-08
I

(1)

To select the PROM CSi = V|t and
CS2 = CS3 = Vih

*

3636 FAMILY

PROGRAMMING
The programming specifications are described in the PROM Programming Section of the Data Catalogue.

ABSOLUTE MAXIMUM RATINGS*
•COMMENT

-65°C to '’125°C
-65°C to 160°C
-0.5V to 7 Volts
-IV to 5.5V

Temperature Under Bias
Storage Temperature

Output or Supply Voltages
All Input Voltages

those

listed

under

"Absolute

Maximum

Rating" may cause permanent damage to the device.
is

100mA

Output Currents

above

Stresses

This

a stress rating only and functional operation of the device

any other condition above those indicated in

at these or at

the operational sections of this specification is not implied.

D.C. CHARACTERISTICS:

All Limits Apply for V cc =

+ 5.0V± 10%, T A = 0*C to +75°C
Limits

Min.
!

Address Input Load Current

fa

Test Conditions

Parameter

Symbol

Typ.W

Max.

Unit

-0.05

-0.25

-0.05

mA
mA

V CC = 5.5V, V A = 0.45V

-0.25

V CC =5.5V. V a = 5.5V

V C c = 5.5V, V s = 0.45V

•fs

Chip Select Input Load Current

ra

Address Input Leakage Current

40

kA

•rs

Chip Select Input Leakage Current

40

mA

V cc = 5.5V, V s = 5.5V

100

mA

V 0 = 5.5V or 0.45V,
V C c= 5.5V, CS-) = 2.4V

-40

-80

mA

> o II o >

-0.9

- 1.5

V

-0.9

- 1.5

V

V CC =4.5V, A = - 10 mA
V cc = 4.5V, s = - 10 mA

Output Leakage for High Impedance State

Hoi

Isc

12 '

< o>

Address Input Clamp Voltage

v cs

Chip Select Input Clamp Voltage

<01

Output High Voltage

V0L

Output Low Voltage

•cc

Power Supply Current

VlL

Input “Low” Voltage

2.4

2.0

values are for T A = 25*C and nominal supply voltages.
Unmeasured outputs are open during this test.

1. Typical

2.

V

'

Input “High” Voltage

V,H
NOTES:

-20

Output Short Circuit Current

6-191

3.2

l

l

l

OH = - 2.4 mA, V cc = 4.5V

0.3

0.45

V

V CC =4.5V, 0 L= 10 mA

150

185

mA

V CC =5.5V

0.85

V

V CC =5.0V ±10%

V

V cc = 5.0V ± 10%

l

3636 FAMILY

A.C. CHARACTERISTICS

v cc = ±-5V± 10 %, t a =o*C to +75'C

MAX. LIMITS
3636-1

3636

A

Address to Output Delay

65

80

EN

Output Enable Time

40

50

ns

and CS 2 = CS 3 = V, H

tQIS

Output Disable Time

40

50

ns

to select the PROM.

SYMBOL
X
l

PARAMETER

CAPACITANCE

1,1

NOTE

CONDITIONS
°l

ns

co| ll

<F

ta = 25°c, f = i MHz

SYMBOL

—

UNIT

TYP. LIMITS

PARAMETER

TYP.

MAX.

[-

UNIT

1

Co

1

OUIMUI

1

lUINJo

C INA

Address Input Capacitance

4

10

pF

vcc = 5V

V |N = 2.5V

C INS

Chip-Select Input Capacitance

6

10

pF

o< O

II

cn

<

V, N = 2.5 V

C OUT

Output Capacitance

7

12

pF

<o o

II

cn

<

Vqut “ 2.5V

1

:

This parameter is only periodically sampled and is not 100% tested.

SWITCHING CHARACTERISTICS
Conditions of Test:
Input pulse amplitudes: 2.5V
Input pulse rise and fall times of

10 mA TEST LOAD

5 nanoseconds between 1 volt and 2 volts
Speed measurements are made at 1.5 volt levels
Output loading is 10 mA and 30 pF
Frequency of test: 2.5 MHz

WAVEFORMS
ADDRESS TO OUTPUT DELAY

ADDRESS

\

INPUT

J

l(,«

OUTPUT

*A

—

OUTPUT

^

1.5

V

—

K'*
*A

—

CHIP SELECT TO OUTPUT DELAY

5V

k’
‘a

—

W

U
n

*
- -

6-192

vcc

ICE-80™
8080 IN-CIRCUIT EMULATOR

I

Connects Intellec® system to user configured system via an external cable and
40-pin plug, replacing the user system
8080

Eliminates need for extraneous debugging tools residing in user system

Allows real-time (2 MHz) emulation of
user system 8080

emulated

Shares Intellec® RAM, ROM, and PROM
memory and Intellec® I/O facilities with
user system

Checks for up to three hardware and four
software break conditions

Provides address, data, and 8080 status
information on last 44 machine cycles

Provides capability to examine and alter

CPU registers, main memory, pin, and
flag values

Integrates hardware and software

development efforts
Available in diskette or paper tape
versions

Offers full symbolic debugging
capabilities

with any user con-

The Intellec ICE-80 8080 In-Circuit Emulator is an Intellec resident module designed to interface
the designer may emulate the
figured 8080 system. With ICE-80 as a replacement for a prototype system 8080,
and I/O for user system
memory
Intellec
substitute
and
system’s 8080 in real time, single step the system’s program,

For the first time the designer may

equivalents. Powerful Intellec debug functions are extended into the user system.
examine and modify his system with symbolic references instead of absolute values.

>

7-1

ICE- 80 ™ IN-CIRCUIT EMULATOR

FUNCTIONAL DESCRIPTION

during system debugging. By referring to symbolic
memory addresses, the user may be assured of examining, changing, or breaking at the intended location.

Integrated Hardware/Software Development
Use of the ICE-80 module enables the system integration phase, which can be so costly and frustrating when
attempting to mesh completed hardware and software
products, to become a convenient two-way debug tool
when begun early in the design cycle. The user prototype need consist of no more than an 8080 CPU socket
and a user bus to begin integration of software and hardware development efforts. With the ICE-80 mapping
capabilities, system resources may be accessed
for
missing prototype hardware. Hardware designs may be
tested using system software to drive the final
product.

A functional block diagram of the ICE-80 module is
shown in Figure 7-1.

Symbolic Debugging Capability
ICE-80 provides for user-defined symbolic references to
program memory addresses and data. Symbols may be
substituted for numeric values in any of the ICE-80 commands. The user is thus relieved from looking up
addresses of variables or program subroutines.

Symbol Table — The user symbol table generated along
with the object file during a

— ICE-80 provides symbolic defini-

following symbolic references are also provided for user
convenience: TIMER, a 16-bit register containing the
number of 2 clock pulses elapsed during emulation;
ADDRESS, the address of the last instruction emulated;
INTERRUPTENABLED, the user 8080 interrupt mechanism status; and UPPERLIMIT, the highest RAM address
occupied by user memory.
<f>

Debug Capability Inside User System
ICE-80 provides for user debugging of full prototype or

production systems without introducing extraneous
hardware or software test tools. ICE-80 connects to the
user system through the socket provided for the user
8080 in the user system (see Figure 7-2). Intellec memory
is used for the execution of the ICE-80 software,
while
I/O provides the user with the ability to communicate
with ICE-80 and receive information on the generation of
the user system. A sample ICE-80 debug session is

shown in Figure 7-3.

PUM-80 compilation or a

MAC80 or resident assembly, is loaded to memory along
with the user program to be emulated. The user may add
to this symbol table any additional symbolic values for

memory addresses, constants, or variables found useful

L

7-1.

Symbolic Reference

tion of all 8080 registers, flags, and selected pins. The

Functional Block Diagram of ICE-80 Module

7-2

I/O

Mapping and Memory

Memory and I/O for the user system may be resident in
the user system or “borrowed” from the Intellec system
through ICE-80’s mapping capability.

ICE-80™ IN-CIRCUIT EMULATOR
commu-

ICE-80 trace board. ICE-80 and the system also
Intellec
nicate through a control block resident in the
main memory, which contains detailed configuration

and status information transmitted at an emulation
the
break. ICE-80 hardware consists of two PC boards
chasIntellec
the
in
residing
boards
processor and trace
and a 6-foot cable interfacing to the user system.
sis
The trace and processor boards communicate with the
system on the bus, and also with each other on a separsystem
ate ICE-80 bus. ICE-80 connects to the user

—

_

through a cable that plugs directly into the socket
provided for the user’s 8080.

Trace Board
The trace board talks to the system as a peripheral
device. It receives commands to ICE-80 and returns
ICE-80 responses. While ICE-80 is executing the user
program, the trace board collects data for each machine
cycle emulated (snap data). The information is continuously stored in high-speed bipolar memory.

Breakpoint

Figure 7-2. ICE-80 Module Installed In User System

Memory Blocking — ICE-80 separates user memory into
16 4K blocks. User I/O is divided into 16 16-port blocks.
Each block of memory or I/O may be defined independtake
ently. The user may assign system equivalents to
sysuser
the
for
designed
yet
not
the place of devices

tem during prototyping. In addition, memory or I/O may
be accessed in place of user system devices during prototype or production checkout.

— The trace board also contains two 24-bit

hardware breakpoint registers which can be loaded by
the user. While in emulation mode, a hardware comparitor is constantly monitoring address and status lines for
a match to terminate an emulation. A user probe is also
available for attachment to any user signal. When this
signal goes true a break condition is recognized.

—

The trace board signals the processor
board when a command to ICE-80 or break condition has
been detected. The ICE-80 CPU then sends data stored
on the trace board to the control block in memory. Snap
data, along with information on 8080 registers and pin
status and the reason for the emulation break, are then
Interrogation

available for access during interrogation mode. Error
conditions, if present, are transmitted and automatically

displayed for the user.
Error Messages
of

— The user may also designate a block

memory or I/O as nonexistent. ICE-80 issues error

messages when memory or I/O designated as nonexisting is accessed by the user program.

Real-Time Trace
ICE-80 captures valuable trace information while the
user is executing programs in real time. The 8080 status,
the user memory or port addressed, and the data read or
written (snap data), is stored for the last 44 machine
cycles executed. This provides ample data for determining how the user system was reacting prior to emulation
break. It is available whether the break was user initi-

ated or the result of an error condition. For detailed
information on the actions of CPU registers, flags, or
other system operations, the user may operate in single
debug
or multiple step sequences tailored to system

Processor Board
An 8080 CPU resides on the processor board. During
emulation it executes instructions from the user’s program. At all other times it executes instructions from
the control program in the trace module’s ROM.

Timing

— The processor board contains an internal

clock generator to provide clocks to the user emulation
CPU at 2 MHz. The CPU can alternately be driven by a
clock derived from user system signal lines. The clock
source is selected by a jumper option on the board. A
timer on the trace board counts the 2 clock pulses during emulation and can provide the user with the exact
<t>

timing of the emulation.

—

The processor board turns on an emuOn/Off Control
lation when ICE-80 has received a run command from
the system. It terminates emulation when a break condition is detected

needs.

on the trace board, or the user’s pro-

to access memory or I/O ports
in the user system, or the
nonexistent
as
designated
user 8080 is inactive for a quarter of a second.

gram attempts

Hardware
The heart of the ICE-80 is a microcomputer system utilizing Intel’s

—

The address map located on the procStatus Storage
essor board stores the assigned location of each user
memory or I/O block. During emulation the processor
board determines whether to send/receive information

8080 microprocessor as its nucleus. This

system communicates with the Intellec host processor
via I/O commands. Host processor commands and
ICE-80 status are interchanged through registers on the

7-3

ICE-80™ IN-CIRCUIT EMULATOR
ISIS 8080 MACROASSEMBLER. VI .0

;USER PROGRAM TO OUTPUT A SERIES OF

[CHARACTERS TO SDK 80 CONSOLE DEVICE
1320
01 E3

CO

1320 0601
1322 3A3613
135 4F
1326 CDE301

START:

LOOP:

1329 79
132 A 93

ORG

1320H

EOU

1E3H

;SDK-80 CONSOLE OUT DRIVER

MVI

B.1

;SET UP B VALUE

LDA

DAT1

[LOAD A WITH DAT1 VALUE

MDV

C,A

CALL

CO

MOV

A,C
B

SBB
STA

132B 323713
132E FE40
1330 C22513

CPI

40H

JNZ

1333 C 3201

JMP

LOOP
START

1336 5A

DB
DS

DAT1:
RSLT:

1337
0000

RSLT

:SEND C VALUE TO CONSOLE
[RESTORE A
[SUBTRACT B FROM A
;STORE RESULT IN RSLT
[LAST VALUE TO PRINT
[LOOP AGAIN IF A>40H
[ELSE RESTART WHOLE PROCEDURE

5AH
1

END

ISIS, VI.

INITIAL ICE-80 SESSION

-ICE80

(Note: The SDK-80 Monitor has already been used to initialize

the

ISIS ICE-80, V1.0

©
®

**XFORM MEMORY 0 TO 1 U
•XFORM IO OFH U
‘LOAD PROG. HEX
ERR = 067
STAT=11H TYPE = 06H CMND = 07H ADDR = 1320H GOOD = 06H BAD = 04H
•CHANGE MEMORY 1321H = FFH
ERR = 067
STAT = 1 1 H TYPE = 06H CMND = 07H ADDR = 1321H GOOD = FFH BAD = FDH
•LOAD PROG. HEX
*GO FROM START UNTIL RSLT WRITTEN
EMULATION BEGUN
ERR = 067

©
® STAT = 1H TYPE = 07H CMND =
02H
® 'DISPLAY CYCLES
1

5

®

STAT = A2H ADDR = 1326H DATA = CDH
STAT = 82H ADDR = 1327H DATA = E'JH
STAT = 82H ADDR = 1328H DATA = 01
STAT = 04 H ADDR = FFFFH DATA = 13H
STAT = 04H ADDR = FFFEH DATA = 29H
'CHANGE DOUBLE REGISTER SP = 13FFH
•BASE HEX
•EQUATE STOP* 1333H
'GO FROM START UNTIL STOP EXECUTED THEN DUMP

© EMULATION BEGUN

B = 01H C = 41H D = 00H E = 00 H H = 00 H L = 00 H F = 56 H A = 40 H P =
1320H * = 1333H S = 13FFH
EMULATION TERMINATED AT 1333H

® *FFFF
'EXIT

Notes
1
Set up user memory a np 1/0 The program is set up to execute in block (1000H-1FFFH)
1
of user memory, and requires access to the SDK-80
monitor (block 0) and I/O ports in block OFH. Both ports and memory are defined as available
to the user system. All other memory and I/O is initialized by ICE-80 as nonexistent (guarded).

2. A load command generates an error. The type and command
numbers indicate that a data mismatch occurred on a write to memory command
The data to be written to address 1320H should have been 06H. When ICE-80 read the data after
writing it. a 04H was detected. A change command
to a different memory address hints that bit 1 does not go to 1 anywhere in this
memory block. Examination Indicates that a pin was shorted on the
RAM located at 1300H-13FFH In the prototype system. The problem is fixed and a subsequent load succeeds.
3. A real-time emulation is begun The program is executed from
‘START’ (1320H) and continues until ‘RSLT’ is written [In location 1328H the contents of the accumulator is stored in (written into) ‘RSLT’J.

4.

5.

An error

condition results: TYPE 07, CMND 02 Indicate the program accessed is a
guarded area.
The last 5 machine cycles executed are displayed. The last instruction executed was a call (CDH).

The fourth and fifth cycles are a push operation (designated by status 04H) to store the program counter before executing
the call. The stack pointer was not initialized in the program and is accessing memory location FFFFH.
6.

After making a note to initialize the stack pointer in the next assembly, a

available memory.
7.

temporary fix is effected by setting the stack pointer to the top of user

After setting the base for displays to hex and adding the symbol ‘STOP' to the symbol

H

table, emulation is started which will terminate when the
contents of user 8080 registers Is requested One can see that
the value of the accumulator is set at 40H, the stack pointer is set at 13FFH, the last
address executed (•) Is 1333H, and the program counter has
been set to 1320H.

instruction at 1 333H ('STOP') Is executed. When emulation terminates, a dump of the

8.

Exit returns control to the

MDS monitor.

Figure 7-3. Sample ICE-80 Debug Session

7-4

ICE-80™ IN-CIRCUIT EMULATOR
on the Intellec or user bus by consulting the address
map. The processor board allows the ICE-80 CPU to gain
access to the bus as a master to “borrow” Intellec facilities. At an emulation break, the processor board stores
the status of specified 8080 input and output signals,
disables all interaction with the user bus, and commands the trace board to send stored information to a
control block in Intellec memory for access during interrogation mode.

a broad range of modifiers to provide the user with maximum flexibility in describing the operation to be performed. Listings of emulation commands, interrogation

commands, and utility commands are provided in Tables
7-1, 7-2 and 7-3, respectively.

Operation

Command
Base

Establishes mode of display for output
data.

Cable Card

Display

memory, 8080 regis8080 flags, 8080 pins,
snap data, symbol table, or other diagnostic data on list device. May also be
used for base-to-base conversion, or for
addition or subtraction in any base.
Prints contents of

ters, input ports,

The cable card is included for cable driving. It transmits
address and data bus information to the user system
through a 40-pin connector that plugs into the user system in the socket designed for the 8080 when enabled
by the processor module’s user bus control logic.

Change

Alters contents of memory, register, out-

put port, or 8080 flag.

Software

XFORM

The ICE-80 software driver is a RAM-based program providing easy to use English language commands for
defining breakpoints, initiating emulation, and interrogating and altering the user system status recorded
during emulation. ICE-80 commands are configured with

Table 7-2. ICE-80 Interrogation Commands

emulation and allows
user to specify breakpoints, data retrieval,
and conditions under which emulation
Initiates real-time

Load

Fetches user symbol table and object
code from input device.

Save

Sends user symbol table and object code
to output device.

Initiates emulation in single or multiple
instruction increments. User may specify
register dump or tailor diagnostic activity to his needs following each step, and
define conditions under which stepping

Equate

Fill

Move

Delimits blocks of instructions for which

Timeout

to occur.

Resumes real-time emulation.

Call

Emulates user system interrupt.

Fills memory range with specified value.

Moves block of memory data to another
Enables/disables user

CPU

V4

second

wait state timeout.

register dump or tailored diagnostics are

Continue

Enters symbol name and value to user
symbol table.

area of memory.

should continue.

Range

Operation

Command

should be reinitiated.

Step

Looks through memory range for specified value.

Operation

Command
Go

Search

Defines memory and I/O status.

List

Defines

list

device (diskette-based ver-

sion only).
Exit

Returns program control to monitor.

Table 7-1. ICE-80 Emulation Commands

Table 7-3. ICE-80 Utility Commands

SPECIFICATIONS

Diskette-Based

Operating Environment

Paper Tape-Based
Operating Environment

Required Hardware
Intellec system

Required Hardware

32 K bytes RAM memory
System console
Intellec diskette operating system

Intellec system
System console

Reader device

ICE-80 module

Punch device
ICE-80 module

Required Software

System monitor

Required Software
System monitor

1SIS-II

7-5

ICE-80™ IN-CIRCUIT EMULATOR
System Clock
Crystal controlled 2.185 MHz ±0.01%. May be replaced

Iqd = 79 mA max; 45 mA typ
V bb = -9V, ±5%

by user clock through jumper selection.

Ibb= 1 mA max; IfiA typ

Physical Characteristics

Environmental Characteristics

— 12.00 (30.48 cm)
Height — 6.75
(17.15 cm)
Depth — 0.50
(1.27 cm)
Weight — 8.00 lb (3.64 kg)

Operating Temperature

Width

in.

Operating Humidity
without condensation

in.

in.

— 0°C to 40 °C
— Up to 95% relative humidity

Equipment Supplied
Printed circuit modules (2)

Electrical Characteristics

Interface cables and buffer board
ICE-80 software driver, paper tape version

DC Power Requirements
V cc = +5V, ±5%
Icc — 9-81 A max; 6.90A typ

(ICE-80 software driver, diskette-based version
plied with diskette operating systems)

Vpo = + 12V, ± 5%

Operator’s Manual

ORDERING INFORMATION
Part Number

Description

MDS-80-ICE

8080 CPU in-circuit emulator, cable
assembly and interactive software
included

7-6

is

sup-

iny
UPP-103*

UNIVERSAL PROM PROGRAMMER
* Replaces

UPP101, UPP-102 Universal PROM Programmers

development system peripheral
for PROM programming and verification

Universal PROM mapper software provides powerful data manipulation and

Provides personality cards for program-

Provides flexible power source for
system logic and programming pulse

Intellec®

ming all Intel PROM families

programming commands

generation

Holds two personality cards to facilitate
Provides zero insertion force sockets for
both 16-pin and 24-pin PROMs

programming operations using several

PROM types

programming and verifying all of
The UPP-103 Universal PROM Programmer is an Inteliec system peripheral capable of
PROM memory portions of the 8748
the Intel programmable ROMs (PROMs). In addition, the UPP-103 programs the
verification
8741 UPI, the 8755 PROM and I/O chip and the 2920 signal processor. Programming and
microcomputer,

operations are initiated from the Intellec development system console and are controlled
per (UPM) program.

by the universal PROM map-

FUNCTIONAL DESCRIPTION
Universal PROM Programmer

Universal PROM Mapper

The basic Universal PROM Programmer (UPP) consists
of a controller module, two personality card sockets,
a
front panel, power supplies, a chassis, and an Intellec
development system interconnection cable. An Intel
4040- based intelligent controller monitors the commands from the Intellec System and controls the data
transfer interface between the selected PROM personality card and the Intellec memory. A unique
personality
card contains the appropriate pulse generation functions for each Intel PROM family. Programming and verifying any Intel PROM may be accomplished by selecting
and plugging in the appropriate personality card. The
front panel contains a power-on switch and indicator, a
reset switch, and two zero-force insertion sockets (one
16-pin and one 24-pin or two 24-pin). A central power
supply provides power for system logic and for PROM
programming pulse generation. The Universal PROM
Programmer may be used as a table top unit or mounted
in

The Universal PROM Mapper (UPM) is the software program used to control data transfer between paper tape
or diskette files and a PROM plugged into the Universal
PROM Programmer. It uses Intellec system memory for
intermediate storage. The UPM transfers data in 8-bit
HEX, BNPF, or binary object format between paper tape
or diskette files and the Intellec system memory. While
the data is in Intellec system memory, it can be displayed and changed. In addition, word length, bit position, and data sense can be adjusted as required
for the
PROM to be programmed. PROMs may also be duplicated or altered by copying the PROM contents into the
Intellec system memory. Easy to use program and com-

pare commands give the user complete control over pro-

gramming and verification operations. The UPM eliminates the need for a variety of personalized PROM pro-

gramming routines because it contains the programming algorithms for all Intel PROM families. The UPM
(diskette based version) is included with the Universal

a standard 19-inch RETMA cabinet.

PROM Programmer.

SPECIFICATIONS
Hardware Interface

UP P-955: 8755A personality card with 40-pin adaptor

— Two 8-bit unidirectional buses
Commands — 3 write commands, 2 read commands,
Data

socket

PROM Programming Sockets

one initiate command

UPP-501: 16-pin/24-pin socket pair

Physical Characteristics

UPP-502: 24-pin/24-pin socket pair

— 6 (14.7 cm)
Height - 7
(17.2 cm)
Depth — 17
(41.7 cm)
Weight — 18 lb (8.2 kg)
Width

in.

UPP-562: Socket adaptor for 3621, 3602, 3622, 3602A

in.

3622A
UPP-555: Socket adaptor for 3604 AL, 36046-6, 3608

in.

3628, 3636

UPP-566: Socket adaptor for 3605, 3625, 3605A, 3625A

Electrical Characteristics

AC Power Requirements — 50-60 Hz; 115/230V AC: 80W

Equipment Supplied

Environmental Characteristics
Operating Temperature

— 0°C to 55°C

Cabinet

Optional Equipment

Power supplies

Personality Cards

4040 intelligent controller module
Specified zero insertion force socket pair

UPP-816: 2716 personality card

Intellec development system interface cable

UPP-832: 2732 personality card

Universal

UPP-848: 8748, 8741 personality card with 40-pin adaptor
socket

UPP-865: 3602, 3622, 3602A, 3622A, 3621, 3604, 3624,
3604A, 3624A, 3604AL, 36046-6, 3605, 3605A, 3625,
3625A, 3608, 3628, 3636

Reference Manuals

UPP-872: 8702A/1702A personality card

—

9800819
Universal PROM Programmer User’s Manual
(SUPPLIED)

UPP-878: 8708/8704/2708/2704 personality card

ORDERING INFORMATION
Part Number

Description

UPP-103

Universal PROM prograr mer with

PROM Mapper program (diskette-based ver-

sion)

16-pin/24-pin socket pair and
24-pin/24-pin socket pair.

7-8

MODEL 220

9

INTELLEC® SERIES II

MICROCOMPUTER DEVELOPMENT SYSTEM
Complete microcomputer development
system in one package for MCS-86,
MCS-85, MCS-80 and MCS-48™

Integral CRT with detachable upper/
lower case typewriter-style full ASCII

keyboard

microprocessor families
Integral 250K-byte floppy disk with total
storage capacity expandable to over 2M

Single LSI electronics board with CPU,
32K bytes RAM memory, and 4K bytes

bytes

ROM memory

Powerful ISIS-II Diskette Operating
System with relocating macroassembler,

Self-test diagnostic capability

linker, and locater

Eight-level nested, maskable priority

Standard MULTIBUS with multiprocessor and DMA capability

interrupt system

Compatible with standard Intellec®/
iSBC™ expansion modules
Built-in interfaces for high speed paper

tape reader/punch, printer, and universal

Software compatible with previous

PROM programmer

Intellec®

systems

microcomputer development
The Model 220 Intellec Series II Microcomputer Development System is a complete
memory, 4K bytes of ROM
system integrated into one compact package. It includes a CPU with 32K bytes of RAM
case capability,
upper/lower
and
controls
cursor
with
keyboard
ASCII
memory a 2000-character CRT, detachable full
software allows the Model 220 to be
System
Operating
Diskette
ISIS-II
Powerful
drive.
diskette
floppy
250K-byte
and a
MCS-85, MCS-80, or MCS-48
used quickly and efficiently for assembling and debugging programs for Intel’s MCS-86,

file handling operations for the
microprocessor families without the need for paper tape handling. ISIS-II performs all
in conjunction with an optional
used
When
application.
own
his
of
user, leaving him free to concentrate on the details
development tools necessary
software
and
hardware
the
all
provides
Model
220
the
module,
(ICE)
emulator
in-circuit

for the rapid development of a microcomputer-based product.

’-9

MODEL 220
FUNCTIONAL DESCRIPTION

Input/Output

—

Hardware Components
The Intellec Series
Model 220 is a packaged, highly
integrated microcomputer development system consisting of a CRT chassis with a 6-slot cardcage, power supply, fans, cables, single floppy diskette drive, and two
II

printed circuit cards. A separate, full ASCII keyboard is

connected with a cable.

CPU Cards — The master CPU card contains its own
microprocessor, memory, I/O, interrupt, and bus interface circuitry, fashioned from Intel’s high-technology
LSI components. Known as the integrated processor
board (IPB), it occupies the first slot in the cardcage. A
second, slave CPU card, is responsible for all remaining
I/O control, including the CRT and keyboard interface
and floppy disk control. This card, mounted on the rear
panel, also contains its own microprocessor, RAM and

ROM memory, and I/O interface, thus in effect creating a
dual processor environment. Known as the I/O controller (IOC), the slave CPU card communicates with the
IPB over an 8-bit bidirectional data bus, thus leaving the

remaining 5 slots in the cardcage available for system
expansion. A block diagram of the IOC is shown in
Figure 7-4.

IPB Serial Channels
The I/O subsystem in the Model
220 consists of two parts: the IOC card and two serial
channels on the IPB itself. Each serial channel is RS232
compatible and is capable of running asynchronously
from 110 to 9600 baud or synchronously from 150 to 56K
baud. Both may be connected to a user defined data set
or data terminal. One channel contains current loop
adapters. Both channels are implemented using Intel’s
8251 USART. They can be programmatically selected to
perform a variety of I/O functions. Baud rate selection is
accomplished programmatically through an Intel 8253
interval timer. The 8253 also serves as a real-time clock
for the entire system. I/O activity through both serial
channels is signaled to the system through a second
8259 interrupt controller, operating in a polled mode,
nested to the primary 8259.

IOC Interface

— The remainder of system I/O activity

takes place in the IOC. The IOC provides interfaces for
the CRT, keyboard, integral floppy disk and standard
Intellec peripherals, including a printer, high speed
paper tape reader/punch, and universal PROM programmer. The IOC contains its own independent microprocessor, also an 8080A-2. This CPU controls all I/O operations, as well as supervising communications with the

System Components
The heart of the IPB is an Intel NMOS 8-bit microprocessor, the 8080A-2, running at 2.6 MHz. 32K bytes of
RAM memory are provided on the board using Intel 16K
RAMs. 4K of ROM is provided, preprogrammed with system bootstrap “self-test” diagnostics and the Intellec
Series II System Monitor. The eight-level vectored priority interrupt system allows interrupts to be individually
masked. Using Intel’s versatile 8259A interrupt controller, the interrupt system may be user programmed to
respond to individual needs.

IPB. 8K bytes of ROM contain all I/O control firmware.
8K bytes of ROM are used for CRT screen refresh storage and the floppy disk buffer. These do not occupy any
space in Intellec Series main memory since the IOC is
II

a totally independent microcomputer subsystem.

—

Integral CRT Display
The CRT is a 12-inch raster
scan-type monitor with a 50/60 Hz vertical scan rate and

15.5 kHz horizontal scan rate. Controls are provided for
brightness and contrast adjustments. The interface to
the CRT is provided through an Intel 8275 single chip,

programmable CRT controller. The master processor on

Figure 7-4. I/O Controller (IOC) Block Diagram (or the Model 220 Intellec Series II Microcomputer

7-10

Development System

MODEL 220
the IPB transfers a character for display to the IOC,
where it is stored in RAM. The CRT controller reads a
line at a time into its line buffer through an Intel 8257
DMA controller and then feeds one character at a time
to the character generator to produce the video signal.

Timing for the CRT control is provided by an Intel 8253
interval timer. The screen display is formatted as 25
rows of 80 characters. The full set of ASCII characters
are displayed, including lower-case alphas.

standard Intel lec peripherals, including a printer, high
speed paper tape reader, high speed paper tape punch,

and universal PROM programmer. Communication
between the IPB and IOC is maintained over a separate,
8-bit bidirectional data bus. Connectors for the devices
named above, as well as the two serial channels, are
mounted directly on the IOC itself.

Control

Keyboard — The keyboard interfaces directly to the IOC
processor via an 8-bit data bus. The keyboard contains
an Intel UPI-41 Universal Peripheral Interface, which
scans the keyboard, encodes the characters, and buffers the characters to provide N-key rollover. The keyboard itself is a high quality typewriter-style keyboard
containing the full ASCII character set. An upper/lower
case switch allows the system to be used for document
preparation. Cursor control keys are also provided.

Floppy Disk Drive

User control is maintained through a front panel conpower switch and indicator, reset/boot
switch, run/halt light, and eight Interrupt switches and
indicators. The front-panel circuit board is attached
directly to the IPB, allowing the eight interrupt switches
to connect to the primary 8259A, as well as to the Insisting of a

tellec Series II bus.

MULTIBUS Capability
Intellec Series II models implement the industrystandard MULTIBUS. MULTIBUS enables several bus
masters, such as CPU and DMA devices, to share the
bus and memory by operating at different priority levels.
Resolution of bus exchanges is synchronized by a bus
clock signal derived independently from processor
clocks. Read/write transfers may take place at rates up
to 5 MHz. The bus structure is suitable for use with any

All

The floppy disk drive is controlled by an Intel 8271
single chip, programmable floppy disk controller. It
transfers data via an Intel 8257 DMA controller between
an IOC RAM buffer and the diskette. The 8271 handles
reading and writing of data, formatting diskettes, and
reading status, all upon appropriate commands from the
IOC microprocessor.

Intel

microcomputer family.

Peripheral Interface

A UPI-41 Universal Peripheral Interface on the IOC board
performs similar functions to the UPI-41 on the PIO
board in the Model

210.

It

provides interface for other

Expansion
The Model 220 may be expanded to 64K of RAM and up
to 2.25M bytes of on-line diskette storage.

Direct Memory Access (DMA)

SPECIFICATIONS

Standard capability on MULTIBUS; implemented for
user selected DMA devices through optional DMA

Host Processor (IPB)
8080A-2 based, operating at 2.600 MHz.

module — maximum transfer rate of 2 MHz.

—

32K, expandable to 64K with iSBC 032 RAM
RAM
boards (system monitor occupies 62K through 64K)

Memory Access Time
RAM — 585 ns max
PROM — 450 ns max

ROM — 4K (2K in monitor, 2K in boot/diagnostic)
Bus — MULTIBUS, maximum transfer rate of 5 MHz
Clocks — Host processor, crystal controlled at 2.6 MHz,
bus clock, crystal controlled at 9.8304 MHz

Diskette

— 250K bytes (formatted)
Diskette System Transfer Rate — 160K bits/sec

Diskette System Capacity

I/O Interfaces

Diskette System Access Time

2 Serial I/O Channels, RS232C, at 110-9600 baud (asynchronous) or 1 50-56 K baud (synchronous). Baud rates
and serial format fully programmable using Intel 8251A
USARTs. Serial Channel 1 additionally provided with 20

Track-to-Track: 10 ms max
Average Random Positioning: 260 ms max

Rotational Speed: 360 rpm
Average Rotational Latency: 83 ms max
Recording Mode: FM

mA current loop. Parallel I/O interfaces provided for
paper tape punch, paper tape reader,
UPP-103 Universal PROM Programmer.

printer,

and

Physical Characteristics

— 17.37 (44.12 cm)
— 15.81 (40.16 cm)
(48.59 cm)
Depth — 19.13
Weight — 86 lb (39 kg)

Width

Height

Interrupts

in.

in.

in.

8-level, maskable, nested priority interrupt network initiated from front panel or user selected devices.

7-11

MODEL 220
Keyboard

Reference Manuals

— 17.37 (44.12 cm)
Height — 3.0
(7.62 cm)
Depth — 9.0
(22.0 cm)
Weight - 6 lb (3 kg)
Width

— A Guide to Microcomputer Development
Systems (SUPPLIED)

in.

9800558

in.

in.

—

9800559
Intel lec Series
Manual (SUPPLIED)

Electrical Characteristics

9800306

DC Power Supply
Volts

Amps

Typical

Supplied

Supplied

System Requirements

+ 5 ±5%
+ 12 ±5%

-12 ±5%
- 10 ±5%
+ 15 ±5%
+ 24 ± 5%

30.0

75

2.5

0.2

0.3

0.05

1.5

0.15

1.5

1.3*

1.7

1.2*

II

Installation

and Service

— ISIS-II System User’s Guide (SUPPLIED)
—

9800556
Intellec Series II Hardware Reference Manual (SUPPLIED)

—

9800555
Intellec Series
(SUPPLIED)
9800301

II

Hardware Interface Manual

—

8080/8085 Assembly Language Programming Manual (SUPPLIED)

*Not available on bus.

AC Requirements

—

9800605
Intellec Series
Listing (SUPPLIED)

50-60 Hz. 1 1 5/230V AC

II

System Monitor Source

Equipment Supplied

—

Model 220 chassis

9800554
Intellec Series
(SUPPLIED)

Integrated processor board (IPB)

II

Schematic Drawing

I/O controller board (IOC)

CRT and keyboard
Reference manuals are shipped with each product only
designated SUPPLIED (see above). Manuals may be
ordered from any Intel sales representative, distributor
office or from Intel Literature Department, 3065 Bowers
Avenue, Santa Clara, California 95051.

250K-byte floppy disk drive

if

ROM resident system monitor
ISIS-II system diskette with MCS-80/MCS-85
macroassembler

ORDERING INFORMATION
Part Number

Description

MDS-220

Intellec Series II Model 220
microcomputer development system

(110V/60 Hz)

MDS-221

Intellec Series II Model 220
microcomputer development system

(220V/50 Hz)

7-12

MODEL 230
INTELLEC® SERIES

II

MICROCOMPUTER DEVELOPMENT SYSTEM
Complete microcomputer development
center for Intel MCS-86, MCS-80, MCS-85
and MCS-48™ microprocessor families

Powerful ISIS-II Diskette Operating
System software with relocating

macroassembler, linker, and locater

LSI electronics board with CPU, RAM,

ROM, I/O, and interrupt circuitry

1

million bytes (expandable to 2.5M

bytes) of diskette storage

64K bytes RAM memory
Supports PL/M and FORTRAN high level
languages

Self-test diagnostic capability

Eight-level nested, maskable priority

Standard MULTIBUS with multiprocessor
and DMA capability

interrupt system
Built-in interfaces for high speed paper

tape reader/punch, printer, and universal

Compatible with standard Intellec®/

PROM programmer

iSBC

Integral CRT with detachable upper/
lower case typewriter-style full ASCII

Software compatible with previous

keyboard

Intellec®

systems

The Model 230 Intellec Series II Microcomputer Development System is a complete center tor the development of
microcomputer-based products. It includes a CPU, 64K bytes of RAM, 4K bytes of ROM memory, a 2000-character CRT,
a detachable full ASCII keyboard, and dual double density diskette drives providing over 1 million bytes of on-line data
storage. Powerful ISIS-II Diskette Operating System software allows the Model 230 to be used quickly and efficiently
for assembling and/or compiling and debugging programs for Intel’s MCS-86, MCS-80, MCS-85, or MCS-48 microprocessor families without the need for handling paper tape. ISIS-II performs all file handling operations, leaving the user
free to concentrate on the details of his own application. When used in conjunction with an optional in-circuit
emulator (ICE) module, the Model 230 provides all the hardware and software development tools necessary for the
rapid development of a microcomputer-based product.

Intel. intellec. INSITE. Library Manager. MCS.

© Intel Corporation, 1978

MEGACHASSIS, MICROAMP. PROMPT, mSCOPE. MULTIBUS. RMX/80. UPI-41, ICE. a..d iSBC are trademarks of Intel Corp

7-13

MODEL 230
FUNCTIONAL DESCRIPTION

card communicates with the IPB over an 8-bit bidirectional data bus.

Hardware Components

Memory and Control Cards — In addition, 32K bytes of

The Intellec Series
Model 230 is a packaged, highly
integrated microcomputer development system consisting of a CRT chassis with a 6-slot cardcage, power supply, fans, cables, and five printed circuit cards. A
separate, full ASCII keyboard is connected with a cable.
A second chassis contains two floppy disk drives capa-

separate card

RAM (bringing the total to 64K bytes) is located on a
II

ble of double-density operation along with a separate
power supply, fans, and cables for connection to the

main chassis. A block diagram of the Model 230

is

shown in Figure 7-5.

in

the main cardcage. Fabricated from

Intel’s 16K RAMs, the board also contains all necessary

address decoding and refresh logic. Two additional
boards in the cardcage are used to control the two
double-density floppy disk drives.

—

Expansion
Two remaining slots in the cardcage are
available for system expansion. Additional expansion of
4 slots can be achieved through the addition of an Intellec Series II expansion chassis.

CPU Cards — The master CPU card contains its own

System Components

microprocessor, memory, I/O, interrupt and bus interface circuitry fashioned from Intel’s high technology LSI
components. Known as the integrated processor board
(IPB), it occupies the first slot in the cardcage. A second
slave CPU card is responsible for all remaining I/O control including the CRT and keyboard interface. This card,
mounted on the rear panel, also contains its own microprocessor, RAM and ROM memory, and I/O interface
logic, thus, in effect, creating a dual processor environment. Known as the I/O controller (IOC), the slave CPU

The heart of the IPB is an Intel NMOS 8-bit microprocessor, the 8080A-2, running at 2.6 MHz. 32K bytes of RAM
memory are provided on the board using Intel 16K
RAMs. 4K of ROM is provided, preprogrammed with system bootstrap “self-test” diagnostics and the Intellec
Series
System Monitor. The eight-level vectored priority interrupt system allows interrupts to be individually
masked. Using Intel’s versatile 8259A interrupt controller, the interrupt system may be user programmed to
II

respond to individual needs.

Figure 7-5. Intellec Series II Model 230 Microcomputer Development System Block Diagram

7-14

MODEL 230
Input/Output

—

The I/O subsystem in the Model
IPB Serial Channels
230 consists of two parts: the IOC card and two serial
channels on the IPB itself. Each serial channel is RS232
compatible and is capable of running asynchronously
from 110 to 9600 baud or synchronously from 150 to 56K
baud. Both may be connected to a user defined data set
One channel contains current loop
or terminal.
adapters. Both channels are implemented using Intel’s
8251 A USART. They can be programmatically selected
to perform a variety of I/O functions. Baud rate selection
is accomplished programmatically through an Intel 8253
interval timer. The 8253 also serves as a real-time clock
for the entire system. I/O activity through both serial
channels is signaled to the system through a second
8259 interrupt controller, operating in a polled mode
nested to the primary 8259.
IOC Interface

and universal PROM programmer. Communication
between the IPB and IOC is maintained over a separate
8-bit bidirectional data bus. Connectors for the four
devices named above, as well as the two serial channels, are mounted directly on the IOC itself.

Control
User control is maintained through a front panel, consisting of a power switch and indicator, reset/boot
switch, run/halt light, and eight interrupt switches and
indicators. The front panel circuit board is attached
directly to the IPB, allowing the eight interrupt switches
to connect to the primary 8259A, as well as to the Intellec
Series II bus.

Diskette System
The Intellec Series II double density diskette system
provides direct access bulk storage, intelligent controller, and two diskette drives. Each drive provides Vz mil-

— The remainder of system I/O activity

takes place in the IOC. The IOC provides interface for
the CRT, keyboard, and standard Intellec peripherals
including printer, high speed paper tape reader/punch,
and universal PROM programmer. The IOC contains its
own independent microprocessor, also an 8080A-2. The
CPU controls all I/O operations as well as supervising
communications with the IPB. 8K bytes of ROM contain
all I/O control firmware. 8K bytes of RAM are used for
CRT screen refresh storage. These do not occupy space
in Intellec Series II main memory since the IOC is a

lion bytes of storage with a data transfer rate of 500,000

bits/second. The controller is implemented with Intel’s
powerful Series 3000 Bipolar Microcomputer Set. The
controller provides an interface to the Intellec Series II

system bus, as well as supporting up to four diskette
drives. The diskette system records all data in soft sector format. The diskette system is capable of performing

seven different operations: recalibrate, seek, format
track, write data, write deleted data, read data, and verify

totally independent microcomputer subsystem.

CRC.

Integral CRT

The diskette controller
Diskette Controller Boards
consists of two boards, the channel board and the interface board. These two PC boards reside in the Intellec
Series II system chassis and constitute the diskette
controller. The channel board receives, decodes and
responds to channel commands from the 8080A-2 CPU
in the Model 230. The interface board provides the
diskette controller with a means of communication with
the diskette drives and with the Intellec system bus. The
interface board validates data during reads using a
cyclic redundancy check (CRC) polynomial and generates CRC data during write operations. When the disk-

—

—

The CRT is a 12-inch raster scan type monitor
Display
with a 50/60 Hz vertical scan rate and 15.5 kHz horizontal
scan rate. Controls are provided for brightness and contrast adjustments. The interface to the CRT is provided
through an

Intel

8275 single chip programmable CRT

controller. The master processor on the IPB transfers a

character for display to the IOC, where it is stored in
RAM. The CRT controller reads a line at a time into its
line buffer

through an

Intel

8257

DMA controller and

then feeds one character at a time to the character generator to produce the video signal. Timing for the CRT
control is provided by an Intel 8253 interval timer. The
screen display is formatted as 25 rows of 80 characters.
The full set of ASCII characters are displayed, including
lower case alphas.

ette controller requires access to Intellec system mem-

board requests and maintains DMA
master control of the system bus, and generates the
appropriate memory command. The interface board also
acknowledges I/O commands as required by the Intellec
bus. In addition to supporting a second set of double

ory, the interface

—

The keyboard interfaces directly to the IOC
processor via an 8-bit data bus. The keyboard contains
an Intel UPI-41 Universal Peripheral Interface, which
scans the keyboard, encodes the characters, and buffers the characters to provide N-key rollover. The keyboard itself is a high quality typewriter style keyboard
containing the full ASCII character set. An upper/lower
case switch allows the system to be used for document
preparation. Cursor control keys are also provided.
Keyboard

density drives, the diskette controller may co-reside
with the Intel single density controller to allow up to 2.5
million bytes of on-line storage.

MULTIBUS Capability
Intellec Series II models implement the industry
standard MULTIBUS. MULTIBUS enables several bus
masters, such as CPU and DMA devices, to share the
bus and memory by operating at different priority levels.
Resolution of bus exchanges is synchronized by a bus
clock signal derived independently from processor
clocks. Read/write transfers may take place at rates up
to 5 MHz. The bus structure is suitable for use with any

All

Peripheral Interface

A UPI-41 Universal Peripheral Interface on the IOC board
performs similar functions to the UPI-41 on the PIO
board in the Model 210. It provides interface for other
standard Intellec peripherals including a printer, high
speed paper tape reader, high speed paper tape punch,

Intel

7-15

microcomputer family.

MODEL 230
AC Requirements — 50/60 Hz, 115/230V AC

SPECIFICATIONS
Host Processor (IPB)

RAM — 64K (system monitor occupies 62K through 64K)
ROM — 4K (2K in monitor, 2K in boot/diagnostic)

Environmental Characteristics
Operating Temperature

Diskette System Capacity (Basic Two Drives)

— 0° to 35°C (95°F)

Unformatted
Per Disk: 6.2 megabits
Per Track: 82.0 kilobits

Formatted

Equipment Supplied

Per Disk: 4.1 megabits
Per Track: 53.2 kilobits

Integrated processor board (IPB)

Model 230 chassis
I/O controller board (IOC)

Diskette Performance
Diskette System Transfer Rate — 500 kilobits/sec
Diskette System Access Time

32K RAM board
CRT and keyboard
Double density floppy disk controller (2 boards)

Track-t o-Track: 10 ms

Head Settling Time: 10 ms

Dual drive floppy disk chassis and cables

— 260 ms
— 360 rpm
Average Rotational Latency — 83 ms
Recording Mode — M 2 FM

2 floppy disk drives (51 2K byte capacity each)

Average Random Positioning Time

ROM-resident system monitor

Rotational Speed

ISIS-II system diskette with MCS-80/MCS-85
macroassembler

Physical Characteristics

— 17.37 (44.12 cm)
Height — 15.81
(40.16 cm)
Depth — 19.13
(48.59 cm)
Weight — 73 lb (33 kg)

Width

in.

Reference Manuals

in.

—

9800558
A Guide to Microcomputer Development
Systems (SUPPLIED)

in.

—

9800550
Intellec Series
Guide (SUPPLIED)

Keyboard
Width
Height

- 17.37
— 3.0

(7.62 cm)

9800306

— 9.0 (22.86 cm)
Weight — 6 lb (3 kg)
Depth

Installation

and Service

(44.12 cm)

in.

in.

II

in.

- ISIS-II System User’s Guide (SUPPLIED)

—

9800556
Intellec Series
ual (SUPPLIED)

II

Hardware Reference Man-

Dual Drive Chassis

— 16.88
Height — 12.08

Width

in.

(42.88 cm)

in.

(30.68 cm)

— 19.0 (48.26 cm)
Weight — 64 lb (29 kg)
Depth

in.

—

9800292
ISIS-II 8080/8085 Assembler Operator’s Manual (SUPPLIED)

—

Electrical Characteristics

9800605
Intellec Series II Systems Monitor Source
Listing (SUPPLIED)

DC Power Supply
Volts

Amps

Typical

Supplied

Supplied

System Requirements

+ 5 ± 5%

+ 12 ±5%

•

*

-12±5%
- 10 ±5%
+ 15± 5%
+ 24 ± 5%

30

—

9800554
Intellec Series II Schematic Drawings
(SUPPLIED)

14.25

2.5

0.2

0.3

0.05

1.5

15

1.5

Reference manuals are shipped with each product only
designated SUPPLIED (see above). Manuals may be
ordered from any Intel sales representative, distributor
office or from Intel Literature Department, 3065 Bowers
Avenue, Santa Clara, California 95051.
if

1.3

1.7

•Not available on bus.

ORDERING INFORMATION
Part Number

Description

MDS-230

Intellec Series
Model 230
microcomputer development system
II

(110V/60 Hz)

MDS-231

—

8080/8085 Assembly Language Programming Manual (SUPPLIED)

9800301

Intellec Series
Model 230
microcomputer development system
II

(220V/50 Hz)
7-16

Intel
ISIS-II

DISKETTE OPERATING SYSTEM

MICROCOMPUTER DEVELOPMENT SYSTEM
Supports up to two hard disk drives
(4 platters), four double density drives and

two single density drives, providing up to
17 megabytes of storage in one system
with up to 200 files per diskette, and

Supports resident, high level programming languages, PL/M, FORTRAN,
BASIC, and COBOL
Provides dynamic allocation and
deallocation of disk sectors for
variable length files

992 files per disk platter
Relocating MCS-80/MCS-85™ macroassembler contains extended macro and
conditional assembly capability

Linker automatically combines
separately assembled or compiled programs into single relocatable module

Command file facility allows console
commands to be submitted from

Library manager™ creates and updates

disk file

program libraries

Disk operating system functions
callable from user programs

Supports all standard Intellec®

Disk system text editor provides string
search, substitution, insertions, and
deletion commands

peripherals

Provides access to all Intellec® monitor
facilities

The ISIS-II Microcomputer Development System Disk Operating System is a sophisticated, general purpose, high
speed data handler and file manipulation system. It provides the ability to edit, assemble, compile, link, relocate, execute, and debug programs, and performs all user file management tasks. The ISIS-II operating system resides on the
system disk and supports a broad range of user oriented design aid software. Total file management and input editing
features greatly reduce software development time. The ISIS-II relocating macroassembler, linker, object locator, and
passes of the assembler may be executed without the
directed to any output device, or stored as disk files.
and
listings
may
be
need for user intervention. Object code
Powerful system console commands are provided in an easy to use context. Monitor mode may be entered by a special
library manager may be loaded from the disk in seconds. All

prefix to any system command or program call.

7-17

ISIS-II

—

FUNCTIONAL DESCRIPTION

Call Capability
The delete, rename, and attribute
assignment commands, along with a set of file I/O
routines, are callable from user written programs. This
allows the user to open, close, read, and write disk files,
access standard peripheral devices, write error messages, and load other programs via simple program call

The ISIS-II operating system resides on the system disk
and supports a broad range of user oriented design aid
software. Total file management and input editing features greatly reduce software development time. The
ISIS-II relocating macroassembler, linker, object locator,

statements.

and library manager may be loaded from the disk in
seconds. All passes of the assembler may be executed
without the need for user intervention. Object code and
listings may be directed to any output device, or stored
as disk files. A diagram of the ISIS-II system program
development flow is shown in Figure 7-6.

Command

Operation

Initialize

Initializes a diskette for use by the sys-

disk

tem. Requires only one disk drive.

Attribute

assignment

Assigns specified attributes to a file,
such as write-protect.

Copy

Creates

ISIS-II Files

A file is a user defined collection of information of

existing

of

diskette

from one device

to another.

variable length. ISIS-II also treats each of the standard

system peripherals as files through preassignment of unique file names to each device. In this manner
data may be copied from one device to another (i.e., tape
Intel lec

reader to tape punch) using the same command required

Removes a file from the diskette,
thereby freeing space for allocation of
other files.

Delete

Lists name, size, and attributes of files

Directory

to copy one disk data file to another. ISIS-II provides
automatic implementation of random access disk files,
each file is identified by a user chosen name unique on
its disk. Up to 200 files may be stored on each disk, 992
on each hard disk platter.

from a specified diskette directory.

Rename

Allows diskette files to be renamed.

Format

Initializes a diskette for use by the sysi

Debug
ISIS-II

copies

files or transfers files

System Commands

ISIS-II system commands are designed to provide the
user with a powerful, easy to use program and file manipulation capability. Several commands have the capability of operating on several files at once via the wildcard
file naming convention. As an example, the command
DELETE
.OBJ deletes all files in the disk directory
with the suffix .OBJ. A summary of ISIS-II system commands is presented in Table 7-4.

Submit

tern. (Use with

two or more drives.)

Loads a specified program from a diskette into memory and then transfers
control to the Intellec monitor for execution and or debugging.
Provides

capability

series of ISIS-II

for

executing

a

commands previously

written to a diskette file.

Additional
hard disk.

commands are provided for support of the

Table 7-4.

ISIS-II System

Commands

ISIS ll

loader

OE BUG
VIA

MONITOR

OPTIONAL
ICE 80
ICE 85
IN CIRCUIT

EMULATOR

PROM
PROGRAMMER

Figure 7-6. Program Development Flow Using ISIS-II Disk Operating System

7-18

isis-ii

error messages. A cross reference listing is also option-

Text Editor

ISIS-II

optionally produced. The list file may then be examined
from the system console or copied to a specified list

The ISIS-II text editor is a comprehensive tool for
assembly language. PL/M, and FORTRAN program entry
and correction for Intel microcomputers. Its command

device.

— The relocatable object

set allows either entire lines of text or individual charac-

Object File

ters to be manipulated within a line.

the assembler may be combined with other object programs residing on the disk to form a single relocatable

—

Programs may be entered from the
Program Entry
console keyboard or may be loaded directly. Text is
stored internally in the editor’s workspace, and may be

file

generated by

object module or it can be converted to an absolute form
for subsequent loading and execution.

edited with the following commands:
•

ISIS II Linker

string insertion or deletion

•

string search

•

string substitution

Utility

editing

The ISIS-II linker provides the capability to combine the
outputs of several independently compiled or assembled object modules (files) into a single relocatable
object module. The linker automatically resolves all
external program and data references during the linking
process. Object modules produced from previous link
operations may be easily linked to a new module. ISIS-II
also provides facilities to ease the generation of overlays. An optional link map showing the contents and
lengths of each segment in the output module can be

Commands — To facilitate the use of these
commands, utility commands are used to

change positions in the workspace. These include:
•
•

•

move pointer by line or by character
move pointer to start of workspace
move pointer to end of workspace

— The contents of the workspace are stored on

diskette and can be immediately accessed by ISIS-II
commands or other programs, such as the ISIS-II MCS-

requested. All unsatisfied external references are also
listed. If requested by the user, the ISIS-II linker can
search a specified set of program libraries for routines

80/MCS-85 macroassembler.

to be included in the output module.

Storage

For users with 64K of RAM memory, the CREDIT Text
Editor is available. See CREDIT data sheet for more

ISIS II Object Locator

The ISIS-II locate program takes output from either the
resident FORTRAN or PL/M compilers, the macroassembler, or the linker and transforms that output from
relocatable format to an absolute format which may

information.
ISIS-II MCS-80/MCS-85™ Relocating

Macroassembler

then be loaded via the standard ISIS-II loader, or loaded
into an appropriate in-circuit emulator (ICE) module.
During the locate process, code, data, and stack segments may be separately relocated, allowing code to be

Address Translation — The ISIS-II MCS-80/MCS-85
macroassembler translates assembly language mnemonics into relocatable and/or absolute object code
modules. In addition to eliminating the errors of hand
translation, the ability to refer to program addresses
with symbolic names makes it easy to modify programs
by adding or deleting instructions. Extended macro
capability eliminates the need to rewrite similar sections of code repeatedly, and thus simplifies program
documentation. Conditional assembly permits the
assembler to include or delete sections of code that
may vary from system to system, such as the code re-

put in areas to be subsequently specified as ROM, while
data and the stack are directed to RAM addresses. A
locate map showing absolute addresses for each code
and data segment and a symbol table dump listing symbols, attributes, and absolute address may also be

requested.
ISIS-II Library Manager™

The ISIS-II Library Manager program provides for the

quired to handle optional external devices. Additionally,
the user is allowed complete freedom in assigning the
location of code, data, and stack segments.

creation and maintenance of a program library containing Intel-provided and user-written programs and subroutines. These library routines may be linked to a pro-

—

List File
The ISIS-II Assembler accepts disk file input
and produces a relocatable object file with corresponding symbol table and assembly listing file, including any

gram using the ISIS-II linker. Several libraries, each containing its own set of routines, may be created.

ORDERING INFORMATION
Part Number

Description

Included with all Intellec Series II Microcomputer Development Systems.

Not available separately.

7-19

PL/M-80

HIGH LEVEL PROGRAMMING LANGUAGE
INTELLEC® RESIDENT COMPILER
Speeds project completion with
increased programmer productivity

Provides resident operation on intellec®

Microcomputer Development System
and Intellec® Series II microcomputer
development systems

Cuts software development and
maintenance costs

Produces relocatable and linkable object
code

Improves product reliability with
simplified language and consequent
error reduction

Sophisticated code optimization reduces
application memory requirements

Eases enhancement as system
capabilities expand

The PL/M-80 High Level Programming Language Intellec Resident Compiler is an advanced, high level programming
language for Intel 8080 and 8085 microprocessors, iSBC-80 OEM computer systems, and Intellec microcomputer
development systems. PL/M has been substantially enhanced since its introduction in 1973 and has become one of
the most effective and powerful microprocessor systems implementation tools available. It is easy to learn, facilitates
rapid program development and debugging, and significantly reduces maintenance costs. PL/M is an algorithmic
language in which program statements naturally express the algorithm to be programmed, thus freeing programmers
to concentrate on system development rather than assembly language details (such as register allocation, meanings
of assembler mnemonics, etc.). The PL/M compiler efficiently converts free-form PL/M programs into equivalent 8080/
8085 instructions. Substantially fewer PL/M statements are necessary for a given application than would be using
assembly language or machine code. Since PL/M programs are problem oriented and thus more compact, programming in PL/M results in a high degree of productivity during development efforts, resulting in significant cost reduction in software development and maintenance for the user.

7-20

PL/M-80

FUNCTIONAL DESCRIPTION

Block Structure

— aids in utilization of structured pro-

gramming techniques.
The PL/M compiler is an efficient multiphase compiler
that accepts source programs, translates them into

Access — provided by high level PL/M statements to
hardware resources (interrupt systems, absolute

object code, and produces requested listings. After

addresses, CPU input/output ports).

compilation, the object program may be first linked to
other modules, then located to a specific area of memory, and finally executed. The diagram shown in Figure
7-7 illustrates a program development cycle where the
program consists of three modules: PL/M, FORTRAN,
and assembly language. A typical PL/M compiler procedure is shown on the following page.

enables complex data structures to
Data Definition
be defined at a high level.

—

Re-entrant Procedures

— may be specified as a user

option.

Benefits
PL/M is designed to be an efficient, cost-effective solution to the special requirements of microcomputer software development as illustrated by the following benefits of PL/M use:

Features
Major features of the Intel PL/M-80 compiler and pro-

Low Learning Effort — even for the novice programmer,

gramming language include:

—

because PL/M is easy to learn.

Resident Operation
on Intellec microcomputer development systems eliminates the need for a large inhouse computer or costly timesharing system.

—

on critical projects,
Earlier Project Completion
because PL/M substantially increases programmmer
productivity while reducing program development time.

—

Object Code Generation
of relocatable and linkable
object codes permits PL/M program development and
debugging in small modules, which may be easily linked
with other modules and/or library routines to form a

Lower Development Cost

grammer

productivity

— because increased pro-

requiring

less

programming

resources for a given function translates into lower soft-

complete application.

ware development costs.

—

—

Extensive Code Optimization
including compile time
arithmetic, constant subscript resolution, and common
subexpression elimination, results in generation of
short, efficient CPU instruction sequences.

—

Symbolic Debugging
fully supported
compiler and ICE-85 in-circuit emulators.

in

because of PL/M’s use of simple
Increased Reliability
statements in the program algorithm, which are easier
to correct and thus substantially reduce the risk of
costly errors in systems that have already reached full
production status.

the PL/M

Easier Enhancement and Maintenance — because programs written in PL/M are easier to read and easier to
understand than assembly language, and thus are easier to enhance and maintain as system capabilities
expand and future products are developed.

—

Compile Time Options
includes general listing format commands, symbol table listing, cross reference
listing, and “innerlist” of generated assembly language
instructions.

Figure 7-7. Program Development Cycle Block Diagram

7-21

PL/M-80
Simpler Project Development

—

because the Intellec
development system with resident
PL/M-80 is all that is needed for developing and debug-

ging software for 8080 and 8085 microcomputers, and

microcomputer

the use of expensive (and remote) timesharing or large

computers is consequently not required.

$OBJECT(:F1:FACT.OB2)

SDEBUG
SXREF
$TITLE(‘FACTORIAL GENERATOR
$PAGEWIDTH(80)
FACT:
DO;

1

2

— PROCEDURE’)

DECLARE NUMCH BYTE PUBLIC;

1

FACTORIAL: PROCEDURE (NUM,PTR) PUBLIC;
DECLARE NUM BYTE, PTR ADDRESS;
DECLARE DIGITS BASED PTR (161) BYTE;

3

1

4

2

5

2

6

2

DECLARE (l,C,M) BYTE;

7

2

9

2

NUMCH = 1; DIGITS(1)= 1;
DO M = 1 TO NUM;

10

3

11

3

12

4

13

4

14

4

15

4

C = 0;
DO = 1 TO NUMCH;
DIGITS(I) = DIGITS(I)* M + C;
1

C= DIGITS(I)/1 0;
DIGITS(I)= DIGITS(I)

3

IF

3

DO;

18

4
4

21

4

22

4

#

COO THEN

16

17

20

— 10 C;

END;

NUMCH= NUMCH+ 1; DIGITS(NUMCH) = C;
C= DIGITS(NUMCH)/10;

DIGITS(NUMCH)= DIGITS(NUMCH) — 10*C;

END
END;

24

2

END FACTORIAL;

25

1

END;
PL/M-80 Compiler Sample Factorial Generator Procedure

SPECIFICATIONS

Shipping Media
Diskette

Operating Environment
Required Hardware

Reference Manuals

Intellec microcomputer development system

980026

65K bytes of memory
Dual diskette drives

—

System console
teletype
Optional Hardware
CRT as system console

Reference manuals are shipped with each product only
if designated SUPPLIED (see above). Manuals may be
ordered from any Intel sales representative, distributor
office or from Intel Literature Department, 3065 Bowers
Avenue, Santa Clara, California 95051.

Line printer

Required Software

— ISIS-II diskette operating system

ORDERING INFORMATION
Product Code

Description

MDS-PLM

High level language compiler

— PL/M-80 Programming Manual (SUPPLIED)
—

9800300
ISIS-II PL/M-80 Compiler Operator’s Manual
(SUPPLIED)

7-22

intel
ICE-85™
MCS-85™ IN-CIRCUIT EMULATOR
Connects the Intellec® System
Resources to the user-configured system

Displays trace data from the user’s

8085 in assembler mnemonics and
allows personality groupings of data

via a 40-pin adaptor plug

sampled by the external 18-channel
trace module

Executes user system software in
real-time

Allows user-configured system to share
Intellec®

memory and I/O facilities

Extends ICE capabilities to the rest of
the prototype system peripheral circuitry
by allowing the user to execute his own

Provides 1023 states of 8085 trace data
plus 18 additional logic signals via an
External Trace Module

peripheral chip analysis routines

Offers full symbolic debugging capability

Provides ability to examine and alter

for both assembly language and Intel’s

high-level compiler languages PL/M-80

MCS-85™ registers, memory, flag values,

and FORTRAN-80

interrupt bits and I/O ports

The ICE-85 module resides in the Intellec® Microcomputer Development System and interfaces to the user system’s
8085. In addition, an external trace module provides access to user system peripheral circuitry via a user-configured
DIP clip for peripheral ICs or may be attached to as many as 18 separate prototype signal nodes via individual probe
clips. Using the ICE-85 module, the designer can execute prototype software in real-time or single-step mode and can
substitute Intellec® system memory and I/O for user system equivalent. ICE capability can be extended to the rest of
the user system peripheral circuitry by allowing the user to create and execute a library of user-defined peripheral chip
analyzer routines. All user access to the prototype system software may be done symbolically by assigning names to
program locations and data, I/O ports and groups of external trace signals. For the first time, in-circuit emulation
extends beyond the user’s prototype CPU to the entire user’s system, allowing In-System Emulation.

7-23

ICE-85™ IN-CIRCUIT EMULATOR

SYMBOLIC DEBUGGING CAPABILITY

INTEGRATED HARDWARE/SOFTWARE

ICE-85 allows the user to make symbolic references to

DEVELOPMENT

memory addresses and data in his program.
Symbols and PL/M-80 statement number may be subI/O ports,

The user prototype need consist of no more than an
8085 CPU socket and a user bus to begin integration of
software and hardware development efforts. Through
ICE-85 mapping capabilities, Intellec® System equivalents can be accessed for missing prototype hardware.
Hardware designs can be tested using the system software which will drive the final product.

stituted for numeric values in any of the ICE-85 commands. The user is relieved from looking up addresses
of variables or program subroutines.

The user symbol table generated along with the object
a PL/M-80 or FORTRAN-80 compilation or by
the ISIS-II 8080/8085 Macro Assembler is loaded into the

file during

The system integration phase, which can be so costly
when attempting to mesh completed hardware and software products, becomes a convenient two-way debug
tool when begun early in the design cycle.

System memory along with the user program
which is to be emulated. The user may add to this symIntel lec®

bol table any additional symbolic values for memory addresses, constants, or variables that are found useful
during system debugging. By referring to symbol

memory addresses, the user can examine, change or
break at the intended location.
ICE-85 provides symbolic definition of all 8085 registers,
bits and
flags. The following
symbolic
references are also provided for user convenience:
TIMER, the low-order 16 bits of a register containing the

interrupt

number of 2 MHz clock pulses elapsed during emulaHTIMER, the high-order 16 bits of the timer

tion;

PPC, the address of the last instruction
emulated; BUFFERSIZE, the number of frames of valid
trace data (between 0 and 1022).

counter;

PERSONALITY GROUPED DISPLAYS
Trace data

in

the 1023 by 42-channel real-time trace

memory buffer is displayed in easy to read format. The
user has the option to specify trace data displays in ac-

8085 assembler instruction mnemonics. The data
from the External Trace Module can be
grouped and symbolically named according to user
specifications and displayed in the appropriate number
base designation. Simple ICE-85 commands allow the
user to select any portion of the 42K-bit trace buffer for
immediate display.
tual

collected

INTERROGATION AND UTILITY

COMMANDS
DISPLAY/

MEMORY AND I/O MAPPING

CHANGE

Memory and I/O for the user system can be resident in
user system or “borrowed” from the
System through ICE-85’s mapping capability.
the

Intellec®

EVALU-

ICE-85 separates user memory into 32 2K blocks. Each
block of memory can be defined independently. The
user may assign Intellec® System equivalents to take
the place of devices not yet designed for the user
system during prototyping. In addition, Intellec®
System memory or I/O can be accessed in place of
suspect user system devices during prototyping or production checkout.

Display/Changes the values of symbols and
the contents of 8085 registers, pseudoregisters, status flags, interrupt bits, I/O
ports and memory.
Displays the value of an expression in the

ATE

binary, octal, decimal or hexadecimal.

SEARCH

Searches user memory between locations
in a user program for specified contents.

CALL

Emulates a procedure starting at a
specified memory address in user memory.

ICALL

Executes a user-supplied procedure starting at a specified memory address in the

EXECUTE

Saves emulated program registers and
emulates a user-supplied subroutine to access peripheral chips in the user’s system.

Intellec®

The user can also designate a block of memory or I/O as
nonexistent. ICE-85 issues error messages when
memory or I/O designated as nonexistent is accessed
by the user program.

7-24

System memory.

ICE-85™ IN-CIRCUIT EMULATOR

REAL TIME TRACE

EXTERNAL TRACE MODULE

ICE-85 captures valuable trace information from the
emulating CPU and the External Trace Module while the
user is executing programs in real time. The 8085 status,

TTL level signals from 18 points in the user system may

the user memory or port addressed, the data read or
written, the serial data lines and data from 18 external
signals, is stored for the last 1023 machine states executed (511 machine cycles). This provides ample data
for determining how the user system was reacting prior
to emulation break. It is available whether the break was
user-initiated or the result of an error condition.

synchronously sampled by the External Trace
Module and collected in ICE-85’s trace buffer. The

be

signals can be collected from a single peripheral chip
via the supplied 40-pin DIP clip or may be placed by the

user on up to 18 separate signal nodes using the supplied 18 individual probe clips. These signals are includ-

ed in the 42-channel breakpoint comparisons and clock
qualifiers. Also, data from these 18 channels may be
displayed in each to read, user-defined groupings.

For detailed information on the actions of CPU regisother system operations, the user may

ters, flags, or

operate

in

single or multi-step sequences tailored to

system debug needs.

SYNCHRONOUS OPERATION WITH
OTHER DESIGN AIDS
ICE-85 can be synchronized with other Intellec®
design aids by means of two external synchronization
lines. These lines are used to enable and disable ICE-85
trace data collection and to cause break conditions
based on an external signal which may not be included
in the ICE-85 breakpoint registers. In addition, ICE-85
can generate signals on these lines which may be used
to control other design aids.

BREAK REGISTERS/TRACE MEMORY
EMULATION CONTROLS AND

COMMANDS
GROUP

GO
STEP

Defines into a symbolically named group, a
channel or combination of channels from the
8085 Microprocessor and/or the External
Trace Module.
Initiates real-time emulation and controls
emulation break conditions.
Initiates

emulation

in

single

instruction

steps. User may specify the type and amount
of information displayed following each step,
and define conditions under which stepping

PRINT

ICE-85 has two breakpoint registers which are used to
break emulation, and two trace qualifier registers which
are used to control the collection of trace data during
emulation. Each register is 42 entries wide, one entry for
each channel and each entry can take any one of the
three values 0, 1 or “don’t care.”

The trace buffer, also 42 entries wide, collects data
sampled from 24 8085 processor channels and 18 external channels sampled by the External Trace Module. The
signals collected from the 8085 include address lines,
data lines, status lines and series input and output
lines. The 18 channels extending from the External
Trace Module synchronously sample and collect into
the trace buffer any user-specified

TTL compatible

should continue.

signal from the rest of the prototype system. “Break”
and “trace qualification” may therefore occur as a result

Prints the user-specified portion of the trace

of a match of any combination of up to 42 channels of

memory to the selected list device.

CPU and external circuitry signals.

7-25

ICE-85™ IN-CIRCUIT EMULATOR

SPECIFICATIONS

Physical Characteristics

ICE-85 Operating Environment

Printed Circuit Boards:

Width:

Required Hardware:

Microcomputer Development System
System Console
Intellec® Diskette Operating System
ICE-85 Module
Intellec®

Required Software:
System Monitor

12.00 in. (30.48 cm)

Height:

6.75 in. (17.15 cm)

Depth:

0.50 in. (1.27 cm)

Packaged Weight:

6.00 lb (2.73 kg)

Electrical Characteristics

ISIS-II

DC Power:

ICE-85 Software

V CC = + 5V ±5%
lcc = 12A maximum; 10A typical
V DD = + 12V ±5%
Ido = 80 mA maximum; 60 mA typical
V bb = -10V ±5%
BB = 1 mA maximum; 10 jiA typical

Equipment Supplied
18-Channel External Trace Module
Printed Circuit Boards (2)
Interface Cable and Emulation Buffer Module
Operator's Manual
ICE-85 Software, Diskette-Based Version

l

Environmental Characteristics

Emulation Clock

Operating Temperature: 0° to 40°C
Operating Humidity:
Up to 95% relative humidity
without condensation.

User’s system clock or ICE-85 adaptor socket
(6.144 MHz Crystal)

INTELLEC BUS

18 EXTERNAL TRACE BUFFER

Figure 7-8. ICE-85 Block Diagram

Ordering Information
Part Number

Description

MDS-85-ICE

8085 CPU In-Circuit Emulator and
18-Channel External Trace Module
7-26

intel
SDK-85

MCS-85™ SYSTEM DESIGN KIT
Large wire-wrap area for custom

Complete single board microcomputer
system including CPU, memory, and I/O

interfaces

Popular 8080A instruction set

Easy to assemble, low cost, kit form
Interfaces directly with TTY

Extensive system monitor software in

High performance 3 MHz 8085A CPU

ROM

(1.3 \x s instruction cycle)

Comprehensive design library included

Interactive LED display and keyboard

The SDK-85 MCS-85 System Design Kit is a complete single board microcomputer system in kit form. It contains all
components required to complete construction of the kit, including LED display, keyboard, resistors, caps, crystal,
and miscellaneous hardware. Included is a preprogrammed ROM containing a system monitor for general software
utilities and system diagnostics. The complete kit includes a 6-digit LED display and a 24-key keyboard for a direct insertion, examination, and execution of a user’s program. In addition, it can be directly interfaced with a teletype terminal. The SDK-85 is an inexpensive, high performance prototype system that has designed-in flexibility for simple in-

terface to the user’s application.

7-27

SDK-85
System Integration — The 8085A incorporates all of the
features that the 8224 (clock generator) and 8228 (system controller) provided for the 8080A, thereby offering
a high level of system integration.

FUNCTIONAL DESCRIPTION
The SDK-85 is a complete 8085A microcomputer system
on a single board, in kit form. It contains all necessary
components to build a useful, functional system. Such
items as resistors, capacitors, and sockets are included.
Assembly time varies from three to five hours, depending on the skill of the user. The SDK-85 functional block
diagram is shown in Figure 7-9.

—

Addressing
The 8085A uses a multiplexed data bus.
The 16-bit address is split between the 8-bit address bus
and the 8-bit address/data bus. The on-chip address
latches of 8155/8156/8355/8755 memory products allows
a direct interface with the 8085A.

8085A Processor

System Monitor

The SDK-85 is designed around Intel’s 8085A microprocessor. The Intel 8085A is a new generation, complete

A compact but powerful system monitor is supplied

processing unit (CPU). Its instruction set is 100% software upward compatible with the
8080A microprocessor, and it is designed to improve the
present 8080A’s performance by higher system speed.
Its high level of system integration allows a minimum
system of three IC’s: 8085A (CPU), 8156 (RAM), and
8355/8755 (ROM/PROM). A block diagram of the 8085A
microprocessor is shown in Figure 7-10.
8-bit parallel central

I

ADDRESS
DECODER

ROM/IO (8355)
EPROM/IO (8755)

with the SDK-85 to provide general software utilities and
system diagnostics. It comes in a pre-programmed

ROM.

Communications Interface
The SDK-85 communicates with the outside world
through either the on-board LED display/keyboard combination, or the user’s TTY terminal (jumper selectable).

KEYBOARD/DISPLAY

RAM/IO/COUNTER

ADDRESS

FOR BUS EXPANSION

DATA

FIELD

FIELD

~p |a|a|H|5|

|a|a|

SDK 86 KEYBOARD LAYOUT

D BD
HH
D
a D HI
nr
maB QB

11

I

% 1:1

L;I.B rTHB

SERIAL
I/O TO

TTY

10 LINES

1 1

1
1

I

1

M

7?

Hv!

82,6

t£
S'SSL

&n

-T

&

DATA
BUS

1
1

INTERRUPT INPUTS -

8085

4^—7TT—7*r

if

8205

]'

!'

1

8355

8155

- J

-

l
1

b

....

j
i

'

82,6

1

1

TTTT
12

ADDRESS L

12

12

“jr'-'tn

BUS

b

12

12

CONTROL
BUS

12

12

f
l

12

ADDRESS
BUS

CONTROL
BUS

I

OPTIONAL A p LAC£ HAS BEEN PROVIDED ON THE PC BOARD FOR THE DEVICE BUT THE
DEVICE IS NOT INCLUDED

Figure 7-9. SDK-85 System Design Kit Functional Block Diagram

7-28

SDK-85

RST 5.5

INSIDE THE 8085:

INTR (NT*
*

t

1

AST 7.5
|

TRAP

1

t

RST 6.5

IT

SID

soo
t

j

INTERRUPT CONTROL

SERIAL I/O CONTROL
j

|

8-8IT INTERNAL DATA BUS

•
•

SEVEN 8-BIT REGISTERS. SIX OF THEM CAN BE LINKED
IN REGISTER PAIRS FOR CERTAIN OPERATIONS.

•

16-BIT STACK POINTER (STACK IS MAINTAINED

OFFBOARD IN SYSTEM RAM MEMORY).
• 16-BIT PROGRAM COUNTER.

8-BIT ALU.

Figure 7-10. 8085A Microprocessor Block Diagram

Commands — Keyboard monitor commands and teletype monitor commands are provided in Table 7-5 and

Both memory and I/O can be easily expanded by simply
soldering in additional devices in locations provided for
this purpose. A large area of the board (45 sq. in.) is laid
out as general purpose wire-wrap for the user’s custom

Table 7-6, respectively.

interfaces.

Assembly
Only a few simple tools are required

for

Command

Operation

Display memory

Displays multiple memory locations.

assembly;
Substitute memory

soldering iron, cutters, screwdriver, etc. The SDK-85
user’s manual contains step-by-step instructions for

easy assembly without mistakes. Once construction is
complete, the user connects his kit to a power supply
and the SDK-85 is ready to go. The monitor starts immediately upon power-on or reset.

Allows user to examine and
modify memory locations one
at a time.

Insert instructions

Allows user to store multiple

Move memory

Allows user to move blocks of

Examine register

Allows user to examine and
modify the 8085A’s register

bytes in memory.

data in memory.

Command

Operation

Reset

Starts monitor.

Go

Allows user to execute user program.

Single step

contents.

Go

Allows user to execute user pro-

gram one instruction at a time-

Allows user to execute user
programs.

Table 7-6. Teletype Monitor Commands

useful for debugging.

Substitute memory

Examine register

Allows user to examine and
modify memory locations.
Allows user to
modify 8085A’s

Documentation
addition to detailed information on using the
monitors, the SDK-85 user’s manual provides circuit diagrams, a monitor listing, and a description of how the
system works. The complete design library for the
SDK-85 is shown in Figure 7-11 and listed in the SpecifiIn

examine and
register

con-

tents.

Vector interrupt

Serves as user interrupt button.

Table 7-5. Keyboard Monitor Commands

cations section under Reference Manuals.

7-29

SDK-85

•

,

••

§m
yiW'ty*'?

1

Hww^i

\:

'

•

'^*4*V*

V''*

,

%v' ••'"*

••

'/A/.

'/.jv

r

.-

m

.

<<

m,
>

‘

8r4MfMfi
^

ft*

.y.-A -•/•/. /, /, .y

•V.

»•*•-

__

,

* n-iffl % v, fssetsis*

n
•

.

:

'

-y^/
<!">

h

^
i

\

/

f&*

*^

>•

*

v v f V* A V

X *

S*

*

,/ *

*

t'
••

•

••

"•

••

•'•

r

l£ZZ&-*S t*
> .*

•/• '•

V * *5*

.;

.y

.y yv

t,

•>/

A V v,

-v

-f

/

yj

%i\ \

..-

A •> ***'

// •'/•

.v*

vv^

*

\

/

t'" >>,

A- '/

•y .//

y/ ./ v,

i i *(. ; A:

i.;

£
'

'•

4

" fh '>!

f

A * >• * * *
iJiJ/,

,

•-*•

>

%

'

V

&«***4**»>«* ****?

^t.:'

Figure 7-11. SDK-85 Design Library

8085A INSTRUCTION SET
Table 7-7 contains a summary of processor instructions
used for the 8085A microprocessor.
Instruction Code

Mnemonic

Description

2

D 7 Dg D 6 0 4 D 3 D 2 D-j Dq

Clock 3
Cycles

MOVE, LOAD, AND STORE
Move register to register

MOV M
MOV r.M

Move register to memory

0

1

1

Move memory to register

0

1

D

MVI r

Move immediate register

0

0

D

MVI M

Move immediate memory

0

0

LXI B

Load immediate register
Pair B & C

0

0

LXI D

Load immediate register

0

0

H

Load immediate register

0

Pair D &

LXI

D

D

D

s

s

s

4

1

0

s

s

s

7

D

D

1

1

0

7

D

D

1

1

0

7

1

1

0

1

1

0

10

0

0

0

0

0

1

10

0

1

0

0

0

1

10

0

1

0

0

0

0

1

10

0

1

2

Clock 3

Description
d 7 d 6 d 5 d4 d 3 d 2

LXI SP

MOVr1r2
r

Instruction Code

Mnemonic

Load immediate stack

0

0

1

1

0

d 0 Cycles

0

0

1

10

pointer

INX SP

Increment stack pointer

0

0

1

1

0

0

1

1

6

DCX SP

Decrement stack

0

0

1

1

1

0

1

1

6

pointer

E

Pair H & L

STAX B

Store A indirect

0

0

0

0

0

0

1

0

7

STAX D

Store A indirect

0

0

0

1

0

0

1

0

7

LDAX B

Load A indirect

0

0

0

0

1

0

1

0

7

JUMP
JMP

Jump unconditional

1

1

0

0

0

0

1

1

10

JC

Jump on carry

1

1

0

1

1

0

1

0

7/10

JNC

Jump on no carry

1

1

0

1

0

0

1

0

7/10

JZ

Jump on zero

1

1

0

0

1

0

1

0

7/10

JNZ

Jump on no zero

1

1

0

0

0

0

1

0

7M0

JP

Jump on positive

1

1

1

1

0

0

1

0

7/10

JM

Jump on minus
Jump on parity even

1

1

1

1

1

0

1

0

7/10

1

1

1

0

1

0

1

0

7/10

Jump on parity odd

1

1

1

0

0

0

1

0

7/10

H & L to program

1

1

1

0

1

0

0

1

6

JPE

JPO
PCHL

LDAX D

Load A indirect

0

0

0

1

1

0

1

0

7

STA

Store A direct

0

0

1

1

0

0

1

0

13

LDA

Load A direct

0

0

1

1

1

0

1

0

13

SHLD
LHLD

Store H & L direct

0

0

1

0

0

0

1

0

16

Load H 8 L direct

0

0

1

0

1

0

1

0

16

CALL

Call unconditional

1

1

0

0

1

1

0

1

18

Exchange D & E. H & L

1

1

1

0

1

0

1

1

4

CC
CNC

Call on carry

t

1

0

1

1

1

0

0

9/18

Call on no carry

1

1

0

1

0

1

0

0

9/18

CZ

Call on zero

1

1

0

0

1

1

0

0

9/18

CNZ

Call on no zero

1

1

0

0

0

1

0

0

9/18

1

1

1

0

1

0

0

9/18
9/18

XCHG

counter

CALL

registers

STACK OPS
PUSH B

Push register pair B & C

1

1

0

0

0

1

0

1

12

on stack

PUSH D

Push register pair D & E
on stack

PUSH H

Push register pair H & L
on stack

PUSH PSW

Push A and flags on

1

1

0

1

0

1

0

1

12

CP

Call on positive

1

CM

Call on minus

1

1

1

1

1

1

0

0

1

1

1

0

0

1

0

1

12

CPE

Call on parity even

1

1

1

0

1

1

0

0

9/18

CPO

Call on parity odd

1

1

1

0

0

1

0

0

9/18

RET

Return

1

1

0

0

1

0

0

1

10

RC

Return on carry

1

1

0

1

1

0

0

0

6/12

RNC

Return on no carry

1

1

0

1

0

0

0

0

6/12

RZ

Return on zero

1

1

0

0

1

0

0

0

6/12

6/12

1

1

1

1

0

1

0

1

12

1

1

0

0

0

0

0

1

10

stack

POP B

Pop register pair B & C

RETURN

off stack

POP D

Pop register pair D & E

1

1

0

1

1

1

1

0

0

0

1

10

0

0

0

0

1

10

off stack

POP H

Pop register pair H & L
off stack

POP PSW

Pop A and flags off

1

1

1

1

0

0

0

1

Exchange top of stack
H 8 L

H & L to stack pointer

0

0

0

1

1

111110

0

1

1

1

1

Return on no zero

1

1

0

0

0

0

0

0

Return on positive

1

1

1

1

0

0

0

0

6/12

RM

Return on minus

1

1

1

1

1

0

0

0

6/12

10

stack

XTHL

RNZ
RP

16

continued

7-30

SDK-85

SPECIFICATIONS

Addressing

Central Processor
CPU - 8085A

tional 8355/8755A)

Instruction Cycle

Tcy

ROM — 0000-07FF (expendable to OFFF with an addiRAM — 2000-20FF (2800-28FF available with an addi-

— 1.3 ps

— 330 ns

tional 8155)

Memory
ROM — 2K bytes (expandable to 4K bytes) 8355/8755A

Note
The wire-wrap area of the SDK-85 PC board may be used for additional
custom memory expansion up to the 64K-byte addressing limit of the
8085 A.

RAM — 256 bytes (expandable to 512 bytes) 8155
7-31

SDK-85
Input/Output

Physical Characteristics

— 38 lines (expandable to 76 lines)
Serial — Through SID/SOD ports of 8085A. Software

Width

— 12.0 (30.5 cm)
— 10 (25.4 cm)
Depth — 0.50
(1.27 cm)
Weight — approx. 12 oz

Parallel

Height

generated baud rate.

in.

in.

i£.

Baud Rate — 110

Electrical Characteristics

Interfaces
Bus — All signals TTL compatible
Parallel I/O — All signals TTL compatible
Serial I/O — 20 mA current loop TTY

DC Power Requirement (power supply not included in
kit)

Note
By populating the buffer area of the board, the user has acces^ to all bus
signals that enable him to design custom system expansions into the

Voltage

Current

Vcc 5V ± 5%
V TTY - 10V ±10%

0.3A

1.3A

(Vjty required only if teletype
is connected)

kit's wire-wrap area.

Interrupts

Environmental Characteristics

Three Levels
(RST 7.5)
Keyboard interrupt
(RST 6.5)
TTL input

Operating Temperature

(INTR)

9800451

—
-

— 0-55 °C

Reference Manuals

- TTL input

— SDK-85 User’s Manual (SUPPLIED)
— MCS-85 User’s Manual (SUPPLIED)
9800301 — 8080/8085 Assembly Language Program-

9800366

DMA
Hold Request

ming Manual (SUPPLIED)

— Jumper selectable. TTL compatible

8085/8080 Assembly Language Reference Card (SUPPLIED)

input.

Reference manuals are shipped with each product only
designated SUPPLIED (see above). Manuals may be
ordered from any Intel sales representative, distributor
office or from Intel Literature Department, 3065 Bowers
Avenue, Santa Clara, California 95051.

Software

if

—
—
Monitor I/O — Keyboard/display or TTY (serial I/O)

System Monitor
Pre-programmed 8755A or 8355 ROM
Addresses
0000-07FF

ORDERING INFORMATION
Part Number

Description

SDK-85

MCS-85 system design kit

7-32

intel
FORTRAN-80
8080/8085 ANS FORTRAN 77

INTELLEC® RESIDENT COMPILER
Meets and exceeds ANS FORTRAN 77
Subset Language Specification
Supports Intel Floating Point Standard
with either the floating point support
library or the iSBC-310 High Speed
Mathematics Board

Produces relocatable and linkable object
code compatible with resident PL/M-80
and 8080/8085 Macro Assembler
Full

FORTRAN 77 language I/O support or

optional RMX-80 run-time library

Resident operation on Intellec®

Microcomputer Development System
and Intellec® Series II Microcomputer
Development System

Well defined I/O interface for configuration with user-supplied drivers

Supports full symbolic debugging with
ICE-80™ and ICE-85™

Sophisticated code optimization insures
efficient program implementation

FORTRAN-80 is a computer industry-standard, high-level programming language and compiler that translates FOR-

TRAN statements into relocatable object modules. When the object modules are linked together and located into absolute program modules, they are suitable for execution on Intel® 8080/8085 Microprocessors, iSBC-80 OEM Computer
Systems, and Intellec® Microcomputer Development Systems. FORTRAN-80 meets and exceeds the ANS FORTRAN
1
77 Language Subset Specification The compiler operates on the Intellec Microcomputer Development System under
Systems
and produces efficient relocatable object modules that are compatible for linkage
the ISIS-H Disk Operating
with PL/M-80 and 8080/8085 Macro Assembler modules.
-

The ANS FORTRAN 77 language specification offers many powerful extensions to the FORTRAN language that are
especially well suited to Intel® 8080/8085 Microprocessor software development. Because FORTRAN-80 conforms to
the ANS FORTRAN 77 standard, the user is assured of compatibility with existing FORTRAN software that meets the
standard as well as a guarantee of upward compatibility to other computer systems supporting an ANS FORTRAN 77
Compiler.

VnSI X3J3/90

FORTRAN-80
FORTRAN-80 LANGUAGE FEATURES
Major

ANS FORTRAN 77 features supported by the

Intel®

FORTRAN-80 Programming Language include:

•

Structured Programming is supported with the IF ...
THEN ... ELSE IF ... ELSE ... END IF constructs.

•

CHARACTER data type permits alphanumeric data

•

The INCLUDE control permits specified source
files to be combined into a compilation unit at com-

•

Transparent interface for software and hardware
floating point support, allowing either to be chosen
at time of linking.

pile time.

to be handled as strings rather than characters
stored in array elements.
•

Full I/O capabilities include:

— Sequential and Direct Access files
— Error handling facilities
— Formatted, Free-formatted, and Unformatted

FORTRAN-80 BENEFITS

data representation

— Internal (in-memory)
bility to

FORTRAN-80 provides a means of developing applicafile

software for Intel® MCS-80/85 products in a
widely accepted, and computer industrystandardized programming language. FORTRAN-80 will
greatly enhance the user’s ability to provide costeffective solutions to software development for Intel
microprocessors as illustrated by the following:
tion

units provide capa-

format and reformat data in internal

familiar,

memory buffers

— List Directed Formatting
•

Supports arrays of up to seven dimension^.

•

Supports logical operators
.EQV.

.NEQV.

•

— Logical equivalence
— Logical nonequivalence

—

Major extensions to FORTRAN 77 in Intel FORTRAN-80
include:
•

Incremental Runtime Library Support
Runtime
overhead is limited only to facilities required by the
program.

•

Low Learning Effort
FORTRAN-80, like PL/M, is
easy to learn and use. Existing FORTRAN software
can be ported to FORTRAN-80, and programs
developed in FORTRAN-80 can be run on any other

subroutines.
Binary and Hexadecimal integer constants.

•

Well defined interface to

FORTRAN-80 l/b state-

ments (READ, OPEN, etc.), allowing easy use of
user-supplied I/O drivers.
•

•

Earlier Project Completion

— Critical projects are

completed earlier than otherwise possible because

User-defined LOGICAL storage lengths of 1, 2 or 4

FORTRAN-80 will substantially increase program-

bytes.

mer productivity, and is complementary to PL/M
Modules by providing comprehensive arithmetic,
I/O formatting, and data management support in

•

REAL STORAGE lengths of 4 bytes.

•

Bitwise Boolean operations using logical operators
on integer values.

•

Hollerith data constants.

•

Implicit extension of the length of an integer or
logical expression to the length of the Ifeft-hand

the language.

Lower Development Cost
Increases in programmer productivity translates into lower software
development costs because less programming

•

Increased Reliability
The nature of high-level
languages, including FORTAN-80, is that they lend
themselves to simple statements of the program
algorithm. This substantially reduces the risk of
costly errors in systems that have already reached
production status.

•

Easier Enhancements and Maintenance
Like
PL/M, program modules written in FORTRAN-80 are
easier to read and understand than assembly
language. This means it is easier to enhance and
maintain FORTRAN-80 programs as system
capabilities expand and future products are
developed.

•

Comprehensive, Yet Simple Project Development
The Intellec Microcomputer Development System, with the 8080/8085 Macro Assembler, PL/M-80
and FORTRAN-80 is the most comprehensive software design facility available for the Intel
MCS-80/85 Microprocessor family. This reduces
development time and cost because expensive (and
remote) timesharing or large computers are not re-

A format descriptor to suppress carriage return on
a terminal output device at the end of the record.

FORTRAN-80 COMPILER FEATURES
•

Supports multiple
source file.

compilation

units

in

single

•

Optional Assembly Language code listing.

•

Comprehensive cross-reference, symbol attribute
and error listing.

•

Compiler controls and directives are compatible
with other Intel language translators.

•

Optional Reentrancy.

•

User-defined default storage lengths.

•

Optional FORTRAN 66 Do Loop semantics.

•

Source files may be prepared in free format.

—

•

resources are required for a given function.

side in an assignment statement.
•

—

computer with ANS FORTRAN 77.

User-defined INTEGER storage lengths of 1, 2 or 4
bytes.

•

—

•

Direct 8080/8085 port I/O supported by intrinsic

•

Completely Complementary to Existing Intel Software Design Tools
Object modules are linkable
with new or existing Assembly Language and PL/M
Modules.

—

—

—

quired.

7-34

FORTRAN-80
SAMPLE FORTRAN-80 SOURCE PROGRAM
LISTING
*
*

THIS PROGRAM IS AN EXAMPLE OF ISIS-II FORTRAN-80 THAT
CONVERTS TEMPERATURE BETWEEN CELSIUS AND FARENHEIT

•*
*•

PROGRAM CONVRT
CHARACTER* 1 CHOICE, SCALE
PRINT 100
*»
ENTER CONVERSION SCALE (C OR F)
PRINT 200
READ (5,300) SCALE

*

10

C’ )
IF (SCALE .EQ.
THEN
PRINT 400
**
ENTER THE NUMBER OF DEGREES FARENHEIT
READ (5,*) DEGF

+
»

= 5./9.*(DEGF-32)
PRINT THE ANSWER
WRITE (6,500) DEGF, DEGC
**
RUN AGAIN?
PRINT 600
READ (5,300) CHOICE
Y
IF (CHOICE .EQ.
)
THEN
+
GOTO 10
ELSE IF (ChOICE .EQ. N’)
THEN
+
CALL EXIT
ELSE
GOTO 20
END IF
ELSE IF (SCALE .EQ. ’F)
ThEN
+
**
CONVERT FROM FARENHEIT TO CELSIUS
PRINT 700
READ (5,*) DEGC
DEGF = 9./5.*DEGC+32.
**
PRINT THE ANSWER
WRITE (6,800) DEGC, DEGF
GOTO 20
ELSE
**
NOT A VALID ENTRY FOR THE SCALE
WRITE (6,900) SCALE
GOTO 10
END IF
FORMAT ( TEMPERATURE CONVERSION PROGRAM ,//,
+ TYPE C FOR FARENHEIT TO CELSIUS OR ,/,
+’ TYPE F FOR CELSIUS TO FARENHEIT’,//)
CONVERSION? ’,$)
FORMAT ( /
FORMAT(AI)
FORMAT (/, ’ENTER DEGREES FARENHEIT: ',$)
FORMAT (/,F7. 2, DEGREES FARENHEIT = ’,F7.2,’ DEGREES CELSIUS
AGAIN (Y OR N) ? ’,$)
FORMAT(/,
,$)
ENTER DEGREES CELSIUS:
FORMAT (/
DEGREES CELSIUS = ’.F7.2, DEGREES FARENHEIT ,/)
FORMAT (/, F7.2
FORMAT (/,1H ,A1,' NOT A VALID CHOICE - TRY AGAIN! ,/)
END

DEGC

*
*

20

**

•

*

»

*

100

1

'

1

•

200
300
400
500
600
700
800
900

,

'

•

1

,

'

'

1

1

1

1

7-35

FORTRAN-80
The FORTRAN-80 Compiler is an efficient, multiphase compiler that accepts source programs, translates them into
relocatable object code, and produces requested listings. After compilation, the object program may be linked to other

modules, located to a specific area of memory, then executed. The diagram shown below illustrates a program development cycle where the program consists of modules created by FORTRAN-80, PL/M-80 and the 8080/8085 Macro
Assembler.

SPECIFICATIONS

Required Software:
ISIS-II Diskette Operating System
Single or Double Density

—

OPERATING ENVIRONMENT
Required Hardware:

Optional Software:
iSBC-801 FORTRAN-80 Run-Time Software Package

Microcomputer Development System
MDS-800, MDS-888
Series
Model 220, Model 230

Intellect

—
—

for RMX-80

DOCUMENTATION PACKAGE

II

64K bytes of RAM memory

FORTRAN-80 Programming Manual (9800481)

Dual diskette drives
Single or Double Density

ISIS-II

—

FORTRAN-80 Compiler Operator’s Manual

(9800480)

System console

FORTRAN-80 Programming Reference Card (9800547)

— CRT or hardcopy interactive device

SHIPPING MEDIA

Optional Hardware:
Line Printer

Flexible Diskettes

— Single and Double Density

ICE-80™, ICE-85™

ORDERING INFORMATION
PRODUCT CODE

DESCRIPTION

MDS-301

FORTRAN-80 Compiler for Intellec
Microcomputer Development
Systems

7-36

intel
BASIC-80
EXTENDED ANS 1978 BASIC

INTELLEC® RESIDENT INTERPRETER
Meets ANS 1978 standard for minimal
BASIC and adds many powerful

Supports the Intel floating point standard
and provides integer and string data types

extensions

Operates under the ISIS-II operating
system on Intellec and Intellec® Series-ll
Microcomputer Development Systems

Can call user subroutines written in
FORTRAN-80, PL/M-80, and 8080/85
macro assembler that are resident in the
Intellec®

memory

Full sequential and random disk file I/O

with ISIS-II
Applications range from prototyping
microcomputer software to inexpensive
engineering and management problem
solving on the Intellec® systems

Easily learned language and interactive
environment combine to provide a flexible and powerful facility for developing
programs to run on the Intellec®

Microcomputer Development Systems
used by

BASIC is an industry standard, high-level programming language which is designed to be easily learned and
which allows fast
novices and experienced programmers alike. The interpreter provides an interactive environment
in engineering and
and easy program development, testing, and debugging. BASIC is widely used for problem solving
accounts
management; extensive software exists for business applications such as order entry, accounts receivable,
payable, and inventory control, and engineering applications such as numeric and
Intel's BASIC-80 meets the standards of

statistical analysis.

ANS 1978 BASIC and extends them to take advantage of the software develof these resources with the

opment capabilities of the Intellec Microcomputer Development Systems. The matching
systems development and
ease of programming in BASIC-80 provides a very effective tool for both microprocessor
inexpensive applications programming and problem solving on the Intellec systems.

7-37

BASIC-80
BASIC-80 LANGUAGE FEATURES

•

Formatted

print

statement with the PRINT USING

function.

Standard ANS 78 BASIC features,
BASIC-80, Include:
•
•

all

supported by

Matrices with up to 110 dimensions.

•

Extensive string manipulation functions.

•

Boolean operators.

•

Type conversion functions— integer,
and character.

FOR ... TO ... STEP ... NEXT statements for loop

•

IF

.

.

.

.

.

THEN statements for conditional execution.

•

ON

•

GOSUB/RETURN subroutine calls and returns.

•

Built in scientific functions:

.

GOTO statements for computed branching.

INT

RND
SGN
SQR

LOG

ATN

ABS
EXP

•

ELSE clause for IF

String and numeric constants, variables, and arrays.

execution.

.

.

.

floating point,

BENEFITS OF BASIC-80

TAN
COS

•

SIN

Added Value to the Intellec Systems— with BASIC-80
the Intellec Microcomputer Development Systems
can be effectively used in many engineering and
management applications.

User defined single statement functions.
•

Major extensions to ANS 78 BASIC which BASIC-80 pro-

Support for the

Intel

and its interpretive environment fit well with the “at
hand” computational resources of the Intellec systems. The combination is a particularly useful tool for
obtaining fast and accurate results.

single and double precision

floating point standard.
•

Disk file I/O, supporting both random access and
sequential access files.

•

Direct read and write to CPU I/O ports through the INP
and OUT functions.

•

Direct memory read and write through the PEEK and

Inexpensive and Accessible Computational Facility
the ease of use and flexibility inherent in BASIC-80

vides include:
•

THEN statements.

•
•

•

Easy to Learn— the language is designed to be easily
understood and learned. Results are obtained faster
and people who may benefit from using the system
can do so easily.

•

Aid

in

Microcomputer Software Design

— microcom-

puter software can be prototyped in BASIC-80 to inex-

POKE functions.

pensively develop and test program logic.
•

Calls to user-supplied external subroutines, which
may have been written in FORTRAN-80, PL/M-80, or

•

written

8080/8085 Assembly Language and have been located
at absolute memory locations using the ISIS-II

User directed error trapping and handling functions.

•

Program execution trace command.

in

Existing Software— subroutines
PL/M-80, FORTRAN-80, and ASM 8080/85

can be called from BASIC-80 programs.

facilities.
•

Complemented by

•

Easy to Enhance and Maintain— BASIC-80, being
straightforward and easily understood, provides for
programs that are easy to maintain and modify in the
future.

SPECIFICATIONS

Optional Hardware:
Line printer

Additional diskette drive

Operating Environment
Required Software:
Required Hardware:

ISIS-II

Diskette Operating System

— Single or double density

Intellec Microcomputer Development System

— MDS-800, MDS-888
— Series-1 Model 220, Model 230

Documentation Package:

48 K bytes of RAM memory

Basic-80 Reference Manual (9800758A)
Basic-80 Programming Reference Card (9800774)

1

Diskette drive

— Single or double density

Shipping Media:

System console

Flexible diskettes

— CRT or hard copy interactive device

— Single and double density

7-38

BASIC-80

EXAMPLE BASIC-80 PROGRAM

10
20
30

40
50
60
70
80
90

PRINT "THIS PROGRAM CALCULATES THE MEAN AND STANDARD
PRINT " DEVIATION OF INPUT DATA”
S=0 V=0
INPUT "NUMBER OF VALUES" ;N
FOR 1=1 TO N
INPUT A I
:

(

S=S+A I
NEXT
S=S/N
100 REM CALCULATION OF VARIANCE
110 FOR 1=1 TO N
120 V=V+ (A(I)-S) 2/N
130 NEXT
140 SD=SQR V)
150 PRINT " MEAN= "
160 PRINT "STANDARD DEVIATION IS=";SD
(

'

(

;

Ok

run
THIS PROGRAM CALCULATES THE MEAN AND STANDARD
DEVIATION OF INPUT DATA
NUMBER OF VALUES? 6
? 34.7
? 32.9
? 38.2
?
?

35

37.6
40.9
MEAN= 36.55
?

STANDARD DEVIATION IS= 2.642442
Ok

ORDERING INFORMATION
Product Code

Description

MDS-320

ISIS-II

BASIC-80
Disk-Based Interpreter

7-39

inW
iCIS-COBOL“ SOFTWARE PACKAGE
Meets and exceeds minimum ANSI Level
1

Can Link/Call routines written in
PL/M-80, FORTRAN-80 and 8080/8085
Assembly Language.

standard for COBOL (X3.23-1974).

Runs under ISIS-II on Intellec or
Intellec® Series II Microcomputer

FORMS utility program allows the user

Development Systems.

to design and test CRT screen format

input by generating COBOL source code

Compiler compiles COBOL source
programs into an intermediate code
which is optimized for speed and

for the data descriptions defining that

CRT screen format.

memory space.
Compile-time option available to flag any
Includes execution run-time interpreter

non-ANSI standard features for

and an interactive debugger.

portability.

Powerful extensions for interactive

Tested using U.S. Dept, of Navy COBOL
validation system.

programming.

iCIS-COBOL, an acronym for Intel’s Compact Interactive Standard COBOL, is a package designed to provide
a
powerful interactive business language to users of Intel’s Intellec and Intellec Series II Microcomputer
Development
Systems. iCIS-COBOL contains the most relevant parts of the ANSI 74 standard plus extra extensions to make
this
product especially useful to Intellec users. The compiler provides a feature to optionally disallow the iCIS-COBOL
extensions and rigidly enforce the ANSI 74 specification. This will prove beneficial to users who may need
to port
COBOL programs from the Intellec system to any other ANS Level 1 COBOL compiler.

iCIS-COBOL Compiler generates object code for a COBOL ’’virtual machine.” This code is designed for optimum
representation of COBOL verbs and data types. The code generated is interpreted by a Run-Time
System. This
consists of an interpreter which emulates the COBOL virtual machine and interfaces to the ISIS-II operatina
system
and the CRT.
After an application program has been tested and is ready for production use, it is possible
to link it permanently to
the Run-Time System to form a free-standing ISIS-II loadable program.

7-40

iCIS-COBOL
When data is being keyed in, the operator has full

LANGUAGE FEATURES
COBOL consists of twelve different modules implemented either to Level 1 or Level 2 as defined in the
ANSI specification X3.23. iCIS-COBOL includes the
following modules implemented to Level 1:

cursor manipulation facilities, each variable acting as a
tab stop. Non-numeric digits may not be keyed into
fields defined as PIC 9. Finally, when the operator has
checked that the data is correct, the RETURN key is

pressed and processing continues.

Nucleus
Table Handling
Sequential I/O
Relative I/O

Indexed I/O
Library

Interprogram Communication

Extensions to ANSI Specification:
• Advanced
screen formatting and data entry
facilities. These include protected and unprotected

data, cursor manipulation, and numeric vet.
•

Run time input of filenames. The actual value of
the external filename may be moved to a file identifier location prior to OPENing the file, avoiding the
need for an external linking mechanism.

•

Screen as a record
description

first

FILLER

— Forward space

REDEFINES

- Backward space

AT line:column

i

Forward field

Character highlighting

t

Backward field

Clear screen

C/R Release the screen of

Numeric vet for PIC fields

L/F

Left

Fill

numeric field

FORMS UTILITY
A majority (up to 80%) of debugging time can be spent
in

Hexadecimal literals. These may be used to define

designing, coding

and testing the screen form

input/output of a COBOL program. The FORMS utility
included in the iCIS-COBOL package significantly

reduces this debugging time.

Rapid development facilities. During development,
compiled programs may be loaded directly by the
Run-Time System “fast load” facility, thus
avoiding the time otherwise spent in linking.
Interactive debugging. Interactive

debugging

Using the FORMS program, the user may:
•

Store an image copy on disk of the form he has defined for subsequent use.

per-

•

mits the setting of breakpoints, examination and
modification of store, etc., at run time. Each
COBOL statement is identified by a four-digit

hexadecimal number.
•
•

data field on the screen

Line sequential files. Variable length records sep-

devices.

•

FACILITIES

HOME to the start of the

(The actual keys used vary
according to CRT keyboard)

control characters to output to special peripheral

•

CURSOR CONTROL

data

arated by carriage return/line feed saves space on
disk and allows iCIS-COBOL programs to process
files output by a text editor.
•

SCREEN LAYOUT AND
FORMAT FACILITIES

Lower case. This is permitted in COBOL words and
comments, thus helping to produce easy to read
documentation in the program.

Generate iCIS-COBOL source code for the data
descriptions required to define the form just
created. This may then be included in an iCISCOBOL program using COPY.

Choose to generate a checkout program which
allows duplication of the many machine conversations which would take place during a run of the

application which is being designed.

INTERACTIVE CRT HANDLING

—

traditionally a batch
has taken COBOL
and extended it to become
processing language
Intel

COMPILE TIME DIRECTIVES

—

interactive.

iCIS-COBOL

offers

many

facilities

•

for

automatically formatting a CRT screen and facilitating

If

the ANS 74 standard.

The user can format the screen of any system console
(CRT) into protected and unprotected fields by using
standard COBOL statements. The screen layout may be
defined in the DATA DIVISION. An ACCEPT statement
nominates a record description which permits input to

•

RESEQ
If

specified,

the

Compiler

generates

COBOL

sequence numbers, renumbering each line in increments of 10.

corresponding to variables
may be separated by
FILLERS to position them on the screen. Conversely, a
DISPLAY outputs only from non-FILLER fields in the
record description which it nominates. The programmer
can easily build up complex conversations for data
character

specified, the Compiler will accept only those

iCIS-COBOL language statements that conform to

input keying.

the

ANS

positions

•

identified by data-names. These

NOINT
No intermediate code file is output. The Compiler
is, in

•

effect, used for syntax checking only.

NOLIST
No list file is produced; used for fast compilation
of “clean” programs.

entry and transaction processing.

7-41

iCIS-COBOL
•

— Most COBOL programs are self-documenting.
— Conversational verbs and phrases and common

COPYLIST
The contents

of

the

file(s)

nominated

in

COPY

statements are listed.
•

business terminology make

NOFORM
No form feed or page headings are to be output by
the Compiler In the list file.

•

ERRLIST

More business and application programs are
•

Assures portability to and from all computers

syntax errors together with the associated
error message(s).

supporting ANS Level

functionality for all Level
•

LIST (external-file-name)
file

to

which the

listing

is

to

features.

reconfigure the software for any non-standard,

FORM (integer)

non-Intel CRT.

— Interactive debugger provides features aimed

Specifies the number of COBOL lines per page of
listing.

at

NOECHO

oriented).

CRT based system (rather than batch-

a

— FORMS utility program reduces total program

Error lines are echoed on the console unless this

development time by 30%.

directive is specified.

— All iCIS-COBOL utilities make use of CRT
cursor control.

BENEFITS
•

•

1

iCIS-COBOL software package provides an easy to
use, efficient and friendly environment for COBOL
program development.

— CONFIGURATOR program allows the user to

be

directed.

•

COBOL.

NAVY COBOL VALIDATION SYSTEM assures

INT (external-file-name)

Specifies the

1

— Extensive testing and validation using U.S.

to be directed.

•

in

The listing is limited to those COBOL lines contain-

Specifies the file to which the intermediate code is
•

COBOL than any other language.
Meets and exceeds ANS Level 1 COBOL standard.
written

ing

•

COBOL easy to

learn, use and maintain.

Brings COBOL to Intellec Microcomputer Develop-

Adds value to an Intellec development system.

— COBOL

applications
programs developed
using iCIS-COBOL software package will
increase utilization of Intellec development
systems.

ment Systems.

— COBOL

is the industry standard
high-level
language for business-oriented applications.

The source program is created
on diskette with the ISIS-H
editor.

COBOL PROG SRC
Loads the single-pass compiler
to convert the source program
into an interpreted object lorm

known as intermediate code The
user may specify the tile on which
the listing will appear. If this
is a disk file, then il

may be

edited to correct errors and used

as input lor the next run of the
compiler.

RUNPROG.INT. ...
Loads the Run-Time System, which
in turn loads the program

During

program development, the two
commands COBOL and RUN are sufficient to produce the program To
aid debugging, the iCIS-COBOL
interactive debugging lacility is
available. This allows the user

to set breakpoints, examine and

modify locations, and then continue
execution. Note that before running
a program that uses ACCEPT or

DISPLAY. Ihe system requires configuration lor a non-Intel CRT.

RUN = PROG. INT

.. ..

Once your program is fully
tested. Il may be permanently
linked to the Run-Time System

fff

COLS 1-6
1-6
COLS
NCEJ
SEQUENCE
8-11
NUMBER
ER
AREA
A
COL 7

by using the *• » *’ option. This

I

produces a file named "SAVE' that
may be directly executed.

INDICATOR

AREA

Figure M3. Sample Program Listing Showing Source

Figure 7-12. Program Development Cycle

Format
7-42

iCIS-COBOL
SPECIFICATIONS
Operating Environment

Required Software:
ISIS-II

Diskette Operating System

— Single or Double Density

Required Hardware:
Intellec

Microcomputer Development System

— Model 800
— Series Model 220, Model 230

Optional Software:
ISIS-II

CREDIT (CRT-Based Text Editor)

II

48KB of Memory

Documentation Package

Dual Diskette Drives

— Single or Double Density

iCIS-COBOL Language Reference Manual (9800927-01)

System Console

iCIS-COBOL Compiler Operating Instructions for ISIS-II

— Intel or non-Intel CRT

Users (9800928-01)

Recommended Hardware:

iCIS-COBOL Pocket Reference (9800929-01)

64KB of Memory
Double Density Dual Diskette Drives

Shipping Media

Optional Hardware:

Flexible Diskettes

— Single and Double Density

Line Printer

ORDERING INFORMATION:
Product Code

Description

MDS-380

iCIS-COBOL Software Package

7-43

Appendix
Applications of MCS-85™

Contents

SECTION 1 INTRODUCTION TO MCS-85
MCS-85™ System

APPLICATIONS

Sample Applications
Baud Rate Generator
Serial Communications
Small System
Block Move, Block Search

RST7
SECTION 2 DETAILED APPLICATION EXAMPLES
Memory Addressing
ROM, EPROM
Static Memories

Dynamic RAM Interface
System Timings
8085A CLK-IN vs. CLK-OUT vs. Control Timings
3.125 vs. 5 MHz Considerations
Memory Device Compatibility
Peripheral Compatibility— 3.125 and 5 MHz

A1-1
A1-2
A1-2
A1-2

A1-6
A1-6
A1-7

A1-8
A1-8
A1-11
A1-11

A1-16
A1-16

Bus - Loading Considerations - Decoupling

A1-18
A1-20
A1-23
A1-25

APPLICATION EXAMPLE 1
Minimum System Application Example as a Temperature Sensor

A1-26

Overview
Detailed Hardware

A1-26
A1-26

Software Block Move, Search Illustrations

A1-29

APPLICATION EXAMPLE 2

CRT Interface
Hardware Interface
Software Package
Output Routine
Input Routine
Timing Analysis
Baud Rate Identification Routine

A1-32
A1-32
A1-32
..A1-34
A1-35
A1-35
A1-36

APPLICATION EXAMPLE 3
Cassette Recorder Interface
Hardware Design
Software
Output Routine
Input Routine

A1-38
A1-38
A1-38
A1-40
A1-40

Additional Comments

A1-42

Temperature Sensor Code
CRT and Cassette Code

A1-44
A1-48

APPENDIX 1
APPLICATIONS OF MCS-85™
SECTION 1

INTRODUCTION TO MCS-85™ APPLICATIONS
Instrumentation is widely utilizing the microprocessor for a variety of control and arithmetic
processing functions. Microcomputers are controlling laboratory equipment such as oscilloscopes, DVM’s, network analyzers and frequency synthesizers. Medical electronics are
crediting microcomputers with tasks such as
patient monitoring, blood analysis and X-ray
scanning. Travel is becoming microcomputerized by automotive control, air and ocean
navigation equipment and rapid transit

When the first microprocessor was introduced
about five years ago, it was largely ignored by
the electronics industry. However, since that inasupicious beginning, this new device has

become the hottest topic in current technology.
As more and more product designers become
familiar with the capabilities of microcomputers, the number of new applications increases geometrically. In most of these applications, the new technology has been used to
replace designs which were formerly implemented with TTL logic and under-utilized

systems.

minicomputers. However, an increasing number
of products are surfacing which would have

MCS-85™ SYSTEM
Many possible microcomputer applications

been impractical prior to the microcomputer

have been overlooked because of the design
tasks required to build the microcomputer.
These tasks include the system clock, read/

era.

Microcomputers are being applied to a wide
range of data communications tasks. The field
of telephone equipment is being invaded by
systems which control and monitor calls. Point

write memory, I/O ports, serial communications
interface and bus control logic. The MCS-85
system will enable the design engineer to concentrate on the application of the microcom-

of sale terminals are increasing daily with the
addition of interface to coin changers, elec-

puter, rather than on the implementation
details.

scales and remote computers. Small
stand-alone computers are relying heavily upon
microcomputers in teleprocessing, timesharing, data base management and similar interactive applications. An increasing number of
microcomputer-based data terminals are providing local interactive intelligence with programmable character sets, vector generation
and the pre-processing of data.

tronic

is yet another family of components which has the potential to provide a

The MCS-85

solution to the three problems which will
always plague designers: cost, size and power.

The reduced component count of an MCS-85
microcomputer, coupled with the increased integration of functions reduces both cost and
size while increasing power.

A1-1

MCS-85™ APPLICATIONS
Sample Applications
Calculating Oscilloscope
Blood Analyzer

Programmable Video Game
Process Control System
Line Printer

Intelligent Terminal

Navigation Equipment
Vending Machine
Spectrum Analyzer
Front End Processor

N.C. Machine
Digital Multimeter
Graphic Terminal
Automotive Control

Disk Controller
Patient Monitor

Network Analyzer
Frequency Synthesizer

Credit Verifier

APPLICATION

PERIPHERAL DEVICES ENCOUNTERED

MCS-85™ COMPONENTS

Intelligent Terminals

Cathode Ray Tube Display
Printing Units

8275
8155

Synchronous and Asynchronous data lines

8251

8085A
8355

Cassette Tape Unit

Keyboards

Gaming Machines

Cash Registers

Keyboards, pushbuttons and switches
Various display devices
Coin acceptors
Coin dispensers

8085A
8355

Keyboard or Input Switch Array

8085A

Change Dispenser

8355

Digital Display

Ticket Printer

Magnetic Card reader
Communication interface
Accounting and Billing Machines

Keyboard
Printer Unit

Cassette or other magnetic tape unit
“Floppy" disks

Telephone Switching Control

Telephone Line Scanner
Analog Switching Network

8085A
8355

Dial Registers

Class of Service Parcel
Numerically Controlled Machines

Magnetic or Paper Tape Reader
Stepper Motors
Optical Shaft Encoders
Analog-to-Digital Converters
Digital-to-Analog Converters
Control Switches

8085A
8355

Displays

Baud Rate Generator

the required baud rate. As shown in Figure 1,
the minimum system supports serial communications with only the addition of the send
and receive interface circuits.

Shown in Figure 2 is a minimum system configuration with the 8156 timer output connected
to an 8085 interrupt input.

The SID (SERIAL INPUT DATA) line and the SOD
(SERIAL OUTPUT DATA) line are connected
directly to a TTY or RS232 interface circuit.
Assuming inverted data at the SID input, a

This configuration allows convenient use of the
timer as a baud rate generator. A 6.144 MHz
crystal is used as the frequency control element of the 8085A, providing integral divisors
for the standard baud rates (300, 600, 1200,
2400, 4800, 9600 baud). The timer is programmed
with the appropriate divisor (Figure 1) for the
selected baud rate resulting in one pulse on the
timer output for each bit cell time. The clock
output (CLK) of the 8085A is used to clock the
timer (TIMERIN). The frequency of this clock is
one-half the cryst al frequenc y or in this example 3.072 MHz. TIMEROUT now provides a
crystal controlled pulse train at the baud rate
selected.

direct connection is made to the
for detection of the start bit.

RST6.5 input

Additional insight into using the 8085’s serial I/O
lines in communications application can be found
in Section 2 of this Appendix.

Serial Communications

By feeding the TIMEROUT signal of the 8156
back to the edge triggered RST7.5 input of the
8085A, the processor can be interrupt driven at

BAUD RATE

COUNT (DECIMAL)

300
600
1200
2400
4800
9600

10,240
5,120
2,560
1,280

FIGURE 1. BAUD RATES
A 1*2

640
320

MCS-85™ APPLICATIONS

NOTE 1: TRAP. INTR, ANO HOLO MUST BE GROUNDED IF THEY AREN'T USED.
NOTE 2 USE IO/M FOR STANDARD I/O MAPPING USE A15 FOR MEMORY MAPPED I/O.
DESIRED.
NOTE 3. CONNECTION IS NECESSARY ONLY IF ONE TWA|T STATE IS
WHEN RD AND WR ARE
NOTE 4: PULL-UP RESISTORS RECOMMENDED TO AVOID SPURIOUS SELECTION

_

3-STATED

FIGURE 2. MINIMUM SYSTEM CONFIGURATION
•3

MCS-85™ APPLICATIONS
J2

FIGURE 3. SMALL SYSTEM SCHEMATIC (similar to the schematic of Intel’s SDK-85)
A1-4

MCS-85™ APPLICATIONS

•5

MCS-85™ APPLICATIONS
Small System

Block Move, Block Search

The schematic in Figure 3 is of a complete
microcomputer with only 6 ICs. The system contains its own serial I/O communication lines,
multi-level interrupt, two programmable timers,
and power-on reset. System capacity is 512
bytes of RAM, 4K bytes of PROM, and 76 lines
of programmable I/O.

In

a large system application high speed block

moves may be necessary. The addition of an
8257 Direct Memory Access (DMA) controller
and an 8255 Programmable Peripheral Interface
(PPI)

device with

some miscellaneous

ches. (See Figure 4.)

Ml

L.C

*1

TRAP

X2

RESET IN

HOLD

RST7.S

HLDA

RST6.5

soo
808?) A

RST5.5

SID

INTR

S
!
-

inTS

RESET

H—

ADOR
i

OUT

ADDR/DATA

ALE RO

WR IO/M

logic

removes the task from the 8085 and results in a
very high speed capability. The addition of an
eight bit comparator also permits block sear-

Sn
0

ROY CLK

HOLD HLOA

READY

DRQ
0

CLK

DRQ

ME MW

DACK
2

memr
,0R

j AEN

JACK
8*7

-j

DqD,

•

AgA 1S

>

ADSTB
cs

A 0 Ay

FIGURE 4. BLOCK MOVE, BLOCK SEARCH addition of an 8257 Direct Memory Access

(DMA) conan 8255 Programmable Peripheral Interface (PPI) device permits block searches
hiah
y
speed block moves. (2.5 /-is/word).
troller and

’

A 1-6

MCS-85™ APPLICATIONS
Basic operation, for a block move, is that the
CPU loads the 8257 with the starting address of
the source block and the length* of the block into Channel 0. Channel 1 is programmed
starting location of the destination block and
the length. A bit in Port C of the 8255 is set by

with the

a DMA request on
the 8257 is initialBecause
Channels 0 and
the first DMA
mode,
priority
rotating
the
ized to
cycle is from Channel 0 which latches the data

the

CPU which

initiates

1.

from the first location of the source block into
the 8212. The second cycle will be from Channel
data into the first
1 which will store the latched
location of the destination block. The next cycle
will
will return to Channel 0 and the sequence
count)
(terminal
length
the
until
start over again

reached. Programming the 8257 stop bit insures that each channel will be disabled when
reached.
its respective terminal count is
is

This configuration also supports a block fill.
DMA Channel 0 points to a location containing
the fill value and has a length of one. Channel 1
points to the starting location of the destination
block and contains the length. When the sequence is initiated the value will be loaded into
the latch by Channel 0. Channel 0 reaches TC

A
pointed-to location in the block. When Port
will
comparator
the
equals Port B, the output of
gate off the DMA request. The requesting program can now read the Channel 2 address
which is pointing to the search value plus one.
However, if the status register of the 8257 indicates that TC of Channel 2 has been reached,
then no match was found.
RST 7

On the 8080A/8228 system if one tied INTA out
of the 8228 to

RST 5.5, 6.5, 7.5 inputs but is not compatible
(Figure 5)
with the RST 7 generated by the 8228.
achieved
be
can
To maintain this compatibility it
7 inRST
a
force
will
which
by adding an 8212
acknowlinterrupt
upon
bus
the
into
struction
edge (INTA). (Figure 6)

and is disabled. Priority rotates to Channel 1
which will repeatedly write into the destination

block the value stored in the latch until TC is
reached.

Block search operations use the 8-bit comparaof
tor and Ports A & B of the 8255 and Channel 2
the 8257. The CPU loads Port B with the search
value and the DMA channel with the search
area (starting address and length). A Port C bit
initiates the DMA READ request. Channel 2
DMA Acknowledge sets Port A of the 8255 up as
the receiver for the DMA READ cycle by
multiplexing A0 A-i, and CS. Each cycle of the
DMA then loads Port A with the value of the

+ 12 volts through a 1 KO resistor,

to
the 8228 would generate a RST 7 instruction
inexthe 8080A upon interrupt. This was a very
pensive mechanism.
The 8085A has expanded this facility with the

RESTART

VECTOR LOCATION

RST 7
RST 5.5
RST 6.5
RST 7.5

38 16

TRAP

24 16

2C 16
34 16

3C 16

1

FIGURE 5. ADDITIONAL 8085A INTERRUPTS

,

•(The value loaded into the low-order 14-bits of the

DMA

terminal count

minus one before the

cycles
register specifies the number of
terminal
Terminal Count (TC) output is activated. For instance, a

DMA

count of 0 would cause the TC output to be active in the
= the number of
cycle for that channel. In general, if Length
first

desired

DMA cycles, load the value Length-1 into the low-order

FIGURE 6. 8085A “RST 7” IMPLEMENTATION

14-bits of the terminal count register.)

A 1-7

SECTION 2
DETAILED APPLICATION EXAMPLES
Memory Addressing

As an example let s look at Intel’s ROM/ EPROM family (Fig.

One of the necessary functions of the microprocessor bus is
to interface with the memory where the program is stored.

7) and develop a system block diagram. This system should
allow upward compatibility for these particular devices and

ROM and EPROM memories are typically used to store programs while static and dynamic RAMS are generally used for
data memory. The following discussions cover the interfacing
to be used for these types of memory.

avoid any bus contentions due to undefined addresses.

the time difference between tacc (address access) and tco
(chip select access) to allow for decoding of the EPROM/ROM
to be selected. Connecting only these signals, however, in an

ROM EPROM ADDRESSING
-

unbuffered system will result in data contention because of
the spurious addresses during opcode fetch. The proper in-

Appendix a section is devoted to an approach for developing a chart showing memory device
compatibility for the 8085A. However, there is one area not
Later

in this

terconnect for this type of interface

included that will be discussed here, that is, unbuffered inter-

signal, RD, of the 8085A. This signal only occurs after
addresses have stabilized. *

trol

it

understand a particular characteristic of the 8085A.

Note also that a PROM is recommended for the
decoding function vs. an 8205 (1 of 8 decoder). Why?

The 8085A has a period of time, T4 through T6 of the op code
fetch cycle and certain instructions, where addresses A8
through A15 are undefined. Be careful about this. Not having

This PROM allows the user to easily upgrade his system
to the 32 and 64K versions with minimum rewiring. As
seen in Figure 3, only 4 pins are being altered (18-21) in
the Intel ROM/EPROM family to allow for this upward

addresses stable and using an address select method that
would randomly turn on memory devices will cause bus
contention and reliability problems in the unbuffered system.

compatibility. All a user would need to do is initially
design his layout for 28 pin devices, thereby allowing
total flexibility from 8K through 64K with the ease of
only changing a decoding PROM and a few wires.
Application Note AP-30 can be ordered at no charge
which fully discusses the application of Intel’s 5 Volt
EPROM and ROM family for microprocessor systems.

memory compatibility section of this Application Note,
a minimum {unbuffered MCS-85 family and medium system
In the

at least one level of buffering configurations are considered.
These configurations do not have bus contention problems.
i

)

In the minimum system only MCS-85 components will be
discussed where addresses are latched on the falling edge of

ALE, thus ignoring any extraneous address transitions. The
medium system is assumed to have data buffers that are
enabled only at the proper time, thus again preventing any
bus contention problems. What about the user who wants to
use standard ROM or EPROM without buffering?

WR

‘Both RD and
signals should be pulled up to +5V through a resistor to
avoid random selection during 3-state.
t Another method is

shown later in Figure 15 that facilitates the use of a

decoder, such as the Intel 8205.

28

JV CC
SI CS
—I CS 2
1

1

24

6

=av cc
3Afi

3A
21

20
19

24

3 Vpp
3oe
3 GND

3Vcc

24

21

^Vpp

21

ia77

23

3A
3 An

20

3oe

20

|OE/Vpp

22

3a 10

JO!

19

19

9

3Ce

3|A 8

I Afi

SlAg

I Ag

18

18

ao

7

1 Ar

Figure 7. Intel®

shown in Figure 9

contention. TTiis output enable is controlled by the read con-

ROM or EPROM memories. To use an
unbuffered interface to ROM or EPROM
is necessary to

C
a C

is

where an output enable (OE) signal will prevent any bus

facing to standard

A7

In

Figure 8 a traditional decoding scheme is shown that uses

EPROM/ROM Compatible Family
-8

8

PINS THAT
CHANGE

ADDRESS

AMO

Addresses

STATIC MEMORIES

The same consideration must be applied to standard
memories as with the ROMs/EPROMs in an unbuffered system. Memory device selection must be qualified by a memory
static

read or write to prevent spurious selection. Some Intel static
RAM devices have an Output Enable for this purpose, such

as the 2142 (Ik x 4). This part was designed to be specifically
used with a microprocessor bus. For other sta ndar d static
RAMs, the chip selects must be qualified by RD, WR or ALE
to prevent

The lower 14 addresses (A0-A13) are used to select one of
the 16,384 8-bit bytes in each 16K byte data bank. The lower
8 of these 14 addresses (A0-A7) flow through an 8212 and
are latched by ALE, effectively demultiplexing the address/

data bus. These lower 8 addresses with the next 6 (A8-A13)
enter the 3242 multiplexer/refresh controller. The Row Enable
of the 3242 controls which half of the addresses are presented

to the dynamic

RAM memory. Looking at the row enable on

the 3242, it is seen that the row and column addresses are
swapped with respect to convention. The higher order ad-

random selection.

DYNAMIC RAM INTERFACE
An earlier Intel Application Report (APR-1) extensively covered dynamic RAM interface with different types of memory
and refresh in the MCS-80 system. This dynamic RAM section

was taken from the most memory intensive example in APR-1
the 2116, modified to be compatible with the 8085A bus.

dresses are used as row addresses and the lower order
addresses are used as column addresses. This does not
create problems because this is invisible to the CPU. Refreshing is done properly as the 3242 controls the addressing
for this. The upper two addre ss lines (A^-A^) are decoded to
qualify one of the four RAS (Row Address Strobe) lines to
select one of the four 16K byte data banks of memory.

These minor modifications are such that an 8080 system can
be converted without much trouble. Before discussion of this
section, however, a strong word of advice is in order. At
about the same time this Application Note is published, Intel
will be sampling an 8202 dynamic RAM refresh controller
which does all dynamic RAM interfacing (except the data
bus) and refreshing in one packaged component. It is highly

recommended that the reader investigate this before using
the attached schematic. Reading this section will still be useful in terms of understanding the 8085A bus.

Cycle Requests
Cycle requests are generated from several sources; ALE
automatically initiates a request when SI indicates that there
is a read taking place (flip-flop C),

starts a timing chain

This section uses the APR-1 2116 multiplexed address 16K)
example modified for the 2117-4 dynamic RAM. These
devices have some differences from the 2116. One is that the
i

output is not latched and is 3-stated during a write operation.
This allows a user to tie both the data in and data out pins
together at the device and at the data buffers, saving board
tr aces. The 2117 a lso h ave hidden refresh capabilities where
if

CAS is held low, RAS can be toggled to refresh the device.

(74S174 shift register (E)) to generate

the remaining signals. Synchronization between this cycle
request pulse and the 4x clock is accomplished by the first D
flip-flop in

the

S174 shift register (timing chain).

RAS/CAS
When RAS is enabled by a cycle request,

it

is qualified

with

either a refresh request (all RAS’s turn on) or the decoded
upper two bits of the address bus. A caref ul reader may

question whether address is valid prior to RAS being enabled.

The schematic shown in Figure 10 is aimed at a high

This question can be answered by noting that the 8212 passes
the address through before the falling edge of ALE latches it.

performance, relatively inexpensive solution (disregarding the 8202). Refresh circuitry is not shown, but can be
implemented in a variety of ways. This will be discussed

TALf (115 ns for 320 ns 8085 A processor cycle), which is the
time from address to the falling edge of ALE, gives ample
time for addr esses to be valid at the 3242 outputs before

later in an upcoming section. In this refresh section,
code for a simple, very low cost refresh controller that

RAS is valid. RAS is extended past the clearing of the cycle

requires no special hardware, other than an 8155 timer,
is

WR during write cycles (D)

and refresh delayed (Q output of refresh flipflop (B)) when
there is a refresh. ALE is used to start a read (qualified by SI)
to provide ample time for access from the memo ries. This
cycle request signal (A) immediately creates a RAS and

request flip-flop by ORing this enabling signal with a tap from

presented.

the D flip-flop shift register.

For system timing, a 4x clock is used to obtain the resolution
necessary to provide the clocks for the multiplexed address

CAS (Colu mn Ad dress Strobe) is produced between 123 and

Other solutions are possible with delay lines, one
shots, etc., but are relatively expensive and don’t provide for
a nice baud rate source for any peripherals that may be in the
system as does this 4x clock. Another approach can use the
clock edges from the 8085A CLKOUT to interface to dynamic

164 ns after RAS, depending upon when the first D flip-flop in

2117’s.

the shift register synchronizes with the cycle request signal
(C). Since th is is greater than the specified maximum delay

from RAS to CAS, this memory system is CAS acces s lim ited
and RAS access no longer has any meaning. The CAS tap
can't move up one D flip-flop to provide more time for memory
access as this would not provide sufficient data set up time

RAM. To facilitate this type of approach, Clock related timing
parameters are listed later in this note.

with respect to CAS during a write.

To aid in understanding the operation of this circuit, the explanation is broken into a discussion of the main signal paths.
2117-4 Spec compatibility with the 8085A will be discussed in
detail in the dynamic
ity

byte. TALL, for the
AL now only applies to the high order address
lower address byte equals 90 ns. This was done to allow for additional Tr A £
time for data float.
t Note that T

RAM section of the Memory Compatibil-

section.

A1-11

Interface

RAM

Dynamic

8085A-2117

10.

Figure

A1-12

Data

a convenient component that can count 8085A
CLKOUT) and interrupt the 8085A, you’re
home free. An example of such a device is t he 8155 in the

If

there

is

The data path to the 2117s is through two sets of buffers to

cycles (8085A

account for memory being off board. To determine bus timing
guaranteed to be
it is helpful to know that Write data is not

MCS-85 family. On the 8155 one can use the TO (timer out)

valid from the 8085A until 40 ns after the leading edge of the

write control signal. On account of this and the delay times for

the buffers it is necessary to delay the cycle request on a

WR signal goes low. The solution shown still
does not require wait states. An inhibit memory signal is also
involved. This is useful when using memory address space
overlap such as the case with bootstrap ROM (which would
be necessary in this system if a full 64K of dynamic RAM is
write until the

used).

Refresh

Dynamic RAMs are generally refreshed in two different
modes; burst (i.e., all at once every 2 ms) and distributed
(one row every (2 ms/number of rows) period of time). The
schematic shown provides for a distributed refresh where

pin to interrupt the

CPU everytime a refresh needs to be

performed and an interrupt service routine could dummy read
128 consecutive locations and return to CPU operation. (128
reads are necessary to completely refresh the full 16K bytes
of 2117 memory.) The highest priority interrupt should be
used for this to insure that refresh occurs. Figure 1 1 is an

example program to perform this burst dummy read refresh.
This routine basically uses 64 pops of the stack, each reading
two consecutive locations in the memory. Note that this routine destroys the contents of registers B, C and D in the
8085A. The user may want to save these registers in the
routine before performing the software refresh.

If

memory

space is more valuable than CPU efficiency, the POPs can
be performed in a loop instead of a string, saving additional
memory.

refresh requests are applied to the Hold request input of the

8085A (not shown). This signal needs to occur at least once
every 15 psec ((2ms/ 128 rows to be refreshed) - HOLD to
HLDA delay) and can be generated through a baud rate
3222, one shots or other similar devices.
Another approach to refresh could qualify the refresh cycles

timing chain,

Intel

with program fetch cycles (use status lines). If program membus can
and the dynamic

ory is in static RAM or

ROM

RAM

be isolated, refresh cycles can be performed with no overhead. Instead of using the HOLD feature of the 8085A, refresh
can be hidden in the program fetch and decode. Further
considerations for refresh include proper handling of resets
and excessive hold times from other peripherals to be certain
the memory is being refreshed adequately.

Some applications don’t require high CPU efficiency and require a very inexpensive

method to refresh their dynamic

RAM. Since writing, reading or performing special refresh
cycles all refresh a particular row, why not do “dummy” reads
to refresh? To use this technique memory must be mapped
on a one to one correspondence with the address space.
This will allow the programmer to read one byte in each
the 2117s, thereby refreshing that row. A
simple software routine can be devised to refresh 16K bytes
physical row
of RAM.

If

in

more dynamic RAM than this is desired

it

This routine requires 690 cycles which is about 11% of the
available 8085A CPU cycles, or 7% of the available 8085A-

2 cycles. If this is acceptable and there is a counter available,
you can’t find a cheaper way to do refresh. Note that as
processor speeds become faster, this overhead becomes
proportionately less and more attractive as an alternative.
Again, as with any refresh routine, reset and excessive holds
must be dealt with to guarantee proper refresh.

DMA (Direct Memory Access)
DMA is becoming more common in the microcomputer system for many applications. Some examples include the 8271
floppy disk controller and refreshing a CRT via an 8275 CRT
Controller. It is always helpful to reduce the overhead of the
DMA (as DMA can tie up the system bus) whenever possible.
In many applications, where program memory is resident in
ROM or PROM, DMA cycles can be performed in coincidence
with op code fetch. This will make them invisible to the CPU
as described for Refresh in the Refresh section of the 2117
dynamic RAM example.

can be

accomplished by specially enabling all the desired RAS signals via an 8085A output port. First let’s analyze how many

In

the dynamic Ram system, Refresh requests can be

made on the DMA controller via the DRQ lines, with the
8237 in a rotating priority mode to insure refreshing is

CPU cycles are available in the 2ms period:
2ms/(320 ns/cycle) = 6,250 cycles

done. Another technique would be to devise an arbiter
for DMA and refresh requests at the processor hold input. With this technique the designer must not allow
DMA to monopolize the bus when refresh is needed.

8085A@ 3.125 MHz
2ms/(200 ns/cycle) - 10,000 cycles
for 8085A-2® 5.0 MHz
for

A1-13

During initialization:

MVI

OUT
MVI

OUT
MVI

OUT

A, D5H
TIMER MSBYTE
A, A4H
TIMER LSBYTE
A, C0H
TIMER COMMAND

SET TIMER COUNT TO 5550* FOR REFRESH COUNT
INTERRUPT CPU AT TO (TIMER OUT)
START COUNTER, PLACE CO IN 8155 STATUS REG.

Program

AT RST
TOTAL

RETURN ADDRESS
#CYCLES

7.5

CALL RFRS

(REFRESH SERVICE)

CYCLES

30

10
10
10
10
10

RFRS:

LXI HL, 0

SAVE STACK POINTER IN HL

DAD SP
LXI SP, 0080

32K - 48K REFRESH

POP BC
POP BC

REFRESH, DUMMY READ

64 TIMES

•

640
6

SPHL

4

El

_20

10

RET

690

TOTAL CYCLES

(round up to 700)

RESTORE STACK POINTER
ENABLE INTERRUPTS
RETURN

*6,250 available cycles - 700 to do refresh. Counter should count 5550
= 1 5A4H for 8085 A; for 8085A-2 must count 10,000-700 = 9300 - 2454H.
To set counter to automatic reload, most significant bits in timer of 8155
must be set to 1. Therefore, for 8085A use D5A4H and for 8085A-2 use

E454H.

Figure 11. Software Refresh

The standard technique for interfacing the 8085A processor to the 8237

minimum system applications. If the system has both

DMA controller is shown in the

MCS-85 and standard addressed components, and DMA

MCS-85 User’s Manual and is reproduced in Figure 12.

used for the standard addressed components, ALE
must be or’ed with ADSTB from the 8257. This is
necessary to deselect the MCS-85 components from the
bus. Due to the latching feature of the MCS-85 components, bus contention may result if this is not done
and DMA tries to use the bus.
is

This configuration is set up to interface with standard

memories or peripherals, i.e., ones that don’t share their
data bus with addresses, not the MCS-85 family components (8155, 8355, 8755A, etc.). DMA is unlikely with
these MCS-85 components as they are intended for

A1-14

READY

c3

Ap

07
1

A*7

1

CLK (OUT)

Do
8237

RESET IN
RESET OUT

MEMR

DREOO

ron

DACKO

M£mw

DRE01

iCW

DACK1
DREQ2

HRO

DACK2
DREQ3

HLDA

DACK3
EOP

CLK
RESET

AEN

DS2

ADSTB

CLR

STB

*

Figure 12. Detailed System Interface Schematic
A1-15

RESET INITIALIZES DACK
LINES AS ACTIVE LOW.

SYSTEM TIMINGS

seen that the rising edge of the XI input causes flip-flop

8085A CLK-IN vs. CLK-OUT vs. Control Timings

A to toggle. From this flip-flop two internal signals are

This section shows timing characteristics that relate the input

generated that drive all functions in the 8085A, A-2 and
produce the output control signals and clock. Referring

clock to the control signals and the output clock. These timings

to Figure 15, it is seen that clock output is derived from

can be treated as constants, that is, within the normal operative range of the processor, they are cycle or 8085A, A-2
speed independent.

Be careful about manipulating the timings given in this section
with the specifications in the data sheet. The specifications

the internal 01 signal in the schematic of Figure 14. This
output signal is a MOS output unlike the bipolar outputs
of the 8224 in the 8080A system. This restricts the user
to the loading limitations of a MOS driver (for further
details see bus loading section). The rest of the output

on the 8085 A, A-2 are not mutually exclusive; that is, you
can t add minimums to minimums and obtain a valid mini-

edges are also shown in Figure 14.

control signals with their respective internal controlling

mum for some other timing parameter. Where the timing
parameter is specified directly, this takes precedence over
any other method you come up with to find that specification
(through adding and subtracting others). This was not done
to confuse the user, but to provide him with the most optimal

Since the path between the XI input and the clock output can have a considerable amount of variance, the
relationships of these two clocks vary significantly.
Figures 15 and 16 are a set of timing diagrams il-

timings for his system!

lustrating the relationship of the clock input to the clock
output to the various control signals. For designs that
require these relationships to synchronize different
systems, components, etc; the designer must allow for
these variances in the relationships.

To understand the timing parameters in this section it
would be helpful to understand how the internal signals
are generated in the 8085A. Referring to Figure 13, it is

Parameter

Description

Min

Max

Units

t0AL

Time from C.F. to next Address valid (Ao - A7)

130

ns

t0ALU

Time from C.F. to next Address valid (As - A 15 only)

70

ns

t0AT

Time from C.F. to present Address remaining valid (Aq - A 15 only)

-20

t0CL

Time from C.F. to control low (L.E.)

-10

60

ns

t0CT

Time from C.R. to control low (T.E.)

-10

60

ns

t0DL

Time from C.F. to Data Out becoming valid

65

ns

t0DT

Time from C.F. to Data Out remaining valid

-20

ns

t0DS

Data-in set up time to C.R.

100

ns

t0DH

Data-in hold time to C.R.

t0LL

Time from C.F to ALE high (L.E.)

t0LT

Time from C.R. to ALE high (T.E.)

tXKF

Time from Xi input to C.R

tXKR

Time from X-j input to C.R.

30

C.F.

ns

0

-60

= Clock Falling, C.R. — Clock Rising, L.E. = Leading Edge, T.E. = Trailing Edge

NOTE: These numbers are guaranteed by design and are not tested by Intel.

8085A, 8085 A-2 Clock Parameters
OTHER INTERNAL
LOGIC

TRI-STATE

Figure 13. Clock and Sample Control Logic

control

A1-16

ns

0

ns

0

70

ns

30

150

ns

120

ns

*-

T,

CLK
OUT

V
tO L L

U

\+

r
tOAL
**

ADDR 8-15
STATUS

t3

/

V

|

1

T2

1

jl

\

tOLT

r

\

t^OH

t<>AT

'

\

v_

/
«

t0ALU

t£os

\>

X

A

L

A Do. 7
(READ MODE)

7

ADDR OUT

DATA IN

r
\+

\

RD

^

DATA IN

C--<

(VALID)

tfol.

r
-tOCT

t(JoT

f

AD0 -7
(WRITE MODE)

ADDR OUT

/
\

DATA OUT

X

r

—

s

*•— VOL

\

WR

*

£

t$CT

t©CL

Figure 16. 8085A-2 Clock Related Timing

3.125 vs. 5 MHz Considerations

The 8085A (with maximum internal clock frequency of 3.125
MHz) and 8085A-2 (5 MHz) have some differences in their
bus operation. There are two sets of peripherals that can be
used with both the 8085A and A-2. There are the dedicated

—Clock (crystal) requirements. The 8085A, A-2 re-

peripherals in the MCS-85 family that directly interface with

quires the following crystal specifications to run

the 8085A, A-2 bus and the standard

at top bus speed:

MCS-80 peripherals

The standard peripherals that are
denoted 825X-5 (also the 8251A and 827X peripherals) are
peripherals that can be used with an 8085A or 8085A-2. In
that Intel also provides.

8085 A

the 8085A-2 system a wait state is required for proper I/O

MHz frequency, parallel resonant,
fundamental, 10 mwatt drive level, RS <
75 ohms, CL = 20-35 pf, and CS < 7 pf.

6.25

operation, but even with this wait state system speed is still

8085A-2

30% higher than the 8085A without wait states. An example
the peripheral compatibility section

in this

10 MHz frequency, all other specifications
the same as 8085A.

wait state generator for this purpose is shown at the end of

Application Note

(Figure 19).

—Memory and Peripheral Compatibility
The main timing differences to consider when using an 8085A
vs.

in detail in

upcoming sections.

an A-2 are listed in Table 1.

—Cycle dependent timings (Table 2)

Cycle dependent timings are listed in Table 2. These are very
useful when the user is not operating at the full bus speed.
Remember that each 8085A, A-2 device divides its clock
input frequency by 2. Therefore, a 10 MHz crystal will produce
a 200ns output cycle (denoted as T in the cycle dependent
timings). A timing diagram showing the relationships of the

Table 1

timing parameters given in Table 2 can be found on the data

sheets.

A1-18

.

8085A vs. 8085A-2.

-

Discussed

5 MHz (8085A-2)

3.125 MHz (8085A)
(n s)

(n s)

Parameter
tcyc

Min

Max

320

2000

tl

80

t2

120

Cycle Dependencies

Min

Max

200

2000

1/2T-80

40

1/2T— 40

70

1/2T-70

1/2T-50

tr

30

30

tf

30

30

tAL

TO

1/2T-45

tLA

tffil

1/2T-60

50

1/2T-50

tLL

140

1/2T-20

80

1/2T-20

tLCK

100

1/2T-60

tLC

130

1/2T-30

tAFR

1/2T-50

1/2T-50
1/2T-40

60
0

0

(5/2+N)T-150

tAD
150

(3/2+N)T-180

tRD

(3/2-f N)T— 150

tRDH

0

tRAE

150

1/2T-10

90

tCA

120

1/2T-40

60

1/2T-40

0

1/2T-10

tDW

420

(3/2+N)T-60

230

(3/2+N)T-70

tWD

100

1/2T-60

1/2T-40
(3/2 + N)T-70

tcc

400

(3/2+N)T-80

230

tCL

50

1/2T-110

25

3/2T-260

tARY
tRYS

110

100

tRYH

0

0

tHACK

110

1/2T-50

1/2T-75
100

3/2T-200

150

1/2T+50

40

1/2T+50

tHABE
tRV

400

3/2T-80

220

3/2T-80

tAC

270

T-50

115

T-85

tHDS

170

tHDH

0

tINS

360

tINH

0

tLDR

0

1/2T+200
i

2T-180

460

1/2T+50

150

u
270

Where T =* tcyc and N = the number of wait states that are incorporated.
All

Cycle Dependencies

mathematical operations in Table 2 are performed from left to right, except where qualified with parenthesis.

Table 2

.

8085A and 8085A-2 Cycle Dependencies

A1-19

4/2T-130

Memory Device Compatibiiity
Determining What Memory to Select For Your Application

We will first go through the minimum system which can be

When developing a system which will use sufficient memory

represented by the dedicated set of components Intel has
developed for the 8085A (Fig. 17). The two timing specs were

to require buffering (see the capacitive loading section to

determine when it is needed), it is important to understand

how to select the slowest, lowest cost memory and still be
compatible with the bus timings with minimum wait states. A

taken from the data catalog for tRD and tAD (*LDR s irrelevant here). Looking at the 8155/6 and 8355/8755A, a comparison can be made for the access times:

generalized procedure has been developed in the following
section for determining the memory access needed for different applications
(if

tRD
tAD

and the number of wait states required

any). In general the amount of time available for access-

ing the memory can be obtained from the following formula:

Available memory access
trol

signal of interest)

-

= 8085A access time (from con-

Buffering/ Decoding delay (to

and

from memory)

8085A (3.125 MHz) 8155/6
8355/8755A
300 (max)
170 (max)
170 (max)
575 (max)

400 (max) 400/450 (max)

This shows that there is plenty of bus margin for the 3.125

MHz minimum application of the 8085A. Access time for the
processor can be interpreted as the time from when the consignal is presented on the bus to the time when the processor will expect the data to be valid so it can sample it.

trol

The three main “control” signals of interest which determine
memory access are that of tRD (read to valid data in), tAD

Conversely, memory access times show the amount of time

(valid address to valid data in) and t[_DR (address latch enable

that will elapse between when it is told to present its informa-

When dealing with different types of

tion to when it actually does it. As long as the memory access

memories, one or more of these signals becomes important.

spec is less than the processor access spec (minus appro-

to valid data

in).

Even though memory access compatibility is probably one of
the most important parameters to consider, as this is directly
reflected in the price of the memory,
is not the only paramit

eter that is important.

Some of the other major timing con-

siderations are as follows:

WRITE ENABLE - Is the write enable signal sufficiently long

priate buffering delays) the memory is access time compatible.
In more complicated systems where one level of data,
address and control buffering is required (such as the case

when there are many signal paths and device loading on
one card), the delays of the latches and bidirectional
drivers must be taken into consideration.

to guarantee a write?
Is data set up properly with respect to this write to be compat-

memory’s requirements?
Is data held long enough?

ible with the

DATA FLOAT - Does your system have sufficient margin to
prevent bus contention?

First consider a ROM,

EPROM or static RAM configura-

shown in Figure 18. Using the generalized
available memory access formula, t AD t RD and t
LDR for
the memory can be determined using the data sheet timtion

as

,

ing delays for the buffers.

(i.e., Does the memory let go of the data bus in time for the
processor to use it? Remember that the 8085A shares its
Data Bus with the lower 8 addresses.)

ALE

Figure 17

.

Minimum System

Figure 18.

Medium Buffered System

tAD MEMORY = tAD8085A - (8282 + 8205 delay) - (8286
delay) + transitional gain due to buffering*

H

= tAD85 - (T|VOV +
- (T IVOV) + lCAPB*
= (5/2+ N)T - 225 - 55 - 35 + 15
= (5/2+ N)T - 300 (for 8085A)
(5/2+ N)T - 225 (for 8085A-2)

For minimum 8085A timing

8085A-2 timing
Therefore for tLDR:
t|_DR

MEMORY = t|_DR 8085 - (buffer delay) - (8205)
- (8286) + tcAPB

= tLDR ~ (delay)- (t-)- (T VOV )+*CAPB
|

where N = number of wait states and T = cycle time,
500ns = tAD memory
For minimum 8085A timing
275ns = tAD memory
8085A-2 timing

= 2T -180 -30 -20 -35 +15
- 2T -250 for 8085
= 2T -200 for 8085A-2

The 8085A timing parameter tAL was not taken into consideration as the 8282 transfers information directly through without concern of the address latch enable. tRD can be obtained
in

250ns = tRD memory
100ns = tRD memory

For minimum 8085 timing

8085A-2 timing

= 390ns
= 200ns

a similar manner.

The read signal RD goes through a buffer before it reaches
the memory. This must be taken into consideration when

To obtain memory access parameters for a multicard system
(which would have buffering at both ends of the system bus),
it

calculating effective tRD f° r the memory.

tRD MEMORY = tRD 8085A -

is a simple matter of subtracting off the additional buffering

delays.

(buffer delay)

- (8286
With these timings a memory compatibility table can be developed from the data sheets (Table 3). With most of these
memories it is relatively straightforward to determine the controlling signal used to select and enable the device. To illus-

delay) 4* transitional gain due to buffering

= tRD 85 - (delay) - (T|voV) + tCAPB
= (3/2+N)T - 180 - 30 - 35 + 15
= (3/2+N)T - 230 (for 8085A)
(3/2 + N)T - 200 ns (for 8085A-2)

trate this, listed

below are the controlling signals of interest

for the different memories as they are used in a typical con-

figuration:

*tcAFB js additional time thrown back in for improvement in signal transitions. This is because buffering the signals reduces the capacitive loading

Relevant
Control Signal

considerably. The data sheet gives timings for maximum capacitive loading.
Characterization has shown change in delay versus capacitive loading as
.12 ns/pf min (under 20 pF loading) and .24 ns/pF max (under 150 pF
loading). To take into consideration the effects of this loading two

RAM
2114

param-

Address access
Chip select access

eters are defined:

tCAPA
tcAPB

'

delay for a signal to leave the old logic level

'

delay for a signal to complete the transition from the old to new

2142

logic level

Address access
Chip select access
Output enable

where tCAPA = 1/2 t CAPB

tCAPA
t

CAPB

MIN

MAX

7 ns
15 ns

30 ns

15 ns

*AD MEM
-

tLDR MEM

tAD MEM
*LDR MEM
tRD MEM
-

ROM

memory compatibility calculations tCAPB min is added on as spec sheet
has
values assume 150 pF loading and this system is not worst case, i.e.,
In the

it

=

"Chip selects for these static RAMs need not be qualified with ALE. If 21 14

130 pF and change in delay versus capacitance is 1/2 ns/pF min, tc APB M,N =
(.1 ns/pF) 130 pF = approx. 15 ns.

or 2142 chip selects are generated directly from the address lines, the

buffering that reduces this loading to approximately 20 pf. Since the CAP

relevant timing is tAD MEM.

3.125 MHz

5 MHz

8155/8156, (256x8)

8155-2/8156-2

MINIMUM SYSTEM:
STATIC RAM

8185 (1Kx8

ROM/EPROM

)

8185-2

8755A (2Kx8)

8355-2
8755 A-2

2114 (1Kx4)
2142 (1Kx4)

2114-2
2142-2

2732 (4Kx8)
2716-2 (2Kx8)

2716-2**

8355 (2Kx8)

BUFFERED SYSTEM:
STATIC RAM

ROM/EPROM

•Contact Intel for high performance EPROM/ROM Family.

"With 1 wait state.

Table 3.

8085 A, A-2 Memory Compatibility.

A1-21

In general, t/^D MEM and t[_DR MEM are the parameters
needed for chip enabling, selection and address access
times, and probably are the most important considerations
when determining which memory device to use. When there
is an output enable, tRD MEM is also used. All relevant access
times must be met by the resulting system configuration to be

RAS path (from ALE)

approximate delay

(return path) 2 8216s

7 ns ea
15 ns
25 ns ea

CAS path (from ALE)

approximate delay

5 gates
1

compatible.

This note will not attempt to generalize a procedure that deals

3 gates

dynamic RAM, but the 2117 example
shown earlier is described below. In the dynamic RAM system, many variables come into play upon which the memory
access is dependent. Among these are refresh controllers,
decoding, whether or not the system is designed for minimum
hardware or maximum performance, and consideration for
nonmultiplexed vs. multiplexed address dynamic RAMs.

1

with the interface to

Flip Flop

7 ns ea

Flip Flop

1

4 D Flip Flops

5 ns

41 ns ea

ACCESS AVAILABLE FOR RAS =
tLDR - 5(7) - 15 - 2(25) = 360 ns

tACCESS AVAILABLE FOR CAS =
tLDR “ 3(7) - 15 - 4(41) - 2(25) = 210 ns

For the Intel 2107C, which has nonmultiplexed addresses,
tAD is the important parameter as generates the chip selects
and chip enables. However, with a m ultiplexed address part,
things are different and both a RAS and CAS access time
must be co nsidered. Note that since RAS is ap plied before
CAS, RAS access time is effectiv e only while the CAS signal

Since RAS available ti me - CAS available time is greater

it

than the spec value for RAS to CAS delay on all 2 1 17 specs,
CAS access becomes the limiting factor. A CAS access of

165ns of the 2117-4 is well within the time available.

To verify the other 2117 specs such that there is certainty

stays within the sp ecified RAS to CAS delay time. If it is not

that this sytem will play, a comparison can be made of the

possible to do this, CAS access becomes the imitin g f actor
for memory selection. D on’t b e mislea d by the RAS to CAS
l

timing specs

the 2117 data sheet to the timings that

in

result in the circuit configuration in Figure 12. When look-

maximum delay (tRCD: RAS to CAS delay time) spec’d on
dynamic R AM data sheets! This maximum only applies to

ing at the following timing comparisons,

remember that

the read cycle is initiated by the falling edge of ALE (Ad-

guarantee RAS access.

dress Latch Enable) and the write from the falling edge of

For a specific example the following shows how the speed

WR (Write). For descriptions of the parameters in Table 4,

versions were selected for previous 2117 dynamic RAM inter-

please refer to a 2117-4 data sheet. Delay assumptions
used are shown in Table 5.

face.

TAKEN FROM 2117-4 DATA SHEET

READ
CYCLE
MIN

tRAC
tCAC
tREF

MAX

DYNAMIC RAM CONFIGURATION
MIN

250 ns
165 ns
2 ms

tRP

210 ns
Not Shown

279 ns
472 ns

150 ns
25 ns

tCPN
tCRP

-20 ns

tRCD
tRSH
tCSH

35 ns
165 ns
250 ns

tASR
tRAH
tASC
tCAH

193 ns
Outside spec, CAS access limited

65 ns

177 ns

300 ns
55 ns
82 ns

0 ns

35 ns

tAR
toff

tRC
tRAS
tCAS

MAX

Doesn't apply

-10 ns

-4 ns

75 ns
160 ns
70 ns
410 ns
250 ns
165 ns

205 ns
410 ns
See Below*
720 ns
307 ns
198 ns

•There are two parameters that the processor “sees One is memory access, which has already been covered. The other is when the memory will let
go of the bus. To show compatibility here, the following analysis is done.
'.

2117 tQFF
8085A tpA£

1

Therefore compatible as

70 ns max
50 ns min

WR is used to deselect the 8216’s.

Table 4. Bus Compatibility Analysis (see Figure 11)

A1-22

TAKEN FROM 2117-4 DATA SHEET
WRITE
CYCLE

MIN

tRC
tRAS
tCAS

410 ns
250 ns
165 ns

twcs
tWCH
tWCR

-20 ns

DYNAMIC RAM CONFIGURATION

MAX

MIN
720 ns
307 ns
198 ns
34 ns

75 ns
160 ns

tWP

164 ns

287 ns
205 ns
205 ns
205 ns
**
23 ns

75 ns
100 ns
100 ns
0 ns
75 ns
160 ns

tDH

tDHR

MAX

Data held until next cycle
Data held until next cycle

**Data is not valid from the 8085A
until 40

ns after

WR falls.

Table 4. Bus Compatibility Analysis (see Figure 11) (Cont’d)

The numbers in Table 4 were obtained by using the following

Steps 1, 2 and 4 have been done for you in the Memory

delay assumptions (Table 5) and very conservative techniques of obtaining minimum 8085A timings. Where no direct

Compatibility Table for ROM,

EPROM and Static RAM mem-

medium and minimum system. Remember - for
dynamic RAM, Intel will soon be providing an 82 0 2, a r efresh,
ories in a

specification applied, minimum specs were added assuming

dynamic RAM controller that generates all RAS, CAS control
signals for a 64 kByte memory (made of 2117s).

0 ns for any rise or fall times. This is more conservative than
necessary. Another approach can be made from the clock
related timings discussed in an earlier section.

Peripheral Compatibility - 3.125 and 5 MHz

supports its processors with many LSI peripheral components that do a wide range of functions to simplify circuit
design. The 8085A compatible peripherals have been denoted

DELAY
Gates
Flip

Flops

8216s

D flip flop

MIN

MAX

0 ns
0 ns
0 ns

15 ns

30 ns

41 ns

41 ns

Intel

7 ns

the "-5” notation to show compatibility. The “-5” notation
also signifies that these devices are compatible with the

8085A-2 with one wait state interjected. This wait state is
produced by taking the ready line low at the proper time as

(Timing Chain)

3242
8212

0 ns
0 ns

5.

Table 5.

25 ns
30 ns

shown in Figure 19.
(Min 0ns for

A list of these peripherals is shown in Table 6 with corres-

synchronization D FF)

ponding relevant specifications to illustrate 8085A-2 compatThe analysis for determining the resulting timings is

ibility.

Delay Assumptions

similar to the analysis in the previous memory compatibility

An exhaustive approach as Table 4 will more than pay itself

section.

back in terms of debugging the circuit. However, while this
analysis may be helpful in understanding an existing circuit, it
won’t help as much in creating a new one. A general procedure for designing with memories is itemized below:
1

.

60 n»

Determine how much processor time is available for memory access. Access from addresses is the most important
parameter.

2.

Determine how much buffering will be used (both to and
from the memory) and how much delay there will be due
to decode or qualifications in the circuit (in the

design

in

Fig. 11,

memory

WR qualifies a write). Subtract these

resulting delays from step 1 to get an effective access for

the memory. If multiplexed address RAM is used go to 3, if
not go to 4.
3.

Determine how the RAS and CAS timings will be generated, be it one shots, delay lines, shift registers, etc. Adjust

memory access available for the method chosen.
4.

Select a memory that meets this criterion.

Design the system to meet all the specified parameters of

Figure 19. 8085A-2 Wait State Generator

the memory and verify.

A1-23

Taking note of asterisked margins shown on the comparison
sheet: tAD- fRD. tRR and tow. it is seen that they are all

taken care of by introducing a wait state. The double asterisked margins deal with the tRv spec on the 8255A-5,
8253-5 and 8279-5 peripherals, tpv is the time from the rising

The timing specs of the 8085A are guaranteed as long as the
150 pF maximum loading is not exceeded, which includes the
wires, components and parasitics. If the user exceeds this
value and wants to guarantee his system timing he must
either derate the system timings or use buffering.

edge of WR or RD to the next falling edge. To allow sufficient
time for this spec it is necessary to delay the commands sent
to these three peripherals. Enough dead time must occur to

What

if

you choose to ignore this limit and say you can live

with the performance degradation? First the timing perfor-

make up for the entire negative portion of the margin (for

mance is not all that would degrade, a user must be willing to

example: 790ns in the 8253-5 medium system). Since in the
8085A-2 every machine cycle is at least 200ns long, 4 ma-

give up some reliability of his components (All

MOS devices

One may notice that all of the 8085A instructions take at least

have this restraint). This is caused by the excessive switching
currents that are needed for this extra loading capacitance. If
reliability is not an important consideration, the user can load
up to 300 pF on the 8085A bus, but the following correction
factors must be used to adjust the timings:

4 T-states (providing a minimum of 800ns) giving ample time
to meet this requirement, just by programming one instruction in between every command sent to the peripheral. I/O

for 150 pF

chine cycles are sufficient time to allow peripheral control
signal recovery (tRv)-

mapped I/O, which results in using the Input, Output instructions has this delay time built in when moving the data to be
transferred into the accumulator. With memory mapped I/O,
any instruction that accesses memory for data will provide

< 300 pF add .13 ns/pF

conversely if less than 150 pF:
for 25

< CL < 150 pF you can subtract .1/ns/pF.

the time necessary to not violate tRv as a second fetch
is

What happens after 300 pF? If the user exceeds this, the
noise levels become excessive and problems will result. How
much is to much noise? 350 mvolts zero to peak. Prudent
designers will always buffer when noise approaches this level,

performed.

Bus

•

Loading Considerations

•

Decoupling

For the cost conscious designer it is always helpful to know

especially in the case of going from one board to another.

when buffering is needed and when is not. How much can
load the 8085A output pins down? To answer this
is helpful
it

I

it

to first list the

The above takes into consideration the actual specification
considerations of when to buffer, but there are also transmis-

DC requirements of the common types of logic

loading and compare this to the capabilities of the 8085A.

Maximum
High-Level

Low-Level

Input Current

Input Current

TTL (single load)
Schottky or HTTL

40/iA
40/xA

sion line and noise effects that must be considered.

impedance levels and reduce reflections. Note that this resistor should be chosen such that it does not severely degrade

1 .6mA
2.0mA

MOS

10/x,

A

10/iA

LSTTL (single load)

20/xA

400/iA

the voltage levels of the signal. Long parallel board traces
with signals that could adversely affect each other should
also be avoided to prevent cross talk problems.

By-passing is very important to prevent intermittent problems
which often plague the board designer. Large bulk capacitors
should be used at strategic locations on the board to prevent
power supply droop. This becomes a major factor when there
are many devices that can turn on at once and produce a

The 8085A is capable of an IOL of 2mA (low) and IOH of

- 400/iA. With this spec

it

When

working with dynamic RAMs small (20-30 ohm) resistors are
commonly put in series in the address lines to help match

Maximum

Is easy to come up with the pos-

sible combinations of D.C. loading that the designer can use

without buffering:

considerable drain from the power supply (such as burst refresh in dynamic RAM).

8085A,

LOADS

A-2 limiting factor
To help smooth out the current spikes that naturally occur
when devices turn on and off, it is recommended to liberally
use small capacitors such as the monolithic and other ceramic
capacitors which have low inherent inductance. Attached in

(level)

1

TTL + 1 LSTTL
TTL + 36 MOS*

1

SCHOTTKY or 1 HTTL

1

40 MOS (various combinations possible) *
5 LS TTL
*

LOW
HIGH

LOW

the 2117 data sheet is a suggested layout of capacitors to

HIGH

effectively bypass the supply lines to ensure proper system

LOW

operation. Cutting corners here will often times turn around

and bite you.

Exceeds capacitive loading limit, to be discussed

Proper layout is an important consideration. Power supply

a user exceeds these DC loading limitations he must buffer
that particular signal. Another factor that the designer must
consider is the capacitive load that is seen by the 8085A
outputs, which may very well be excessive even if DC loading
is not. One may note that even though the 8085A can handle
a DC load of 40 MOS devices or 36 MOS + 1 TTL, their
collective input capacitances exceed the 150 pF max spec.

lines should be well gridded to supply sufficient current to all

If

areas of the board. A strong ground layout is advised to offset
noise problems. Remember if the ground plane moves up in
voltage because ofexcessive charge dumping in a particular
area, the supply will drift up correspondingly. Sensing low
levels often becomes an intermittent problem when proper

ground is not provided.

A 1-25

APPLICATION EXAMPLE 1
MINIMUM SYSTEM APPLICATION AS A TEMPERATURE SENSOR
Overview

nents are on the same board and far below the maximum
component loading. A monostable multivibrator (74121) is also
shown with a thermistor connected to RE/CE.

Following is an application example that illustrates the use of
the interrupt and SOD pins on the 8085A, software for a block

search routine, and the procedure for using and reading the

The SOD output pin from the 8085A is used for the purpose of

8155 counter. It is a simple application showing the use of the
small but powerful 3-chip MCS-85 system as a temperature
sensor (SDK-85 board used). This example can be modified
to be an accurate industrial temperature controller, for several

starting the

monostable multivibrator in generating its tem-

perature controlled timing pulse. This pulse is created by the

RC time constant provided for by the thermistor acting as a
variable resistor and a -VF capacitor to put the timing pulse

locations if desired.
j

in the desired timing

The basic operation behind this application is a monostable
multivibrator having its timing pulse duration controlled by a

The

thermistor. The counter in the 8155 converts this timing pulse

range.

inverted output of the monostable multivibrator (one

shot) has been directly connected to the RST 6.5 pin on the

to a decimal count that is software mapped into a temperature

8085 A. Since this pin is high level sensitive, is necessary to
disable interrupts in the program until after the pulse from the
one shot goes low.
it

and displayed in degrees C in the address field of the display
in the SDK-85 Kit. For the purpose of keeping the software
relatively simple, many approximations were incorporated into
the code.

The hardware addressing in the configuration shown allows
code spaces that could be used. The RST and
TRAP interrupt lines on the 8085A also have hardware start
addresses but many of these are altered by the SDK monitor.
for several

Detailed Hardware

The basic SDK kit was used for the initial hardware. This Kit
provides for everything necessary to develop and debug a
program through the use of the SDK-85 monitor, keyboard
and display board. The kit provides for 256 bytes of RAM
resident in the 8155 and 2K bytes of ROM or EPROM where
the SDK-85 monitor is placed. (See the Intel SDK-85 User s

Table 7 should be useful

in understanding the addresses
used in the software that follows. Each memory/ I/O component in the basic SDK-85 system is enabled by a signal coming from the 8205 address decoder. Since no expansion chips
are used, output enables 00 (8355 monitor ROM), 03 (8279
Keyboard) and 04 (8155 RAM) were the only ones needed.
Additional memory and/or I/O could have been incorporated

Manual for copy of monitor software code.)
Figure 20 is a schematic of the SDK-85 Kit with only one 8155
and 8355. There is no buffering in this system as all compo-

Memory/ I/O Device

using other output enables from the 8205.

Output from 8205

Function

code space

8155

RAM space

04

8355

ROM space

00

0000 - 07FF

Keyboard/display

03

1800 - 1FFF

2000 - 20FF
(20 - 20FF are reserved
for monitor

8279

RAM locations)

controller

stack pointer

Since the monitor uses locations 10C8 through 20FF,
the stack pointer must be initialized to 20C8 or less.

8085A jump address
trap

24H

RST 5.5
RST 6.5
RST 7.5

2CH

I/O ports address

Usage

monitor mapped address

TO of 8155
8279 interrupt

0157
028E

34H

oneshot interrupt

20CE

3CH

vector interrupt

Function

00

Monitor ROM Port A (8355)

01

Monitor ROM Port B (8355)

02
03
20

Monitor ROM Port A (8355) Data direction register

21

22
23
24
25

Monitor ROM Port B (8355) Data direction register
Basic command/status register
Basic RAM Port A

Basic RAM Port B
Basic RAM Port C
Basic RAM LOW order byte of timer count

Basic RAM HIGH order byte of timer count

Table 7.

Addressing

A 1-26

Sensor

Temperature

with

Kit

SDK-85

Detailed

20.

Figure

A1-27

Software
1

.

The software (at end of section) for this application illustrates

The user can not use the initial value of 1 to detect only
one pulse.

several features of the 8085A, such as the programming of

SOD line, interrupts and 8155 counter. Additionally, an
example of a block search routine is illustrated.

the

2.

The user can not discern (through reading the counter)
whether exactly one or two pulses on the timer input pin
has occurred if he loaded in an initial odd count (does not
apply to even). After three pulses the user can determine

Figure 21 is a flow diagram of the program. It has been cross

referenced with program lines to the actual software for the

exactly how many pulses occurred. Note that this restric-

reader’s convenience. Following through the flow diagram it

tion only applies to reading the counter, the TO pin pulses

is seen that the interrupts are disabled in the beginning as the
one shot is outputting a high level on its Q output and interrupt

what is read from the counter.

correctly after the correct number of pulses regardless of

pin 6.5 is high level sensitive. However, this high level will not

be recognized until the level goes low and then high again. If
the user would prefer a positive pulse interrupt the 8085A a
dual one shot can be used with one triggering the other, or
just a simple inverter. Starting and loading the counter is as
described in the 8155 data sheet with the Port addresses

The first pulse to the 8155/6 counter (high level sensitive)
loads the count length register, which says that the counter is
not readable

a pulse occurs.

If the user tries to read
provided he will read a previous or old
value. Now what is done with the value read?

until

before a pulse

being given in the previous Table (7). Code lines 18-23 repre-

is

sent placing the counter in the counter mode (single terminal

Good question. An adjustment routine to convert this value

count pulse at the end of count) and starting the count, having
the count clocked by the 8085A clock out pin. Reading the

read to an actual count can be summarized as follows:

counter is not as straight forward and will be approached
shortly. Code lines 28-32 are representative of programming

1.

the SOD line to output a pulse. This pin is intended for serial

2.

I/O interfaces such as a teletype, but as seen in this applica-

3.

Reset carry and rotate right all 16 bits through carry.

4.

If

tion,

it

can also be used as a single I/O port.

Read in 16 bit count length register.
Reset the upper two bits (mode bits).
carry is set add 1/2 of full original count (1/2 (full count

-1) if full count is odd).
After the pulse

is

presented to the one shot, the interrupts

enabled, the processor idles (lines 36, 37; Halt could have
In

just as easily been used) until interrupted. Through the design

the software for this application is a general purpose rou-

tine to do this; lines 179-199. To call this routine it is assumed

of this application it was known that the down counter would

that the lower order byte of the counter is in register C, higher
order byte in register B and full original count is In HL. Con-

never reach terminal count, as it is only being used as a pulse
to digital count converter.

tents of H, L, B and C are destroyed returning actual count
in

To read in the count value it is best that the counter is first

BC register pair. To obtain the number of pulses that

stopped. The least and most significant bytes of the count

occurred, subtract this number from full original count and

length register in the 8155 are read using the same port
addresses as was used during loading the counter, as seen
in code lines 42-47. If one looks at this value and knows how
many pulses occurred, he would come to the conclusion that
there is a gross discrepancy! The reason for this is that the
counter in the 8155/6 was designed to make its square wave
function generation easy and when used in the counter mode,
it counts by two’s. For this application (where length of time is
mapped into a temperature) and other similar event timing
applications it is imperative to have an intelligible count re-

add 1.
Converting this remaining count to an actual temperature can
be done by various methods but it was chosen to do a software map through the use of a block search routine. Table 8
presents approximations of what the remaining count should
be for each temperature. To keep the software simple it was
only necessary to compare the most significant byte to a list
to find the appropriate temperature. This search routine is set

up to find a “less than" match, incrementing the HL register
as a pointer when a compare is made. The code for this
search routine is in lines 118-144 and is optimized to be a fast
8 byte block search. This search routine can be made to
search for a match by replacing all return on carry with return
on zero. The performance of this subroutine is as follows:

turned from the 8155.

The counter in the 8155 is essentially a count down by 2
counter. After it counts down by 2 the initial value loaded by

the user, it reloads the initial count (initial count -1 if odd) and

counts down by 2 again until terminal count is reached. When
reading the counter, the least significant bit of the counter

does not represent the least significant bit of the count, but
which half of the countdown operation you are in. If this bit

Byte time = (11 + (166/8) N) CC/N = (11/N + 20.8) CC
where: CC = microseconds per clock cycle

equals 1, the 8155/6 counter is counting down by 2 in the first
half,
tion.

N = total number of bytes searched
Byte time = time per byte searched

and if is zero you are in the second half of the operaBecause of this method of down counting there are two
it

restrictions placed on

iis

use:

A 1-28

Figure 21. Temperature Sensor Flow Diagram

A 1-29

»HMn Hi

N
i

.

Jms:
^

!

*

jil-

1

Si f

8

—n

•

i

i-l-

!

J

i

plltlU \T

i

,

r

I
,

a

ih!

,

jis'.i

u

Cl

•

*- r;

)StfS*:scj%tfy

:

:J

*?: :‘.T*

a

|fS}?;Ur ?:»jSI?j;s*ISji5l5s5*=5£
>*•;:

Vr?** .-S' £?r??7z<2

*

•

1

‘

r.

.

*

.•«•*«««

>

srsi.-.fc'*’..-

3S888l8Sfi«588?c58§8g8SJ§3?|f8?«»)?89mgm8£SHgBS$g»m!i;H>iH?*3Sg8g;»

(HEX)

3FFE„

LEFT

366A

373A

35FA

WITH

384D

<

37D0

3585

3772

9Q9G

CO

393C
38F1

39C8

CO
CO

COUNT

3A0A

3984

tj-

<
CO

3ABC
3AF2

3B2C
3BB3

3A84

3B57

3B86

START

APPROX.

uT

E
(R

?i

"3 P
(,1/x)

3
— xo
h
^
(.7)

.874

.836

.764

o
h-

CM
CO

CD

66Z

CM

s

.614

CO

CO

s 3 s

in

<£>

05

s-

I

Tf

m

O)
CO

CM
.421

s
O CO

.373

8

CO

DC
Q.
Q.

<

Mapping

I
ns
Resistance

rOHMS

12,490

1
1

o

o

,940
THERMISTOR

CO

11,420

9,573
10,920

10,450

9,167

8,777

10.000

8,057

7,723

326

=
7,097

6,807

6,530

6,267

6,017

5,747

5,547

5,327

5,117

=

co'

Time
RtheRMISTOR

Time
(REXT)
Thermistor

Approx.

Cycle

(.1/i.)

C

8.

(CEXT)

20

cm

22

CO
CM

24

25

26

27

28

DEG.

29

30

^r-

co

8085A

32

33

34

35

36

37

38

39

40

(.7)

Oneshot

N2

L

—

A1-30

Table

«=

For an example with N = 256, CC = .32 /xsec at 3.125 MHz;
Byte time = 6.7 jisec. A match search routine with minimum

Once the count less than match is found in the application the
HL register has 10 added to which points at the correit

memory usage is given below:
Search

Cmp M

compare byte
return if match

RZ
INX H

else increment pointer

DCR C

has the entire
block been searched?
If so set no match flag

JNZ search

STC
RET
In this application, a user

A or Port B
tively (lines

and return.

may want to have several tempera-

ture ranges which can be swapped

in

and out with a block

move subroutine. Similar code can be developed for this as
shown below for a 4 byte move group:

BLKMV

Loop

LXI H, 000H

clear HL

DAD SP
SHLD SAVESP

save sP

move SP to HL

MOV H, B
MOV L, C

move Block move

SPHL

To SP

XCHG

Move Block move
address to HL

POP B
POP D

fetch four bytes from

MOV M, C

at destination

Source address

source store 1st byte

INX H

MOV M, B

2nd

INX H

MOV M, E

3rd

INX H

MOV M, D

4th

INX H

DCR A
JNZ Loop
LHLD SAVESP
SPHL
RET

it

sponding temperature (lines 79-82). This temperature is then
displayed in the address field of the SDK 85 display using
user available monitor routines. If the temperature is out of
range the code detects it (lines 69-74) and outputs I s on Port

check for end of
Block move
return old

SP
return

A1-31

if

the temperature was too low or too high respec-

101-105 'too low'' and lines 108-112 "too high

).

APPLICATION EXAMPLE 2
CRT INTERFACE
serial

Most microprocessor systems require some sort of
communications. This may be selected for

The algorithm for receiving serial code involves
sampling the incoming data at the middle of each

reasons of economy (to reduce the number of
interconnections required in a distributed system),

a serial

or

The eight sampled values are shifted into

bit time.

may be necessary in order to communicate

byte corresponding to the data originally

typewriters.

transmitted. The one-to-zero transition at the
beginning of each byte makes it possible to synchronize the sampling points relative to the start

These peripherals all use a standard convention for

of each data sequence.

transmitting serial ASCII code. Each data byte is

Hardware Interface

it

with such

common peripherals as CRT’s or tele-

transmitted as a series of 10 or 11

bits.

The uni-

zero “Start”

bit,

require

Since the
to

8 data bits (least significant bit

the

ASCII “space” character

be

compatible

inverted logic levels.

Software Package

The software needed to drive the CRT interface is
divided

into three parts. All three use software
timing and delay loops, with fixed and variable
parameters. In conjunction, they are able to

identify incoming signals at any rate

in

D2

03

interface

MCI 488 and MCI 489 circuits interface positive
TTL signals with the RS-232 high voltage

1

10 to over 9600 baud and respond

6 BITS

D|

RS-232C

logic

rate.

°0

the

achieving this buffering is shown in Figure 23. The

Figure 22.

START

with

standard used by most peripherals. A schematic for

and one or more stop bits (logic 1). An
11 -bit sequence with two stop bits is used for 110
baud TTY’s. The logic one level continues until the
start bit of the next byte to ensure that each 10-bit
sequence is initiated with a one-to-zero transition.
The 8 bits transferred might be raw binary data or
alphanumeric characters using the standard ASCII
code. In this case, the most significant bit — the
last data bit transmitted - will depend on the
parity convention being used. This sequence is
for

SOD line can drive only one TTL load,

additional current and voltage buffering is required

first),

illustrated

any serial communications system will
both hardware and software interfaces.

In general,

form time per bit corresponds to the data transmission rate. For example, if the transmission rate
is to be 2400 baud (2400 bits per second), each bit
time must be 1/2400 bps = 4 16.7 jisec/bit. The
standard 10-bit sequence consists of a logically

04

D6

BIT

D6

D7

STOP
BITS

Figure 22. ASCII Space Character

A1-32

from below
the same

at

Figure 23. RS-232C Interface Schematic

Upon power-up

or reset,

or

when

the

console

results

device baud rate is changed, the baud rate identifi-

result in

When

a

1 .

2.

parameters are computed which correspond to the
time and one-half the bit time of the baud rate

bit

the following

The software does not need to be modified
if the 8085 crystal frequency is changed or
Since the time base is no longer critical, the
quartz crystal could be replaced by a less
expensive RC network, provided the fre-

percent during a session. Additional drift can

be accommodated by periodically recalling

sole, the character code is placed in register C, and
is

in

quency does not drift by more than a few

being used. These are stored as variables BITTIME
and HALFBIT. To output a character to the conthe subroutine COUT

flexibility

Wait states are added.

of mistaken identification.)
character is received, two time

a case

space

additional

respects:

(BRID) is called. This routine
waits until an ASCII space character (20H) is
received from the console. (Any other character
cation subroutine

will

in

the BRID routine.

called. This routine uses
3.

BITTIME as a parameter for the software delay
loop which determines the baud rate. To accept r.
character from the keyboard, CIN is called. CIN

Communication is possible at non-standard
baud rates which relaxes the constraints on
system peripherals.

returns after the next key is typed, with the corresponding character code in register C. CIN uses
both parameters BITTIME and HALFBIT.

It

should be noted, though, that slowing down the

CPU clock will decrease its throughput proportionately. In addition, it will degrade the maximum
resolution of the delay loops, with the result that

Since

COUT and CIN

puted by BRID, they

same

the highest baud rates may no longer be achievable.

use time parameters comwill

function at a rate the

A more detailed analysis of the CRT interface

as that of the initial space character input.

routines will be presented in the order of increasing

Because of the nature of the software, the rate
does not depend on the CPU clock frequency. This

complexity: COUT, CIN, and BRID. Since SID and

A1-33

SOD are ideal for many applications which involve
critical

I/O timing, the timing techniques used here

may be of interest to software designers. Accordthe mathematical derivation of the timing
parameters is included in this analysis, as well as a

ingly,

BRID algorithm. The algebra
involved might be a bit too tedious for designers

justification for the

unconcerned with generating software delays. If so,
they (and other bored readers) have the freedom of
choice to skip over the sections they find objectionable.

OUTPUT ROUTINE
It

would seem natural to write data in the standard

format in three stages: output a zero start bit, then
the 8 data bits (using a loop sequence), then the
bits. Each stage would incorporate its own
appropriate delay and output sections, leading to
unnecessary duplication. Instead, the code below

stop

executes the same main loop 1 1 times. Its bit
manipulation routine inherently results in the correct data

sequence being formed.

It

accomplishes

by using the carry and C register as a 9-bit
pseudo-circular shift register. Initially CY=0. The
algorithm outputs CY, waits one bit time, sets
this

CY=1, and then rotates the pseudo-register right
one bit. This repeats for 1 cycles. On the tenth
and all subsequent loops, the output bit will be a
logical one, since that bit had been set nine loops

Figure 24. Data Serialization Algorithm

1

earlier while in the

CY (see Figure 24).

Get stuck in a loop for the appropriate time (don’t
worry for now how “BITTIME” is determined):

When COUT is called the registers to be used must
be preserved and interrupts disabled so the timing
loop will not be disrupted. Clear the CY in prepara-

LHLO

tion for outputting the start bit, and set the loop

counter for

1

1

CQ2

bits (if 1 10 baud will never be used,

the counter could be set to 10):
f:0HT

PUSH

P

PUSH

H

8 ITT IMF

DCF:

<ib
•

JNZ

CQ2

OCR

H

JNZ

C02

[•

»r0

Rotate the contents of register C right into the CY,

01

VpM

w

m

while moving a one into the left end. Continue

B, 11

until all bits have been transmitted:

Output of the contents of the CY:
STC
jVH

MV*T

SJH

The numbers in brackets indicate how many macine cycles are required for each instruction. They
be referred to in the timing analysis section.

<4>

NOy

ft.

C

<4>

MOV

C,ft

<4>

DCR

p

<4>

JNZ

001

<10/

m

PPP

will

*

•;r».

'a:

Restore processor status and return:

A 1-34

POP

H

pnp

p

Otherwise, continue. Rotate the data bit right into
register C, and repeat the cycle:

El

NOV

PF T

fl,C

<4>

C.fi

<4>

CI2

T0>

PhP

\4>

NOV

INPUT ROUTINE

HOP

The console input routine uses the opposite pro-

JHP

cedure; instead of moving a bit from register C to
the CY, then to A7, then to SOD, CIN loads a bit

(A

<4>

NOP is needed to make the COUT

loops exactly equal in number of machine cycles,
so that each can use the same delay parameter.)

from SID into A7, then moves it to CY, then into
register C.

Restore status and return.

First, set up the

CPU as before:

CIN

El

H

PUSH

h

POP

CI5

PET
[>!

e?

nvi

TIMING ANALYSIS

When a start bit transition arrives, the first sam-

COUT and CIN now need to be provided with

pling should not be taken until the middle of the
first data bit, one and one-half bit times after the

parameters for BITTIME and HALFBIT. It can be
seen from the above code that each routine uses
61 +D machine cycles per input or output bit,

Await the start bit transition, then set
up the delay parameter for one-half bit time:

transition.

where
four

CI1

PIN

OPP

H

JM

Cil

LKLC*

HRLFBIT

D is the number of cycles spent in either

line

delay segment.

If <H>

and <L> are the

H and L registers going into this

<4>

contents of the

<4>

section of code, then:

f"T%

D = 22 + «L) - 1) X

<16>

1

4 + «H> - 1 ) X

[(255 X 14) + 25]

Loop

time

one-half bit

for

sample data:
CI2

(1)

before starting to
If <H>”

dtp

1

<D>

JNZ

'•[>>

DCP

CI2
a

JNZ

CI2

s (H> -

1 ,

<L>’

= <L> -

and

1 ,

<HL>' * 256 <H>' + <L>'

(2)

then

D = 22 + 14 <L)' + 3595 <H>

<&>

(3)

This can be approximated by:

Wait until the middle of the next bit before sampling SID, then move the data bit into CY:
Cl 2

CI4

D = 22 + 14<HL>'

(4)

<i€>

LHLD

BITTIHE

DCP

L

(D>

i

JNZ

CI4

CD>

This approximation is exact for <H> = 0; otherwise,
is accurate to within 0.3%. Thus each loop of
it

DCP

H

<D>

COUT or CIN uses a total of:

JNZ

CI4

«-D>

PIN

<4>

PPL

<4>

C = 61+D = 83+14 <HL> machine cycles

(5)

Each machine cycle uses two crystal cycles in the

Decrement the

bit

counter.

If

this

is

the ninth

8085, so the resulting data rate is:

cycle, the 8 data bits are in register C, so quit (the
first

stop bit will already have been received, and

^ _ cycle frequency

be in CY):
(crystal frequency) +2

DCP

2

JZ

CIS

””

<4>

f

83 + 14 <HL>

<7>

A1-35

^

For a typical calculation, see the example below.

desired. This guarantees that at rates

up to 9600

baud, where each bit time is at least 104 jisec wide,

some value of BITTIME can be found which will

EXAMPLE

be accurate to within 2.2%.

To produce 2400 baud with the standard 6.144 MHz

BAUD RATE IDENTIFICATION ROUTINE

crystal

(6

=

2400

144X106) ^ 2

The function of BRID is to compute the appropri-

83+ 14 (HL>

ate parameters

BITTIME and HALFBIT. It accom-

plishes this by observing the data pattern received
,

4(HL)

.

± 2).„

,

when

the

space

bar

on the console

pressed

is

device. Since a space character has the ASCII code

20H = 00100000B, the pattern represented back in
Figure 4 is transmitted. Notice that the initial zero
5-

14 = 85.5

level is 6 bits wide. Suppose it could be determined

~ 86

that this corresponds to

M machine cycles. Then

#

(HL>

=

one

86jo = 0056H

= 0157H = BITTIME

the signal rise and
cision

X

to

machine

(M^*6)

down

dividing

a

space

times, or

fall

detecting the

in

two

any lack of pre-

will be
reduced by a factor of six. Since the bit period of

produce, substitute into equation (6):
6. 144

for

several bits long is so that any distortion caused by

To determine the true data rate this parameter will

Date Rate =

correspond

The reason

cycles.

(HL>

would

bit

10 6 t-2

transitions,

COUT and CIN is 83 + 14 (HL) BRID must gener-

83 + 14(86)

,

ate a value <HL> such that:

= 2387 baud, which is 0.54% slow.

M

For 9600 baud, the same calculations will yield <HL>
= 17, which is actually 0.3% slow; a sizzling 19200
baud or 38400 baud could each be generated to with5% if <HL> = 6 or 0! Table 9 presents the param-

6 = 83 4- 14 (HL)'

(HL)

in

= <M

(7)

*«- 83
(8 )

eters for several standard baud rates.

M

*

(HL)

Notice that the resolution of the delay algorithm —
difference between bit times resulting from
parameters which differ by one — is 14 machine

- g4

- 6

(approximately)

(9)

the

This value can be determined by setting register
pair HL to -6, then incrementing it once every 84

As a result, the true bit delay produced can
always manage to be within ±2.3 psec of the delay
cycles.

machine cycles during the period that the incom-

Table 9

DELAY PARAMETERS FOR STANDARD BAND RATES USING 6.144 MHz CRYSTAL
TARGET
BAUD
RATE
110
150

300
600

<HL> io

<hl>' 16

(See Text)

(See Text)

<HL> or

BITTIME

HALFBIT

(See Text)

1989
1457
726
360

07C5
05B1

02D6

40

0168
00B1
0056
0028

17

0011

6

0006

1200
2400
4800
9600

177

19200

86

08C6
06B2
03D7
0269

ACTUAL
BAUD RATE
PRODUCED

%

ERROR

04 E3

109.99

-0.006

03 D9

149.99

-0.005

026C
01A5

299.80

-0.068

599.65

-0.059
-0.039

01 B2

0159

1199.5

0157
0129

01 2C

2386.9

-0.547

0115

4777.6

-0.469

0112
0107

0109
0104

9570.1

-0.312

18395.2

-4.37

A 1-36

BITTIME is then obtained by
individually incrementing registers H and L. To
obtain HALFBIT, divide the value of <HL> detering signal

is

zero.

Otherwise continue. Store HL temporarily for the
HALFBIT calculation. Obtain and store BITTIME:
PUSH

mined above by two before incrementing each
register.

HL

to -6,
In order to implement this algorithm, set
then
one,
logic
verify that the incoming signal is a

wait for the start bit transition.
BPID

MVI

L

SHLD

BITTIME

0C0H

ft,

POP

H

RIM

MOV

ft.

OPft

ft

PRP

JP

BPIi

MOV

H. ft

MO**

ft.

LX I

BPI2

H

INP

Restore HL, calculate HALFBIT, and return:

SIM

BPIi

H

INP

m

H. -t-H

PIM
OPft

ft

POP

JM

BPI2

MOV

ft

H

L

L- ft

INP

H

Increment register pair HL, then delay so that each

inp

l

cycle will require 84 machine cycles:

SHLD

HRLFBIT

PET

mi
BP!4

NX

H

wv!

e,

DCP

E

JNZ

BP I

I

Check if SID is still low.

m

If so, repeat:

OPft

tp

The assembled listings for these subroutines, along

<4>

PIM
ft

mi

<4>

with a simple test program, is presented in the CRT

<ie>

and Cassette Code.

A 1-37

APPLICATION EXAMPLE 3
CASSETTE RECORDER INTERFACE
There are many situations where data has to be
transmitted through a non-ideal medium. To give

circuit is shown in Figure 26, using one LM324
quad op amp and a few standard value discrete
components which should be available in even a

three typical examples, a system with electrically
isolated elements might require that signals be

AC

digital design laboratory.

net-

cuitry is again used to detect the presence of a tone

work (such as telephone or radio) are greatly bandwidth limited, and some applications (such as a

burst. In Figure 26, A2 buffers the incoming signal,
and A3 inverts it. The peaks of these two signals

distributed network in an industrial environment)

are transmitted

coupled,

communications through an audio

through D1 or D2 and are filtered
by an RC network. Comparator A4 then squares
up the output and produces the logic signal read

must tolerate random electrical noise. Attempting
to record data on a cheap cassette recorder (the
one used for this note cost SI 7.00) will reveal all

by the SID pin. Since the op amps are powered by

of these shortcomings, plus one: The tape speed
fluctuates significantly and varies as the batteries
run down, hence the data rate is inconsistent.

the single 5-volt supply, a 2.0-volt reference level
is obtained
from a resistive voltage divider. The
waveforms present at several points in the circuit

are shown in Figure 27.

The recording scheme used here makes very few
demands on the transmission medium. It makes no

Software

attempt to transmit DC voltage levels. Instead, data
is

The algorithm for reading a data bit off the tape is
simple and straightforward: If the tone burst is
longer than the pause, the bit is a one. Otherwise,

transmitted by a series of variable length tone

bursts.

The dominant frequency of the tone used

can be selected to be within the passband of the
particular medium. Data is transmitted with each
bit

it

first

of

third

a

bit

burst, the middle third

is

period

is

a zero. Since only the time ratio is considered,

determination.

always a tone

either a tone burst con-

tinuous with the first or a pause corresponding to,
respectively, a

is

any variation in tape speed will not affect the data

composed of a tone burst followed by a pause.

The

On playback, analog cir-

one or zero, and the

final

third

VOLUME CONTROL

is

always a pause, as shown in Figure 25. Thus, data
is distinguished by the burst/pause ratio.

A question that arises with any audio cassette interis how to set the volume control. (Recording
level is usually determined internally.) When the playback level is correct, the logic signal output from A4

Hardware Design

have either a one-third or two-thirds duty cycle.
This can be readily observed with an oscilloscope. In
the field, an old-fashioned mechanical-type voltmeter

face

will

could he connected to the A4 output, and the volume

These tone bursts are obtained from the 8085 SOD
line,

adjusted until the meter needle hovered

using analog signal conditioning to eliminate

between 1/3 and 2/3 the high

the DC component of the waveform. (This low
frequency component is due to the single-ended
nature of the SOD line: it’s deviations from ground

volume settings (Since the quivering meter needle is
being used here for inertial signal averaging, a digital

voitmeter would not be very helpful in this applica-

positive, which unbalances the capacitive
input stage of the recorder.) A suggested interface

are

somewhere

output voltage.
With random data, the reading would be about 2
volts There will be a fairly wide range of acceptable
level

all

tion. )

A 1-38

Vot

JUUUUUUUUUL

UUUU

SOD OUTPUT
*

I

Figure 25. Tape interface Data Recording Scheme

0.001 *F

Figure 26.

One Chip Magnetic Tape Interface Schematic

J u

Rotate register C through CY:
MOV

fi.C

RRP

MOV

Move CY

to

the

C, ft

SOD enable bit position, A^.

A7 to one, and clear all other
Output a tone burst or space, depending on

Simultaneously set
bits.

the previous contents of CY:
(

RECORDING OR TRANSMISSION MEDIUM )

MV I

m

ft.OiH

RHP
CALL

BURST

Clear the accumulator, and output a space:

XRfi

h

CALL

BURST

Keep cycling until the full 9-bit sequence is finished

:

OCR

B

JNI

T01

RET

Figure 27. Analog Signal Waveforms

The

BURST

After the CRT software analysis, the tape routines

bit

A7

is

BURST is called, a square-wave tone burst
be transmitted. If A6 is not set, BURST

simply delays for exactly the same amount of time
respectively,

The three

output the

calls

used

are

If

bits

CYCNO should be an
A 6 is set upon calling BURST a

enPST

MV I

Bi.il

SIM
MVI

E, HALFCVt

<:?>

BU2

OCR

E

<4>

JH2

BUc

m

to,

output the
data burst/space, and create the space at the end of
each bit. Nine bits will be output: the eight data
initial

in-

will be created. Otherwise, the same
code sequence is followed but SOD does not
change - thus a space results.

times for each bit. If A6 (the SOD enable bit) is set

returning.

SIM

square-wave

OUTPUT ROUTINE
TAPEO calls a subroutine named BURST three

before

the

complemented.

even number.

recorder. TAPEIN reads 8 bits into register C.

will

executes

(HALFCYC) machine cycles. In between each SIM,

TAPEO is a subroutine for outputting the contents of register C to a cassette

are almost trivial.

when

subroutine

CYCNO times, at intervals of 29+14

struction

burst,

0 CVCNO

<?>

<4>

8BN

<7>

DCR

D

<4>

JNZ

BUI

RET

ae>

(LSB first) followed by a zero bit. The start of

the initial burst of the trailing zero

is

INPUT ROUTINE

needed to

mark the end of the final space of the preceding

TAPEIN uses a subroutine called BITIN to move
the data at the SID pin into the CY. The maximum

data bit.
Start each bit by outputting a tone burst:

rate at which

SID is read is limited by a delay loop

in BITIN.

TAPEO

MV I

TO!

MV!

fi>0C#H

Initialize the bit

CftLL

BURST

will

B -9

A 1-40

counter and the register D, which
keep track of the tone burst time. If a tone

burst

is

being received

when TAPEIN is called,

Continue until the last bit has been received:

wait until the burst is over:
TAPEIN:

Til:

m

B.-3
ft.

Til

F-ET

CALL

BITIN

JC

Til

CALL

BITIN

JC

Til

(Notice that the

incorporated

in

first

the second

BITIN waits a short time in order to regulate the
sampling rate, then reads SID and moves the data
bit into the

CY

CALL

BITIN

BITIN:

m

E, CKRATE

<?>

JMC

T 12

611:

OCR

E

<4>

CALL

BITIN

JNZ

311

JNC

TI2

PIM

<4>

RflL

<4>

RET

<10>

The

tone

<7/i*>

and

frequency

burst

duration,

and

determined by
the TAPEIN sampling rate
Tables 10 and
CKRATE.
HALFCYC, CYCNO, and
are

:

XT 3

OCR

D

CALL

BIT:*

JC

T \Z

CAU.

Pi TIN

JC

T12

1

[MR

D

CRL

3! TIN

JNC

TI4

CRL

81 TIN

JMC

114

give typical values.

Table 10

the next burst is received:
1 14

1

EXAMPLE COMBINATIONS OF HALFCYC AND CYCNO.
ALL VALUES IN DECIMAL

Now continue reading the SID pin, incrementing
the D register (back towards zero), each cycle until

APPROXIMATE
TONE
FREQUENCY

CORRESPONDING
HALFCYC
VALUE

500 Hz

217

kHz
2 kHz
5 kHz

108

1

10kHz

negative. If the space was longer,

4

20
10

100

CYCNO

50

CYC/BURST

42
83
166
414

17

3 3

bps

33
66

6.6

bps

13

bps

166

33

bps

826

330

66

bps

Table 1

D was incre-

MAXIMUM SAMPLING RATES

now positive. In
now correspond
will
D
of
bit
sign
the
words,
other

mented up through zero; it

RESULTING DATA RATE
8

53
20
9

Now, if the burst lasted longer than the space, D
was not incremented all the way back to zero; it is
is

FOR VARIOUS VALUES OF

CKRATE

would lead to each of these
results. Move the sign bit into the CY, then rotate

to the data bit that

it

is

the as-

fact,

In

half.

code.)

The next burst has now arrived. Keep reading the
SID pin, decrementing register D (thus making it
more negative), each cycle until the pause is

still

half of this subroutine

sembled listing included in the Appendix makes
use of this fact to eliminate 24 bytes of duplicated

Now await the start of the next burst:

detected

B

JN2

00H

MV I

(Throughout this subroutine, a level transition is
recognized only after it has been read once initially
and then verified on the next reading. This provides some degree of software noise immunity.)

TI2

NS

CKRATE
VALUE

into register C:
MOV

SAMPLING RATE
(INCLUDING

CALL & RET)

A,D

17.6

jusec

04

jusec

378

jusec

1

KnL

MOV

20
80

fi,C

RflR

MOV

250
C,P

MV1

A1-41

1

1.14 msec

The CRT and Cassette Code also includes a simple
block

record

calling

BLKRCD, HL must be set to the start of

routine

utilizing

TAPEO.

12V

-12V

Before

the desired

block, and the recorder turned on
manually. Successive bytes will be recorded until
the end of that page, i.e., until L is incremented to

The playback routine requires presetting
to the target address and turning on the recorder
zero.

HL

before PLAYBK is called. These routines incorpora long tone burst before each data block to
allow a recorder with Automatic Gain Control to

ate

stabilize before the data starts.

ADDITIONAL COMMENTS
The two design examples given so far were built up
using an SDK-85 System Design Kit. Both hardware interfaces were wire-wrapped on the ample
breadboarding area provided on the board. The
connections between SID and SOD and the on-

TTY interface were broken, so as not to

board

affect the 8085 I/O electrical characteristics.

The CRT interface was tested with a Beehive Mini-

Figure 28. Interfacing 8085 to Multiple Peripherals

Bee II Terminal in the full duplex mode at each of
14

its

possible

transmission

rates,

from 110 to

9600 baud. It was also checked out at 19200 baud

The software needed to support additional periphwould be simple and straightforward. A

using a Beehive B-100 terminal. In addition, the
software was exercised using an SBC 80/20 system
as

a

variable

baud

rate

erals

routine intended to dump a section of memory to
a paper tape punch, for example, would

character generator and

have

to store

An additional advantage to having software select-

eters corresponding to the paper tape punch rate,

communications rates is that it would be possible to communicate with several system periperals, each at its own preferred rate, without having
able

and then write a bit pattern to the output port
which would disable the console driver and enable
the punch (and perhaps a typewriter). After the
dump was over, the original time parameters and
driver status would be restored.

to duplicate hardware.

For example, the addition
7408 AND gate and an output port
(such as on the 8155) would make it possible to
use the same two RS-232 circuits to interface with
up to seven I/O devices (see Figure 28). Three of the
MCI 488 drivers have Enable inputs which can be
controlled by the output port. One AND gate can
of a

first

BITTIME and HALFBIT somewhere (perhaps on stack), load the variables with new param-

receiver.

single

As explained before, the BRID routine computed
on the fact that an ASCII

rate parameters based

“space” character resulted in a zero level 6 bits
long. Conceivably, some obscure peripherals might
produce a transient between successive zero bits.

be used to buffer the SOD line and drive the
MCI 488 Data inputs. The rest of the 7408 can be

(This might be the case, for example, if the signal

configured as a four input AND gate. This would
act as an inverted logic OR gate to reduce the four

was produced by mechanical rather than electronic

MCI 489 receiver outputs to a single line, which

means.) If so, the BRID algorithm used here probably would not work reliably. Once the two time

could be read by the SID. This assumes that only
one input device (CRT, PTR) at a time will be used
(which is usually the case in a non-time shared,

CIN could still be used. An alternate algorithm for

interactive

ROM (note the fifth and final R/S-I/O-M/D permu-

application),

devices are transmitting a

and

that

parameters

baud

unused
logic one level (which
the

were identified, though,

rate identification

COUT and

would require a table in

This table would contain a list of delay
parameters corresponding to the standard transmistation).

should also be the case).

A1-42

sion

rates,

as

computed

for the selected

frequency. Initialization would

crystal

require the oper-

ator to hit a specific key several times (usually the

“U” key, which generates a pattern of alternating
ones and zeros). The identification routine would
attempt to “read” this pattern at each baud rate,
in

turn, until

finding the rate at which the read

was successful.

components in the analog interface might also be
modified.

The two simple routines for recording and playing
back blocks of data were intended to illustrate one
way of using TAPEIN and TAPEO, and therefore

do not contain any provisions for error detection
or correction. Depending on the nature of a particular

The

cassette

interface

recorder used to develop the tape

was a Lloyd’s push-button model which

application,

routines

these

mented with parity

bit

could

be

aug-

or checksum comparison,

or an error correcting code technique.

1972. Empirical testing has indicated
that for this application, the quality of the cassette
cost SI 7 in

Funny things happen when recording and playing

recorder is less critical than the quality of the tape

back a page of RAM which includes the subroutine

other words, some 33£ cassettes were not
very reliable, even when used with more expensive

stack. Eventually,

recorders.

subroutine

When using a cassette at the beginning of a side,

instruction will then cause a jump to a place where

itself.

In

PLAYBK will start writing over

the data at the top of the stack, destroying the

traceback

sequence.

allow the tape to run for about 10 seconds until
the leader has passed before starting to write data.

you’d rather not be.

Otherwise, data will be lost to the leader.

the assembled listings for the

Depending on the recorder quality, the tone burst
frequency and duration can be optimized for
higher data rates by modifying HALFCYC and

tape interfaces discussed

The printout reproduced in the CRT Code includes

are

10 and 80 data samplings

made during a single

in

CRT and magnetic

this application note.

The object code produced was programmed into
an 8755 EPROM, which was installed in the expansion PROM socket of the SDK-85 board. Some
very minor differences exist between this listing
and the code segments presented earlier, which

CYCNO. If so, CKRATE should also be reduced,
so that between about

The next RET

(one-third width) tone

were written for maximum clarity.

burst. At greatly increased frequencies, some of the

A 1-43

Temperature Sensor Code

ASN88

FI TEST SRC N0D85

ISIS-12 8860/8885 MACRO ASSEMBLER,

V2 8

NODULE

PAGE

1

SOURCE STATEMENT

826

3 HXDSP

EQU

026CH

02B7

4 OUTPUT

EQU

02B7H

85F1

5 DELAY

EQU

05F1H

' EXPfW)
>€X TO DISPLAY* SDR MONITOR ROUTINE
/OUTPUT TO DISPLAY. SDK MONITOR ROUT DC
; DELAY
DISPLAY, SDK MONITOR ROUTINE

6 i
2000

7 ORG

tron

2888 iiC820

LXI

2803 F3

01

SP, 20C8H

;

INITIALIZE STACKPOINTER

•DISABLE INTERRUPTS

INITIALIZE COUNTER IN 8155 FOR COUNTDOWN NODE
MITN HIGtCST VALUE (3FFF)
2904 3EBF

18

NVI

2886 D325

19

OUT

25W

2088 3EFF

28

AVI

A/0FFH

LOAD COUNTER

A, 0BFH
•

200A D324

21

OUT

24H

280C 3EC8

22

NVI

A/0C8H

200E D320

23

OUT

20H

ADORESS FOR TOP HALF OF COUNTER
“

i

"

LONER HALF OF COUNTER

/COUNT DOWN MODE START

PULSE THE ONE SHOT WITH A POSITIVE GOING PULSE ON THE
SOD
OUTPUT PIN OF THE 8085

2010 3EC8

28

NVI

2012 38

29*

SIN
SIM

2013 3E48

30>

NVI

A/0C8H
/OUTPUT A HIGH ON SOD LINE

A/48H

2015 38

311

SIN
SIM

/OUTPUT A LON ON SOD LINE

2016 FB

321

El

ENABLE INTERRUPTSCAFTER PULSE)

201? 08

2818 C31?20

I

,

^

;

;

NPO

IDLE

f

WT1L ONESHOT INTERRUPTS THE RST 6 5 PIN ON TIC 8885
NOP
JMP

>

.

I

•

NPO

#

2016 3E40

42 CNTIJ

NVI

A/40H

281D D320

43

OUT

20H

201F D624

44

IN

24H

2021 4F

45

NOV

C,A

2022 DB25

46

IN

25H

/STOP COUNTER

•STORE LONER ORDER BYTE IN C

2024 47

47

NOV

B/A

2025 263F

48

NVI

H/3FH

2827 2EFF

49

NVI

L, 8FFH

•

IDLE UNTIL INTERRUPT

AFTER INTERRtFT, STOP COUNTER AND READ IN FINAL COUNT
FROM
8155. STORE IN REGISTER PAIR: BC

•STORE HIGHER ORDER BYTE IN B
/LOAD HL WITH FULL START COUNT

ADJUST THE COUNT VALUE IN REGISTER BC TO REPRESENT ACTUAL
COUNT (SEE TEXT FOR EXPLANATION)

A 1-44

Temperature Sensor Code (Cont’d)

ISIS-II 8888/8885 MACRO ASSEWLER,

LOC

OBJ

V2 0

PAGE

M0UJL£

2

SOURCE STATEMENT

SEQ

53 >

2829 CD6020

CALL

54

ADJUST

i

CONVERTS 8155 COUNT TO ACTUAL COUNT

55 ;
56

SETUP INITIALIZATION FOR SEARCH ROUTINE. ROUTINE LOOKS FOR TEffERATWE
SEARCH ONLV FOR UPPER HALF TO SIMPLIFY CODE

;

RANGE OF COUNT (SEE TEXT)

57
58
282C 2E90

59

HVI

L80H

SET fL TO BEGINNING OF SEARCH

282E 2620

60

MVI

H.20H

STRING IN MEMORY

2038 68

61

ORA

8

CLEAR CARRY FOR ROUTINE

2031 78

62

MOV

ft 8

PLACE B INTO ACCUMULATOR

2832 0E81

63

MVI

C,1H

SET TIMES THROUGH SEARCH

2834 0)9220

64

CALL

SEARCH

LOOKS FOR TEMP RANGE COUNT IS IN

65
66

CHECK IF SEARCH HAS SUCCESSFUL.

67

RANGE

IF NOT THEN OUTSIDE

ACCEPTABLE

68

DID L FIND LESS THAN AT
AT BEGINNING OF STRING9

2037 3E88

69

MVI

A,88H

2039 HD

70

XRA

L

203H CAAF28

71

JZ

TLOH

TEMP 8EL0N ALLOWED LIMITS, SET PORT A

2030 3E00

72

MVI

ft00H

203F B9

73

Clf>

C

DID C GET DECREMENTED 9
IF SO, SEARCH DID NOT FIND

2040 CHB820

74

JZ

THIGH

TEMP ABOVE LIMITS, SET PORI B

75

76

SOFTMARE MAP THE MATCH TO A TEMPERATURE IN DEGREES C 8Y ADDING

77

10 TO SEARCH ADDRESS

PLACE TEMPERATURE IN REGISTER E

78
2843 3E0R

79

HVI

A, 0flH

2845 85

80

ADD

L

2846 6F

81

MOV

LA

2047 5E

82

MOV

E,M

SHIFT H. BY 10 (SOFTWARE MAP)

,READ IN TEMPERATURE

83

85 i

SET UP INITIALIZATION FOR DISPLAYING TEMPERATURE USING SDK
MONITOR ROUTINES
FIRST EXPAND D€ REGISTER AND THEN DISPLAY

86

FOR DELAY PERIOD

84

;

#

87
2848 8680

88

HVI

B, 00H

2048 CD6C02

89

CALL

HXDSP

2840 3(00

90

MVI

ft06H

CLEAR DOT AT ADDRESS FIELD

;

>

CALL EXPAW)

OUTPUT TO SDK DISPLAY

204f CO6702

91

CALL

OUTPUT

,

2052 11FF00

92

LXI

D/0FFH

•SET DELAY PERIOD

2855 CDfl05

93

CALL

DELAY

,

2058 CF

94

RST

1

DISPLAY FOR DELAY PER I 00
SOFTWARE RESTART

95

96 >

SUBROUTINES

97 ;
208F

98

m

20RFH

99 i
100
208F 3E03

101 TLOH

HVI

A,03H

2861 0320

102

OUT

20H

2063 3EFF

103

MVI

A/0FFH

2085 0321

184

OUT

21H

2887 CF

185

RST

1

106
187

i

A 1-45

.SET PORT A AS i'S

Temperature Sensor Code (Cont’d)

ISIS-1 1 8888/8885 MACRO ASSEMBLER,

LOC

OBJ

SEC

V2 0

SOURCE STATEIWT

2868 3E03

108 THIGH

MVI

A, 83H

286A 0328

109

OUT

28H

286C 3EFF

110

MVI

A,0FFH

286E 0322

111

OUT

22H

28C0 CP

112

RST

1

113
114

2892

SET PORT B AS i'S

;

.

115 ORG
116

,

2892*

,

117 ;

2092 BE

118 SEARCH

CMP

2893 D6

119

RC

2894 23

n

128

INX

H

2895 BE

i 21

CMP

M

2896 D8

122

RC

2897 23

123

INX

H

2096 BE

124

CMP

M

2899 08

125

RC

209A 23

126

INX

H

289G 8E

127

CMP

H

209C 08

128

RC

2090 23

129

INX

H

28S€ BE

138

CMP

M

209F 08

131

RC

28A0 23

132

INX

H
n

28A1 BE

133

CMP

28A2 08

134

RC

28A3 23

135

m

H

2884 BE

136

CMP

M

28A5 08

137

RC

2886 23

08

INX

H

2687 BE

139

CMP

M

2888 08

140

Rt

,ELSE INCREMENT POINTER
COMPARE 2ND BYTE
i

;CO*>ARE 3RD BVTE

2089 23

141

INX

H

2888 00

142

OCR

C

28A6 C29220

143

JNZ

SEARCH

28AE C9

144

RET

i

COMPARE 4TH 8YTE

;

COMPARE 5TH BVTE

i

COMPARE 6TH BVTE

•

CCffARE 7TH BVTE

,

COMPARE 8TH BVTE

-HAS ENTIRE BLOCK" BEEN

SEAROGP IF SO SET NO
-LESS THAN AND RETURN

RESTART 6 5 Jiff HOORESS
'

bEARCH COMPARE DATA STRING

A 1-46

Temperature Sensor Code (Cont’d)
NOOULE

ISIS-II 8088/8885 NACRO ASSEfCLER/ V2 8

LOC

163

-

35H, 36R 37W, 38ti 39H, 3flH> 38H, 3CH

DB

164

2088 35

4

SOURCE STHTEitNT

SEO

OBJ

PAGE

2081 36

2082 3?
2083 38
2884 39

2085 38
2886 38
2087 3C
165 /
166

SOFTWARE NAP TO TENPERATURE

/

167 ,

2088H

168 ORG

2088

169 ,
170

,

21H, 23R 25H, 28H, 31H, 35R 39H

DB

171

2888 21

288C 23
208D 25
288E 28
208F 31

2090 35
2091 39
172 ,
173 ,

2860H

174 ORG

2068

175

i

176 ;

SUBROUTINE ADJUST FOR COUNT IN 8155

177 ,
178

;

LOAD ACCUMULATOR WITH UPPER HALF
-RESET UPPER TWO BITS/ CLEAR CARRY

2068 78

179 ADJUST

NOV

A/B

2061 E63F

188

AN I

3FH

2063 IF

181

RAR

2064 47

182

NOV

B. A

2065 79

183

NOV

A/C

•LOAD ACCUMULATOR WITH LOWER HALF

2066 IF

184

RAR

2067 4f

185

NOV

C,A

i

2868 D0

186

RNC

2069 3F

187

CMC

296A 7C

188

NOV

2068 IF

189

RAR

206C 67

198

NOV

H/A

OK HALF (FULL COUNT-1). WHICH

2060 7D

191

NOV

A.L

IS CORRECT

286E IF

192

RAR

206F 6F

193

NOV

LA

2070 89

194

DAD

6

.DOUBLE PRECISION ADO

2071 44

195

NOV

B/H

RESTORE BC REGISTERS WITH COUNT

2072 4D

196

NOV

C,L

2073 C9

197
198

.

ROTATE RIGHT THOUGH CARRY

,

STORE SHIFTED VALUE BACX IN 8

•

/ROTATE WITH CARRY RIGHT

STORE SHIFTED VALUE IN C
0
1ST HALF OR SECOND IF SECOND RETURN

;

/CLEAR CARRY
A,H

OBTAIN OK HALF OF FULL COUNT

•

IF

,

K IS ODD THIS CONTAINS

RET
,

199 i

END

208

P16LIC SYMBOLS

EXTERNAL SYMBOLS

USER SYMBOLS

AD JUST A 2068

C-NTU

A 281b

THIGH

TLOW

A 20HF

ft

2888

ASSEMBLY COMPLETE/

DELAY

PAGE

NOOULE

ISIS-II 8888 8085 NMCRu ASSEMBLER- V2 8

A 05F1

HXDSP

A 026C

NO ERRORS

A 1-47

5

NPO

ft

2817

OUTPUT ft 8287

SEARCH A 2092

CRT and Cassette Code
ISIS— 1 1 3660/3685 ASSEMBLER,

LOC

OPT

SEO

L,

1 8

PAGE

2SJPCE -TftTEHENT
6 f

H0O65 TITLE •‘•*'6685 SERIAL I/O NOTE APPENDIX*

A 1-48

i

CRT and Cassette Code (Cont’d)
PAGE

MODULE

VI 9

ISIS-! I 3030/9085 ASSEMBLER.

2

3935 SEP 31 i/Q NOTE APPENDIX
I

LOC

SOURCE STATEMENT

OBJ

THE FOLLOWING PROGRAMS AND SUBROUTINES ARE DESCRIBED IN DETAIL
IN INTEL COPPEPAT ION'S APPLICATION NOTE AP-29. "USING THE 8085
THE PIPS! SECTION IS A GENERAL PURPOSE CRT
INTERFACE WITH AUTOMATIC BOUE> RATE IDENTIFICATION; THE SECOND
SFC T U0N IS A MAGNETIC TAPE INTERFACE FOR STORING DATA ON CASSETTE

SERIAL I/C LINES"

THE CODE PPESEMTED HERE IS OPIGINED AT LOCATION 80OH.
AND MIGHT RE PART OF AN EXPANSION PROM IN AN INTEL SDK-85

TAPES

S VS TEN

DESIGN KIT

20C8

12 BITTIME EQU

20C8H

29CB

14 HPLFBIT EQU

28CRH

ADDRESS OF STORAGE FOR COMPUTED BIT DELAY
ADDRESS Cf STOPAGE FOR HALF BIT DELAY

;

DATA BITS PUT OUT (INCLUDING TWO STOP BITS)

antic

15 8JTS0

EQU

11

;

0009

16 BITSI

EQU

9

;DATA BITS TO BE RELIEVED < INCLUDING ONE STOP BIT)

0900

18

0R6

806H

;

i

STARTING ADDRESS OF SDK-85 EXPANSION PROM

10

WHEN CALLED- AWAITS THE SPACE BAR BEING PRESSED ON
HND THEN RESPONDS WITH 8 DRTR PRTE VERIFICRTION
THERE hFTFP. CHARACTERS TYPED ON THE KEYBOARD ARE ECHOED
HESS ROE
WHEN A BREA*' KEY IS T'VPED- THE ROUTINE IS
TUBE.
DISPLAY
•ON THE

20 j CRTTST CRT INTERFACE TEST
THE SYSTEM CONSOLE.
21
;

22
22
24

:

i

CRT.
RE-STARTED. ftLLC+iING A DIFFERENT BAUD RATE TO BE SELECTED ON TrC

:

0800 21C920

25 CPTT 6 T- LX I

5P, 200

0802 2EC0

26 CRT!

MYI

R, 0C8H

..SOD

0805 2£

27

SIM

0800 Ct‘iA08

28

CRLL

BPID

,

0809 CD470S

29

CRLL

SIGMON

•OUTPUT FIGNON MESSAGE AT PATE DETECTED

99PH2

20 ECHO

CRLL

CIM

21

MOV

R.C

CD 8 R88

09PF 79

0810 87
0811 CP02 B 8

j?

P

;

CRT1

;

0814 CD6998

25

CALL

0817 C20C08

26

IMP

ECHO

;

29

j

49

;

41

;

BP ID

BAUD'

CHECK IF CHARACTER HAS A CBREAKX
IF SO- RE— IDENTIFY DATA RATE

'.ASCII

O0H)

,

THIS ALLOWS ANOTHER RATE TO BE SELECTED ON CRT

.

OTHERWISE COPY REGISTER C TO THE SCREEN

;

'CONTINUE INDEFINITELY 'UNTIL BREAK..'

RATE IDENTIFICATION SUBROUTINE

EXPECTS R XR> (ASCII

20H;.

TO BE RELIEVED FROM THE CONSOLE

THE LENGTH OF THE INITIAL ZERO LEVEL (SIX BITS HIDE) IS MEASURED
IN ORDER T 0 DETERMINE THE DATA PATE FOP FUTURE COMMUNICATIONS.

PIN

42 BRIO

081 fl 20

READ NEXT KEYSTROKE INTO REGISTER C

•

JZ

COU T

28

IDENTIFY DATA PATE USED BY TEPMINAL

r»PH

24

MUST BE HIGH BETWEEN CHARACTERS

VERIFY THAT THE "ONE" LEVEL HAS BEEN ESTABLISHED

-

;\ AS THE CRT IS POWERING UP

OPR

R

44

JP

BPID

081F 20

45 PPil

PIN

0829 87

46

OPR

0821 FR1F98

47

JM

PPI 1

;

0824 21FfiFF

48

IX

H> -6

.BIAS COUNTER USED IN DETERMINING ZERO DURATION

49 PR

*

9827 1E04

MVI

E.04H

082*9 ID

50 BPI4-

DCR

p

882R C22908

51

JN2

BP 14

082D 22

52

INK

H

082E 29

52

PIH

0818 87
081C F21

m

42

2

MONITOR SID LINE STATUS

.

R

LOOP UNTIL START BIT IS RELIEVED

.52 MACHINE CYCLE C£LAV LOOP

.

INCREMENT COUNTER EVERY 84 CYCLES WHILE SID IS LOW

A1-49

CRT and Cassette Code (Cont’d)
ISI5-II

sese.'®^ ASSEMBLER-

8035 SFPIAL

I

Ti

U1 A

NOTE APPENDIX

SOURCE STATEMENT

882F e?

54

m

9339 F227B8

55

?p

6RI2

9333 E5

57

PUSH

H

ft

56

'hl: now corresponds to incoming data rate
:SAVE COUNT FOP HALFPIT TINE COMPUTATION

0$i4 24

58

IMP

v

;

0825 2C

59

I NR

L

;

BITTIME IS DETERMINED GV INCREMENTING
\ H AND L INDIVIDUALLY

983? 22C829

60

SHLD

BITTIME

092? El

61

POP

H

082ft B7

62

QPfi

P

•CLEAR CARRY

ROTATE RIGHT EXTENDED <!HL>

•

0826 7

62

MOV

A.H

082C IF

64

0830 37

65

PR*
M0W

H

ft

ft'

L

082E 70

66

MOV

083F IF

67

PRP

T 0 DIVIDE COtJNT BY
2

0840 fJF

68

m<

0341 24

69

IMP

H

6842 20

70

IMP

L

0943 22C020

71

EHLO

HALFPIT

0848 09

7?

PET

74
rc

0847 215588

>' SIGMON

l>*i

0840 4E

77 SI

MOV

0346 hF

"*p

C

79

OPfi

86

RZ
CftLL

82

0852 024008

p“;

0855 00

C

A

9340 08

31

•

PUT H AND L IN PROPER FORMAT Flip DELAV
\ SEGMENTS

( INCREMENT

EfiCH>

SAVE AS HALFWIT TIME DELAV PARAMETER

i

H STRNG i LOAD START OF SIGN-ON MESSAGE

m

084C 61

034E 006908

L.R

SIGMON WRITES A SIGN-ON MESSAGE TO THE CRT AT WHAT SHOULD BE THE CORRECT
IF THE MESSAGE IS UNINTELLIGIBLE
well, so it goes

f

9851 22

RESTORE COUNT FOP HALFEIT DETERMINATION

m

M

GET NEXT CHARACTER

,

CLEAR ACCUMULATOR
,

COUT

CHECK IF -CHARACTER IS END OF STRING
RETURN IF SIGN-ON COMPLETE
ELSE OUTPUT CHARACTER TO CPT

K

,

INDEX POINTER

JHP

SI

i

ECHO NEXT CHARACTER

85 STRN6

06

0OH0AH

36

06

97

oe

0DH/0AH

38

oe

00H

94

IRXLFI

0958 00
0857 42415544

eftUO PftTE

CHECK

0856 20524154
095F 45204248
0867 454 24B

0366 90

•

<CRXLF>

•

END-OF-STRING ESCAPE CODE

0867 8ft
0868 00

8?
96
91

0869 F2

;

COUT

:

CONSOLE OUTPUT SUBROUTINE

WRITES THE CONTENTS Cf THE C REGISTER TO THE CRT DISPLAV SCREEN

92 COUT

01

05

97

PUSH

6

8866 E5

94

PUSH

H

086ft

6860 0606

qp,

MV I

B.PITSO -SET NUMBER Cf BITS TO BE TRANSMITTED

086E ftF

96

;:pfl

A

.CLEAR: CARRY

986F 2E88

97 001
ip

M'-I

A. S6H

,

8871 IF

PRP

;

9872 70

99

SIM

8872 2ftC820

100

LHLD

PITTIME

0876 20

101 C02

DOR

L

;

SET WHAT WILL BECOME SOD ENABLE BIT
MOVE CARRY INTO SOI- DATA BIT OF ACC

OUTPUT CATS BIT TO SOD
WAIT UNTIL APPROPRIATE TIME HAS PASSED

A1-50

1

CRT and Cassette Code (Cont’d)
ISIS-II 8080/8085 ASSEMBLER

p

NODULE

VI 0

8085 SERIAL I/O NOTE APPENDIX

OBJ

SEG

SXIRCE STATEMENT

0877 C27608

102

JN2

C02

087ft 25

102

DCP

H

e87B C27608

104

JNZ

C02

087E 27

105

STC

087F 79

106

MOV

9380 IF

107

PRR

LX

SET WHAT WILL EVENTUALLY BECOME A STOP BIT

,

A.C

0891 4F

108

MOV

e,fi

0882 85

109

DOR

e

0882 C2F08

110

JNZ

C01

0886 El

in

POP

H

0887 Cl

112

pop

e

0888 FB

112

EI

0989 C?

114

PET

;

ROTATE CHARACTER RIGHT ONE BIT,
\ MOVING NEXT DATA BIT INTO CARRY

;

CHECK IF CHARACTER (AND STOP BIT(S)) DONE

;

RESTORE STATUS AND RETURN

;

OUTPUT CURRENT CARRY

IF NOT

115

116

;

117

;

CONSOL INPUT SUBROUTINE WAITS EX A KEYSTROKE AND

CIN

RETURNS WITA 8 BITS IN REG C.

083R F2

118 CIN

D!

0338 E5

119

PUSH

088C Ar‘0?

129

MV I

088E 20

121 Oil

PIM

088F B7

122

OPR

8

0898 FR8E08

122

JM

cu

0892 2R CR20

124

LHLD

HALFBIT

0396 2D

125 C 12

CCF

L

126

JHZ

T9
f
wiw

089R 25

127

DCR

H

0398 C29F09

12p

JNZ

C!2

099E 2RC828

129 CI2

LHLD

BIHIME -WAIT XT BIT TIME

08R1 2D

129 CI4

DCR

l_

0SR2 C2R109

121

JNZ

CI4

09R5 25

122
A 77

DC 0

H

JHZ

CI4

03°9 28

124

RIM

:

03RR 17

125

PRL

,DPTfi BIT IN CY

08R8 05

126

DCF

F

08RC CR8E08

127

17

03RF 79

123

m

CIS

039

7

029688

83ft6 C 28183

u
B.

BITSI

:

WAIT UNTIL MIDDLE OF START BIT

CHECK SID LINE LEVEL

DETERMINE IF THIS IS FIRST STOP BIT
IF SO, JUMP OUT OF LOOP
ELSE ROTATE INTO PARTIAL CHARACTER IN C
ACC HOlDS UPDATED CHARACTER

;

A,C

1*0

PfjC

0881 4F

MOV

W

141

fge

a op* f"9FR8

142

TMC

riT

98B6 El

142 CI5

POP

H

0887 FE

144

EI

0388 C?

145

PET

0882

WAIT FOP SYNC BIT TRANSITION

;

148

0380 IF

DATA BITS TO BE READ (LAST RETURNED IN CY)

:

1

c.

ft

SOCIALIZES CeUT AND CIN LOOP TIMES

CHRPRCTEP COMPLETE

;

146

YtftYfYY Y YY f Ytt * YY' f YYYY'YY •rYYtYYYYf+Y f Y* YY tTY f Y Y Y Y Yt Y+Y Y f

|4?

1

f YYYYYY YY-YtYt YY

148

149
150

,

.

THE FOLLOWING CODE IS USED BY THE CftSSETTE INTERFRCE.
T
SU£ROli INEf

T

ftp£0

RND

T

ftPEIN KPE USED

PESFECTIVELV

151

TO OUTPUT np RECEIVE RN EIGHT BIT BV7E OF DPT ft.

152

MQij.c THE

0010

152 CVCNO

FQII

it.

R01E

154 HALFfYC FOU

70

DRTR IN EITHER CRSE
.

REGISTERS

ft.-

B..

REGISTER C

iC hRE RLL DESTROVED.

TWICE THE NuHBER of cycles PER tone burst

DETERMINES TONE FREQUENCY

A 1-51

CRT and Cassette Code (Cont’d)
ISIS- i I 3PSB/S085 ASSEMBLER

8085 SERIAL
LOC

1,10

09 J

VI 9

MODULE

PAGE

NOTE ARPENDIK

SOURCE STATEMENT

SE;1

*1^

0816

155 tfRRTE

ECU

00Tfc

IK LEPDEP

E0U

250

NUMBER Of SUCCESIVE TONE BURSTS COMPRISING LEADER

157 LffCHf

E0U

250

USED IN PLfiVfK TO VERIFY PRESENCE OF LEADER

80Ffi

JETS SAMPLE RATE

,

159

•XIT P*jTS A VERY LONG TONE BURST
LEADER.' TIMES
T
HE NOPMRL BURST DURATION) TO ALLOW RECORDER ELECTRONICS

159 :8LKPC0

1

180
161

162

ANT.

hGC TO STABILIZE

THEN OUTPUTS THE REMAINDER Of THE
PAGE POINTED TO BY CMC, STARTING AT BYTE <L>

2% PVTI

•

09P? 9EFR

182 BLlPCO

Mvi

£ UMBER; SET UP L£RC€R burst length

0366 2EC3

164

MV I

ft,

0860 CDF008

165 6*1

CPU

BURST
r

0C8H

i

?ET ACCUMULATOR TO RESULT IN TONE BURST

;

OUTPUT TONE

•

SUSTAIN LEADER TONE

08C0 0D

166

DCP

08C1 C2BD08

167

JNZ

BW

0PC4 RF

169

VPR

R

08C5 CDF003

169

OREL

BURST

08C8 4E

170 BP2

MOV

C

89C? C0D188

171

CRLL

TRPEO

;

OUTPUT REGISTER C TO RECORDER

08CC 2C

172

!T4F

j_

;

POINT TO NEXT BYTE

08CO C2C803

1

77

JNZ

BR2

0808 C9

174

PET

CLEAR ACCUMULATOR £ OUTPUT SPACE- SO THAT
START OF FIRST DATA E'YTE CAN BE DETECTED

:

M

•GET DATA BYTE TO BE RECORDED

AFTER BLOCK IS COMPLETE

175

176
177

;

TflPEO

OUTPUTS THE BYTE IN REGISTER C TO THE RECORDER.

179

8801 F3

REGISTERS R 8.C D,«E RRE RLL USED.

17? TRPEO

01

0802 05

180

PUSH

D

0802 0809

181

MVi

E, 9

0805 RF

182 TCI

vpp

08D6 2EC0

182

m

a

0808 erf008

194

cm

BURST

0808 79

185

MOV

c r

08K IF

I0£
AW

pff>
"rTi.

4F

187
1 pc

MOV

t\ft

CARRY hlLL BECOME SOD ENABLE IN BURST ROUTINE

MV I

R.01H

•SET BIT TO 8? REPEATEDLY COMPLEMENTED IN BURST

08E0 IF

l Oft

RRP

08E1 IF

190

PRF*

08E2 CDF008

191

BURST

;

OUTPUT EITHER A TONE OR A PAUSE

08E5 RF

192

CRLL
VDu

ft

;

CLEAR ACCUMULATOR

0SE6 CDF 009

19?

CRLL

00E9 05

194

OCR

080*0

08DE 2E01

#

HILL RESULT IN 8 DATA BITS AND ONE STOP BIT

•

CLEAR ACCUMULATOR

,

R. 9C0H

08ER 020*508

195

JNZ

TOl

196.

POP

D

08EE FB

197

El

199:

PFT

SET ACCUMULATOR TO CAUSE A TONE BURST

.

MOVE NEXT DATA SIT INTO THE CARRY

BURST
p

08ED 01
08EF C9

•WE USED AS COUNTERS BY SUBROUTINE BURST

OUTPUT PAUSE

•

..REPEAT UNTIL BYTE FINISHED

RESTORE STATUS AND RETURN

.

199

08F0 1610

200 BURST.

08F2 28

201 BUI

MV I
CJM

D, CVCNO

EHRLFCVC

SET NUMBER OF CYCLES

:

COMPLEMENT SOB LINE IF SOD ENABLE BIT SET

>

08F2 1E1E

202

MV I

08F5 ID

202 PU2

OCR

E

08F6 C2F9N

204

JNZ

BU2

08F? EE89

205

XPI

80H

08FB 15

206

DCP

D

09FC C2F289

207

JNZ

BUI

:

REGULATE TONE FREQUENCY

J

COMPLEMENT SOD DATA BIT IN ACCUMULATOR

;

CONTINUE UNTIL BURST

A1-52
L

(OOP

EQUIVILENT PAUSE) FINISHED

CRT and Cassette Code (Cont’d)
ISIS— II 8080/8085 ASSEMBLER.

p

MODULE

VI 9

9085 SERIAL I/O NOTE APPENDIX

oej

SEO

08FF C9

208

loc

SSOURCE

STATEMENT

PET

209
210

212

WHITS FOR THE LONG LEADER BURST TO ARRIVE, THEN CONTINUE*
READING BVTES FROM THE RECORDER AND STORING THEN

PLRVBK

;

211

.

IN NEHOPV STARTING AT LOCATION <HL>.

;

212 ;

CONTINUES UNTIL THE END OF THE CURRENT PAGE «L>=0FFH> IS REACHED.
<LDRCHK> SUCCESSIVE HIGHS MUST BE READ
c,
“'•'I
TO VERIFY THAT THE LEADER IS PRESENT
; V
BITIN
CALI

mm

0909 0EFA

214 pl pvbk

0982 CD2D09

215 pei

0905 D20909

216

JNC

pla

0968 0D

217

OCR

C

0909 C20209

218

JNZ

FBI

090C CD1509

219 PB2:

CALL

TAPEIN

090F 71

229

MOV

M,C

0910 2C

221

IMP

L

0911 C20C09

222

JNZ

PB2

8914 C9

222

PET

1

m

;

\ AND ELECTRONICS HAS STABILIZED

GET DATA BVTE FROM RECORDER

.

STORE IN MEMORY

.

INCREMENT POINTER
REPEP t for rest of CURRENT PAGE

,

224

225

:

TAPE IN CASSETTE TAPE INPUT SUBROUTINE

READS ONE BVTE OF DATA

0919 15

FROM THE PECOPt'ER INTERFRCE AND RETURNS WITH THE BVTE IN REGISTER
D, 0
•READ EIGHT D*TA BITS
227 TAPEIN: MVI
CLEAR UP. 'DOWN COUNTER
0, 00H
MVI
228 Til:
T
DECREMENT COUNTER EACH TIME ONE LEVEL IS READ
V
OCR
229 !2:

091A

226 ;

0915 9609
9917 1600

mm

;

BITIN

220

CALL

0910 DR1909

221

JC

TI2

0929 CD2D09

222

CALL

BITIN

0922 001909

222

JC

TI2

9926 14

224 TI2.

INP

D

9927

225

CALL

BITIN

226

JNC

TI2

CALL

BITIN

mm

092 A D22609

i

092D CD2D09

227

0920 D22609

228

JNC

TI2

9922 7R

229

MOV

A- D

9924 17

240

PAL

0925 79

241

MOV

0926 IF

242

PAP

0927 4F

242

MOV

C, A

0928 05

244

OCR

e

0929 C21709

245

JNZ

TIi

092C C9

246

PET

REPEAT IF STILL AT ONE LEVEL

;

;

INCREMENT COUNTER EACH TIME ZERO IS READ

:

REPEAT EACH Tll€ ZEFO IS READ

MOVE COUNTER MOST SIGNIFICANT BIT INTO CARRY
fl,C
.

MOVE DATA BIT RELIEVED CCV- INTO BYTE REGISTER

;

REPEAT UNTIL FULL BVTE ASSEMBLED

247
E, CKPATE

9920 1E16

248 eiTIN:

MVI

092F 10

249 Bll

OCR

E

9940 C22F99

258

JNZ

eu

9942 20

251

RIM

;

.MOVE DATA INTO CV BIT

0944 17

252

RAL

6945 C9

252

PET

LIMIT INPUT SAMPLING PATE
SAMPLE SID LINE

254
255

ENO

PUBLIC SVM60LS

A1-53

r

r

CRT and Cassette Code (Cont’d)
ISIS- II 8030/9085 ASSEMBLER,

8085 SEP I,hL

j

.

Tr

VI m

MODULE

PAGE

7

NOTE APPENDIX

EXTEPNRL SVMB0L5

r

U. EP

SVHBCLS

511

m

0??5

pit ;n

a npjo

PIT: I

H 900?

BUSO

A 0008

BITTIP!

ft

20C8

BLKRCD ft 0888

Bfci

R

s o?c?

gpn

ft

agif

5‘PIZ

9,

082?

BPI4

0 982?

BP It-

ft

081ft

8U1

ft

06F2

BUS

ft

ft

0886

ft

0880
8BF5

BURST

ft

98F0

CM

ft

088E

Cl 2

fl

CIS

A 083E

CI4

ft

08fil

CIS

CIN

R 0S8A

CKPftTE

ft

0016

C01

ft

086F

002

H 08 rs

COLiT

A 0889

CRT!

ft

0802

CRHST ft O80O

CVCNO

fl

LC'RCHK R 06FR

LEftCER

ft

OOFft

Pel

ft

0802

PB2

R 0?0C

sTPWG

TAPE IN ft 0?i5

TflPEG

ft

08Di

TIi

fl

echo

ft

080-:

HftLFpi ft.aecft

HflLFCV

ri

0010

PlftVBK

ft

090e

Si

ft

Oft-Ift

SIGNON 8 084?

TI2

ft

081?

TI!

ft

*926

??t

ftSJENPLV COMPLETE.

h 08[?5

NO EPPOP’T'

A 1-54

R 0855

0010

0917

CRT and Cassette Code (Cont’d)
ISIS-II ASSEMBLER SVMBOL CROSS REFERENCE

Rli

249#

259

BITIN

215

229

eirsi

It#

120

BITSO

15#

95

BITTIM

12#

60

BLKRCD

162#

BR1

1651

167

BR2

179#

172

BPU

45#

47

bri7

49#

55

BRI4

50#

51

BP ID

28

42#

BUI

201#

207
204

BU2

282#

BURST

165

169

CI1

121#

122

CI2

125#

126

cn

12?#

142

CI4

120#

121

CI5

127

142#

C!N

20

119#

CFRATE

155#

248

COi

97#

110

032

101#

102

COUT

25

91

CPT1

26#

.-J-

272

225

T*7

248#

191

192

200 #

108

44

184

128

122

104

92#

CPTTST

25#

CVCNO

152#

200

ECHO

20#

76

HRLFBI

14#

71

HflLFCV

154#

202

LDRCHK

157#

214

LEADER

156#

167

FBI

215#

218

P82

219#

222

PLftVBK

214#

216

SI

77#

82

U
i

29

76#

STRNG

76

85#

TAPEIN

219

227#

TAPED

l?i

179#

TIi

ww‘_ *

245

TI2

229#

221

777

TI2

274#

226

228

T01

192#

195

i

VI. 8

124

CROSS REFERENCE COMPLETE

A 1-55

RAGE

1

